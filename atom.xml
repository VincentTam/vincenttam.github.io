<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Blog 1]]></title>
  <link href="http://vincenttam.github.io/atom.xml" rel="self"/>
  <link href="http://vincenttam.github.io/"/>
  <updated>2015-03-08T20:57:22+08:00</updated>
  <id>http://vincenttam.github.io/</id>
  <author>
    <name><![CDATA[Vincent Tam]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    
      <title type="html"><![CDATA[Another Jekyll Error]]></title>
      <link href="http://vincenttam.github.io/blog/2015/03/08/another-jekyll-error/"/>
    
    <updated>2015-03-08T17:08:53+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/03/08/another-jekyll-error</id>
    
      <content type="html"><![CDATA[<h2 id="problem">Problem</h2>

<p>Markdown encountered an error when I ran <code>rake generate</code>.</p>

<pre class="cliUB"><code>$ rake generate &amp;&amp; rake preview
## Generating Site with Jekyll
    write source/stylesheets/screen.css
Configuration file: /home/owner/octopress/_config.yml
            Source: source
       Destination: public
      Generating... 
  Conversion error: Jekyll::Converters::Markdown encountered an error while conv
erting '_posts/2014-01-31-comparison-of-latexs-quote-and-quotation-environments.
markdown/#excerpt':
                    "\xC2" from ASCII-8BIT to UTF-8
jekyll 2.5.3 | Error:  "\xC2" from ASCII-8BIT to UTF-8
Starting to watch source with Jekyll and Compass. Starting Rack on port 4000
Configuration file: /home/owner/octopress/_config.yml
[2015-03-08 15:49:51] INFO  WEBrick 1.3.1
[2015-03-08 15:49:51] INFO  ruby 2.1.2 (2014-05-08) [i686-linux]
[2015-03-08 15:49:51] INFO  WEBrick::HTTPServer#start: pid=5560 port=4000
&gt;&gt;&gt; Compass is watching for changes. Press Ctrl-C to Stop.
directory public/stylesheets
    write public/stylesheets/print.css
            Source: source
       Destination: public
      Generating... 
    write public/stylesheets/screen.css
  Conversion error: Jekyll::Converters::Markdown encountered an error while conv
erting '_posts/2014-04-05-latex-template-for-chinese-essays.markdown/#excerpt':
                    "\xE6" from ASCII-8BIT to UTF-8
jekyll 2.5.3 | Error:  "\xE6" from ASCII-8BIT to UTF-8
</code></pre>

<!-- more -->

<h2 id="discussion">Discussion</h2>

<p>I feel that this problem is similar to the YAML error which I
encountered last year.<sup id="fnref:pp_yaml"><a href="#fn:pp_yaml" class="footnote">1</a></sup>  However, I had <em>already</em> added the
line <code>encoding: UTF-8</code> to <code>_config.yml</code>, and when I opened the file
with Vim, I saw, from <code>:se fenc</code> and <code>:se enc</code> that the encoding was
UTF-8.</p>

<p>I googled “incompatible character encodings utf-8 and ascii-8bit
octopress” and clicked the first result, which was an article written
in 2013.<sup id="fnref:chin1"><a href="#fn:chin1" class="footnote">2</a></sup>  According to the blog post, I opened
<code>:~/.rvm/gems/ruby-2.1.2/gems/jekyll-2.5.3/lib/jekyll/converters/markdown.rb</code>,
but I <em>couldn’t</em> find line 120 because I’m now using Ruby 2.1.2 and
Jekyll 2.5.3.</p>

<p>Though the steps mentioned in another blog posts found were the same,
from the first paragraph of that post, I knew that the cause was the
embedded Gists in Octopress posts/pages.<sup id="fnref:chin2"><a href="#fn:chin2" class="footnote">3</a></sup></p>

<h2 id="resolution">Resolution</h2>

<p>I continued viewing other Google search results, and discovered a
single question on two different sites.  That question was actually a
Stack Overflow question which had two responses.<sup id="fnref:so16264160"><a href="#fn:so16264160" class="footnote">4</a></sup>  The
second one seemed to solve my problem.</p>

<p>I googled “vim remove bom”, and found another web page.<sup id="fnref:vim_bom"><a href="#fn:vim_bom" class="footnote">5</a></sup>
Later, I realised that I could find the information using <code>:h bom</code>.  I
typed <code>:se nobomb</code> in the affected files, and Rake could finally
generate the site.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:pp_yaml">

      <p>See <a href="http://vincenttam.github.io/blog/2014/06/04/resolving-jekylls-yaml-exception/"><em>Resolving Jekyll’s YAML Exception</em></a> in Blog 1 for
details. <a href="#fnref:pp_yaml" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:chin1">

      <p><a href="http://blog.txx.im/blog/2013/08/25/octopress-utf-8-ascii-8bit-conflict-error/"><em>Octopress 上的 utf-8和ASCII-8BIT 冲突的解决方案</em></a> in
txx’s blog <a href="#fnref:chin1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:chin2">

      <p><a href="http://lenciel.cn/2014/05/fix-gist-style-in-octopress/"><em>Octopress里插入带中文Gist的问题和解决</em></a> @Lenciel <a href="#fnref:chin2" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:so16264160">

      <p><a href="https://stackoverflow.com/a/25228668">Unicode weirdness with octopress, kramdown, and Heroku</a> on Stack
Overflow <a href="#fnref:so16264160" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:vim_bom">

      <p><a href="http://www.santiagolizardo.com/article/remove-bom-mark-from-files-with-vim"><em>Remove BOM mark from files with VIM</em></a> by Santiago
Lizardo. <a href="#fnref:vim_bom" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Learnt Cauchy--Bunyakovsky--Schwarz Inequality for Definite Integrals]]></title>
      <link href="http://vincenttam.github.io/blog/2015/02/28/learnt-cauchy-bunyakovsky-schwarz-inequality-for-definite-integrals/"/>
    
    <updated>2015-02-28T22:37:59+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/02/28/learnt-cauchy-bunyakovsky-schwarz-inequality-for-definite-integrals</id>
    
      <content type="html"><![CDATA[<p>When I was a secondary school student, I was quite satisfied with this
proof of Cauchy–Schwarz Inequality.</p>

<div class="myeqn">
\[
\begin{aligned}
&amp; (\sum_{i = 1}^n a_i b_i)^2 \le (\sum_{i = 1}^n a_i^2)(\sum_{j = 1}^n
b_j^2) &#92;&#92;
\iff&amp; (\sum_{i = 1}^n a_i b_i) (\sum_{j = 1}^n a_j b_j) \le (\sum_{i =
1}^n a_i^2)(\sum_{j = 1}^n b_j^2) &#92;&#92;
\iff&amp; \sum_{i = 1}^n \sum_{j = 1}^n a_i a_j b_i b_j \le \sum_{i = 1}^n
\sum_{j = 1}^n a_i^2 b_j^2 &#92;&#92;
\iff&amp; \sum_{i = 1}^n \sum_{j = 1}^n a_i a_j b_i b_j \le \sum_{i = 1}^n
\sum_{j = 1}^n \frac{1}{2} \left( a_i^2 b_j^2 + \frac{1}{2} a_j^2
b_i^2 \right) &#92;&#92;
\iff&amp; \sum_{i = 1}^n \sum_{j = 1}^n \frac{1}{2} (a_i^2 b_j^2 - 2 a_i
b_j \cdot a_j b_i + a_j^2 b_i^2) \ge 0 &#92;&#92;
\iff&amp; \sum_{i = 1}^n \sum_{j = 1}^n \frac{1}{2} (a_i b_j - a_j b_i)^2
\ge 0
\end{aligned}
\]
</div>

<p>Equality holds if and only if <span class="myeqn">$\forall i,j = 1,\dots,n, a_i b_j - a_j b_i = 0$</span>.
I was so happy that I <em>didn’t</em> think of further generalisations.  I
<em>didn’t</em> realise that the inequality can be more concisely written as
$\langle \vect{a}, \vect{b} \rangle^2 \le \norm{\vect{a}}^2
\norm{\vect{b}}^2$, where <span class="myeqn">$\vect{a} =
(a_1,\cdots,a_n), \vect{b} = (b_1,\cdots,b_n) \in \reals^n$</span></p>

<p>This Friday evening, I did a question about the integral version of
the inequality.  After spending hours to come up with an idea, I
realised why I needed to learn inner product spaces.  The very first
version of the inequality that I learnt has too many summation signs,
and it <em>can’t</em> be easily generalised to other spaces.  The second
proof of the <em>same</em> inequality that I learnt makes use of the
determinant of a quadratic polynomial $p(t) = \norm{\vect{u} - t
\vect{v}}^2$.  That proof is much more elegant, and it helped me a lot
while I was doing that question.  When equality holds, it’s very hard
to imagine what happens by looking at the original equality.  However,
if we convert it into the determinant of $p(t)$, then one quickly
knows that this is equivalent to $p(t) = 0$, and can easily conclude
that equality holds if and only if the two functions $f$ and $g$
satisfy $f \equiv k g$ for some $k \in \reals$ for almost all
points.<sup id="fnref:rmk"><a href="#fn:rmk" class="footnote">1</a></sup></p>

<hr />
<div class="footnotes">
  <ol>
    <li id="fn:rmk">

      <p>To be more precise, if one accepts that the space $C([a,b])$ of
continuous functions defined on a closed and bounded interval
$[a,b]$ in an inner product space, and $f,g \in C([a,b])$,
then the condition “for almost all points” can be dropped.  If we
<em>don’t</em> to want be to so strict on the functions $f$ and $g$
defined on $[a,b]$, and we just say that $f$ and $g$ are
integrable functions defined on $[a,b]$, then we have to accept
the fact that $\displaystyle \int_a^b f^2 = 0$ <em>doesn’t</em> imply
that $f \equiv 0$. <a href="#fnref:rmk" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Evaluated a Convolution Integral]]></title>
      <link href="http://vincenttam.github.io/blog/2015/02/28/evaluated-a-convolution-integral/"/>
    
    <updated>2015-02-28T19:26:05+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/02/28/evaluated-a-convolution-integral</id>
    
      <content type="html"><![CDATA[<p>Yesterday afternoon, I did a convolution integral to show that a
finite sum of i.i.d. $X_i \sim \Exp(\lambda)$ is Gamma distributed.</p>

<div class="myeqn">
\[
\begin{aligned}
f_{X_{i_1}} * f_{X_{i_2}}(x) =&amp; \int_{-\infty}^{\infty} f_{X_{i_1}}(z)
f_{X_{i_2}}(x - z) \ud z &#92;&#92;
=&amp; \int_{0}^{x} (\lambda e^{-\lambda z}) (\lambda e^{-\lambda (x -
z)}) \ud z &#92;&#92;
=&amp; \int_{0}^{x} \lambda^2 e^{-\lambda x} \ud z &#92;&#92;
=&amp; \lambda^2 x e^{-\lambda x}
\end{aligned}
\]
</div>

<p>Using the same technique, one can prove the claim by induction.
What’s written above is the base case.</p>

<div class="myeqn">
\[
\begin{aligned}
f_{\sum_{j = 1}^{k + 1} X_{i_j}}(x) =&amp; f_{\sum_{j = 1}^{k} X_{i_j} +
X_{i_{k + 1}}}(x) &#92;&#92;
=&amp; f_{\sum_{j = 1}^{k} X_{i_j}} * f_{X_{i_{k + 1}}}(x) &#92;&#92;
=&amp; \int_{-\infty}^{\infty} f_{\sum_{j = 1}^{k} X_{i_j}}(z) f_{X_{i_{k
+ 1}}}(x - z) \ud z &#92;&#92;
=&amp; \int_{0}^{x} \left (\frac{\lambda^k z^{k - 1} e^{-\lambda z}}{(k -
1)!} \right ) (\lambda e^{-\lambda (x - z)}) \ud z &#92;&#92;
=&amp; \int_{0}^{x} \frac{\lambda^{k + 1} e^{-\lambda x}}{(k - 1)!} z^{k -
1} \ud z &#92;&#92;
=&amp; \frac{\lambda^{k + 1} e^{-\lambda x}}{(k - 1)!} \frac{x^k}{k} &#92;&#92;
=&amp; \frac{\lambda^{k + 1} x^k e^{-\lambda x}}{k!}
\end{aligned}
\]
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Another BoD on Win* 7]]></title>
      <link href="http://vincenttam.github.io/blog/2015/02/28/another-bod-on-win-star-7/"/>
    
    <updated>2015-02-28T19:01:39+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/02/28/another-bod-on-win-star-7</id>
    
      <content type="html"><![CDATA[<p>Yesterday afternoon, I switched on a public computer.  After the
desktop had been loaded, a dialog box popped up in the middle of the
screen.</p>

<picture class="fancybox" title="Recoverd from a BoD">
  <source srcset="/images/posts/BoD/fig1.png" media="(min-width: 450px)" />
  <img alt="got a BoD" src="http://vincenttam.github.io/images/posts/BoD/fig1_s.png" />
</picture>

<p>I compared this dialog box with the one that I saw on my laptap a
month ago.</p>

<picture class="fancybox" title="Recoverd from a BoD">
  <source srcset="/images/posts/BoD/fig.png" media="(min-width: 370px)" />
  <img alt="got a BoD" src="http://vincenttam.github.io/images/posts/BoD/fig_s.png" />
</picture>

<p>The difference between these two dialog boxes is the button “Check for
solution” on the left of the “Close” button.  I <em>don’t</em> know whether
this is a difference between M$ Win* 7 Home Edition and Enterprise.</p>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Saw a New Type of Ring]]></title>
      <link href="http://vincenttam.github.io/blog/2015/02/28/saw-a-new-type-of-ring/"/>
    
    <updated>2015-02-28T17:56:44+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/02/28/saw-a-new-type-of-ring</id>
    
      <content type="html"><![CDATA[<p>This Thursday evening, I saw a <strong>local ring</strong> in a commutative ring
with unity for the first time.  At the first glance, I <em>didn’t</em> know
how to make use of it’s definition — a ring that has only one
maximal ideal — to answer a question.  If I was given a local ring
$R$, then should I first assume that there’s a maximal ideal $M$, and
then construct another proper ideal $I$ of $R$ so that no proper
ideals of $R$ contained $I$ except for $I$ itself?  I got stuck at
this point for almost an hour, and <em>couldn’t</em> write down something
more for that question.</p>

<p>I finally read another half of the question, and understood the
statement of the whole question.  It would be impossible for me to do
the question <em>without</em> knowing the proper ideal that consisted merely
of elements of R which <em>don’t</em> have a multiplicative inverse.</p>

<p>After I had proved the statement in that question, I was still not
sure whether such a ring <em>exists</em>.  I <em>couldn’t</em> give an example of a
local ring.  This evening, I found it in Wikipedia, and realised that
even though I had already convinced myself that a finite field $F$ of
prime characteristic $p$ has an algebraic closure <span class="myeqn">$\displaystyle \overline{F} = \bigcup_{i = 1}^\infty
\fields_{p^i}$</span>, I still <em>didn’t</em> know many properties of the
structure of fields.<sup id="fnref:alg_closure"><a href="#fn:alg_closure" class="footnote">1</a></sup>  The simplest example of a local
ring is a field, which has only the trivial ideal <span class="myeqn">$\{0\}$</span> as its proper ideal.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:alg_closure">

      <p>See <a href="http://vincenttam.github.io/blog/2015/02/21/read-a-proof-of-existence-of-algebraic-closure/"><em>Read a Proof of Existence of Algebraic Closure</em></a> in
Blog 1 for details. <a href="#fnref:alg_closure" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Updated VIMRC for Vundle]]></title>
      <link href="http://vincenttam.github.io/blog/2015/02/28/updated-vimrc-for-vundle/"/>
    
    <updated>2015-02-28T16:30:16+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/02/28/updated-vimrc-for-vundle</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>Three days ago, I made a change in <a href="https://gist.github.com/VincentTam/2379ba75d6ad703a3786">my VIMRC on *nix</a> due to
<a href="https://github.com/gmarik/Vundle.vim" title="A Vim plugin manager">Vundle</a>’s interface change a year ago.<sup id="fnref:src"><a href="#fn:src" class="footnote">1</a></sup><sup id="fnref:vundle_change"><a href="#fn:vundle_change" class="footnote">2</a></sup></p>

<p>With the following <a href="http://www.vim.org">Vim</a> editor command, the replacement was done
quickly.</p>

<pre><code>:%s/\(Plugin \)\@&lt;="\([^"]*\)"/'\2'/
</code></pre>

<h2 id="problem">Problem</h2>

<p>I got some errors when I opened Vim again.</p>

<pre class="cliUB"><code>Error detected while processing /home/owner/.vimrc:
line   38:
E471: Argument required: Plugin 
line   39:
E471: Argument required: Plugin 
line   40:
E471: Argument required: Plugin 
line   42:
E471: Argument required: Plugin 
line   45:
E471: Argument required: Plugin 
line   46:
E471: Argument required: Plugin 
line   47:
E471: Argument required: Plugin 
line   48:
E471: Argument required: Plugin 
Press ENTER or type command to continue
</code></pre>

<!-- more -->

<h2 id="discussion">Discussion</h2>

<p>The number of errors I had received was <em>less</em> than that of the
plugins I had installed.  Therefore, it was reasonable for me to
conclude that the lines in my VIMRC for some plugin were <em>still</em>
correct.</p>

<h2 id="solution">Solution</h2>

<p>After I had saved the console error output into a text file, I opened
my VIMRC with Vim, so that I could use <code>38G</code> to jump to the first
erroneous line.  Above that line, I also had some lines starting with
<code>Plugin</code>.  I compared their differences, and jumped to other erroneous
lines as well.  I finally discovered that one should <em>never</em> use a
double quote for indicating the name of the plugin — use single
quote only.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:src">

      <p>Commit <a href="https://gist.github.com/VincentTam/2379ba75d6ad703a3786/247f888a3c00d90b42ff0f2e2b367ce3294bf874">247f888a3c00d90b42ff0f2e2b367ce3294bf874</a> of my VIMRC
on Gist. <a href="#fnref:src" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:vundle_change">
      <p>Vundle <a href="https://github.com/gmarik/Vundle.vim/commit/0521de9">version 0.10.2</a> <a href="#fnref:vundle_change" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Read a Proof of Existence of Algebraic Closure]]></title>
      <link href="http://vincenttam.github.io/blog/2015/02/21/read-a-proof-of-existence-of-algebraic-closure/"/>
    
    <updated>2015-02-21T22:14:49+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/02/21/read-a-proof-of-existence-of-algebraic-closure</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>In this Chinese New Year holiday, I read E. Artin’s proof of the
existence of algebraic closure, which could be found online.<sup id="fnref:milne"><a href="#fn:milne" class="footnote">1</a></sup></p>

<h2 id="problem">Problem</h2>

<p>Two days ago, I was stuck at the point where the ideal $I$ of
$F[\dots,X_f,\dots]$ was defined.  I <em>mistakenly</em> thought that one
needed to fix an arbitrary polynomial $f$ in the polynomial ring
$F[X]$ first because the goal of this theorem is to show the
existence of an algebraic field extension $E$ of $F$ so that $E$ is
algebraically closed, and for any nonconstant polynomial $f$ in
$F[X]$, $f$ has a root (a.k.a. zero) in $E$.</p>

<h2 id="resolution">Resolution</h2>

<p>This noon, I finally saw “indexed by $f$”, and I found I should
interpret “the ideal generated by $f(X_f)$” in this way:</p>

<div class="myeqn">
\[
I := \left\{\sum_{m = 1}^n g_m (\dots,X_f,\dots) f_m (X_{f_m}) : n \in
\integers_{&gt;0}, f_i \in F[X], g_i (\dots,X_f,\dots) \forall i \in
\{1,\dots,n\}\right\},
\]
</div>

<p>instead of viewing $f(X)$ as a <em>fixed</em> polynomial in $F[X]$.</p>

<hr />
<div class="footnotes">
  <ol>
    <li id="fn:milne">

      <p>Milne, J.S.  (2014).  Fields and Galois Theory (v4.50) (pp. 87).
Available at <a href="http://www.jmilne.org/math/">http://www.jmilne.org/math/</a> <a href="#fnref:milne" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Switch Tmux Panes and Vim-$\rm \LaTeX$]]></title>
      <link href="http://vincenttam.github.io/blog/2015/02/19/switch-tmux-panes-and-vim-latex/"/>
    
    <updated>2015-02-19T10:37:53+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/02/19/switch-tmux-panes-and-vim-latex</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>I use <a href="http://byobu.co">Byobu</a> with <a href="http://tmux.sourceforge.net">Tmux</a> backend.<sup id="fnref:pp_tmux"><a href="#fn:pp_tmux" class="footnote">1</a></sup></p>

<h2 id="problem">Problem</h2>

<ul>
  <li>Moving across panes is inconvenient.</li>
  <li>If I have a Vim vertical/horizontal split in a Tmux pane, I need to
  use <em>two</em> different sets of key bindings to navigate the adjacent
  panes.</li>
  <li>In the copy mode, it’s great that most of the key bindings follow
  from those of <a href="http://www.vim.org">Vim</a>, <em>but not the most important two</em>:
    <ul>
      <li>start selection</li>
      <li>copy</li>
    </ul>
  </li>
</ul>

<h2 id="solution">Solution</h2>

<p>I find two articles on <em>Giant Robots</em> very useful.</p>

<ol>
  <li><a href="http://robots.thoughtbot.com/seamlessly-navigate-vim-and-tmux-splits"><em>Seamlessly Navigate Vim and tmux Splits</em></a></li>
  <li><a href="http://robots.thoughtbot.com/tmux-copy-paste-on-os-x-a-better-future"><em>Tmux Copy &amp; Paste on OS X: A Better Future</em></a></li>
</ol>

<p>Therefore, I followed the steps in the first blog post, and installed
<a href="https://github.com/christoomey/vim-tmux-navigator">Vim Tmux Navigator</a>.</p>

<h2 id="another-problem">Another problem</h2>

<p>After the installation of the Vim plugin, I got another problem while
editing my VIMRC: The <code>{Down-Mapping}</code> <em>didn’t</em> work.
<a href="https://github.com/vim-latex/vim-latex">Vim-$\rm \LaTeX$</a> should know the reason.  I found an
article describing a similar problem.<sup id="fnref:choy"><a href="#fn:choy" class="footnote">2</a></sup>  However, I <em>wouldn’t</em>
like to change <code>~/.vim/bundle/vim-latex/plugin/imaps.vim</code>, so I got
stuck at this point for hours.  I tried to substitute <code>{Down-Mapping}</code>
with <code>&lt;C-a&gt;j</code> in VIMRC, but it <em>didn’t</em> work.</p>

<h2 id="lessons-learnt">Lessons Learnt</h2>

<ol>
  <li>
    <p>Accept simple ways to do things</p>

    <p>Even though I <em>can’t</em> set <code>{Down-Mapping}</code> to <code>&lt;C-j&gt;</code>, the Vim
 editor command <code>:TmuxNavigateDown</code> <em>isn’t</em> so hard to type.  I
 failed to realise that typing <code>:tm&lt;Tab&gt;</code> will do, and wasted time
 on that.  Now I accept the use of <em>two</em> different sets of
 keystrokes for switching to the Tmux pane/Vim buffer below.  We
 can look at this problem from another angle.</p>
  </li>
  <li>
    <p>Store a list of windows in a file</p>

    <p>A sample file can be found on Super User.<sup id="fnref:su"><a href="#fn:su" class="footnote">3</a></sup>  I found that if I
 had run Byobu before, a session <code>0</code> would <em>also</em> be created on top
 of <code>tmuxs</code>.  To avoid this problem, remove the first line in the
 sample window list and type <code>byobu attach -t 0</code> starting from the
 second time of opening Byobu.</p>
  </li>
</ol>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:pp_tmux">

      <p>See <a href="blog/2015/02/14/use-tmux-for-previewing-posts/"><em>Use Tmux for Previewing Posts</em></a> in this blog for
details. <a href="#fnref:pp_tmux" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:choy">

      <p>See <a href="https://chrischoy.github.io/blog/notes/vim-tmux-navigation-and-vim-latex/"><em>Key mapping collision between vim-navigation and vim-latex</em></a>
by Chris Choy for details. <a href="#fnref:choy" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:su">

      <p>See <a href="http://superuser.com/a/747819"><em>Proper Format for Byobu’s windows.tmux?</em></a> on Super
User. <a href="#fnref:su" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Let TTY Remember SSH Passphrase]]></title>
      <link href="http://vincenttam.github.io/blog/2015/02/15/let-tty-remember-ssh-passphrase/"/>
    
    <updated>2015-02-15T09:20:08+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/02/15/let-tty-remember-ssh-passphrase</id>
    
      <content type="html"><![CDATA[<h2 id="problem">Problem</h2>

<p>After I’ve written posts for this blog, I would like to publish them
by <code>rake deploy</code>, but I was prompted to type my passphrase for
<code>~/.ssh/id_rsa</code> for <em>multiple times</em> in Linux text mode.<sup id="fnref:problem"><a href="#fn:problem" class="footnote">1</a></sup>
(In GNOME shell, this <em>won’t</em> be a problem.)</p>

<p>In fact, this problem can be generalised to the following one: <strong>What
can be done so that the terminal <em>only</em> asks for the <abbr title="Secure SHell">SSH</abbr> passphrase
for the <em>first</em> Git push to a remote server</strong>?</p>

<!-- more -->

<h2 id="solution">Solution</h2>

<p>I searched “linux tty remember ssh passphrase” and I found the answer
on Ask Ubuntu.<sup id="fnref:sol"><a href="#fn:sol" class="footnote">2</a></sup>  I then looked at the top of the man page of
<code>ssh-agent</code> so as to avoid doing something <em>wrong</em>.  After that, I
used <code>ps</code> to convince myself that the argument that followed
<code>ssh-agent</code> should be <code>bash</code>.  After inputting the correct <abbr title="Secure SHell">SSH</abbr>
passphrase, I could push my Git commits to the remote server <em>without</em>
any further authentication.<sup id="fnref:eg"><a href="#fn:eg" class="footnote">3</a></sup></p>

<h2 id="using-it-with-byobu">Using it with byobu</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left"> </th>
      <th style="text-align: left">Case 1</th>
      <th style="text-align: left">Case 2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Right passphrase entered</td>
      <td style="text-align: left">outside Byobu</td>
      <td style="text-align: left">inside Byobu</td>
    </tr>
    <tr>
      <td style="text-align: left">Git push</td>
      <td style="text-align: left">inside Byobu</td>
      <td style="text-align: left">outside Byobu</td>
    </tr>
    <tr>
      <td style="text-align: left">Enter passphrase again?</td>
      <td style="text-align: left">No</td>
      <td style="text-align: left">Yes<sup id="fnref:eg2"><a href="#fn:eg2" class="footnote">4</a></sup></td>
    </tr>
  </tbody>
</table>

<p>After I’ve entered the <em>right</em> passphrase, even though I type <code>ssh-add
~/.ssh/id_rsa</code> and give the <em>wrong</em> passphrase, I can still use the
key <em>without</em> supplying the correct passphrase again.<sup id="fnref:eg3"><a href="#fn:eg3" class="footnote">5</a></sup></p>

<hr />

<div id="b4" class="noscr">
  <h3 id="typical-bashs-output">Typical bash’s output</h3>

  <p>During <code>rake deploy</code>, I need to enter the passphrase for <em>three</em>
times.</p>

  <pre class="cliUB"><code>$ git push; rake deploy; rake notify
Enter passphrase for key '/home/owner/.ssh/id_rsa':
Counting objects: 5, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (5/5), done.
Writing objects: 100% (5/5), 1.32 KiB | 0 bytes/s, done.
Total 5 (delta 3), reused 0 (delta 0)
To git@github.com:VincentTam/vincenttam.github.io.git
   79108e1..9aa4bc3  source -&gt; source
cp -r source/fancybox/.gitattributes public/fancybox/.gitattributes
## Deploying branch to Github Pages
## Pulling any updates from Github Pages
cd _deploy
Enter passphrase for key '/home/owner/.ssh/id_rsa':
remote: Counting objects: 10, done.
remote: Compressing objects: 100% (10/10), done.
remote: Total 10 (delta 3), reused 0 (delta 0)
Unpacking objects: 100% (10/10), done.
From github.com:vincenttam/vincenttam.github.io
   50f426a..9aa4bc3  source     -&gt; origin/source
Already up-to-date.
cd -
rm -rf _deploy/fancybox
rm -rf _deploy/sitemap.xml
rm -rf _deploy/posts
rm -rf _deploy/favicon.png
rm -rf _deploy/blog
rm -rf _deploy/stylesheets
rm -rf _deploy/index.html
rm -rf _deploy/downloads
rm -rf _deploy/robots.txt
rm -rf _deploy/javascripts
rm -rf _deploy/images
rm -rf _deploy/404.html
rm -rf _deploy/assets
rm -rf _deploy/atom.xml
rm -rf _deploy/about

## Copying public to _deploy
cp -r public/. _deploy
cd _deploy

## Committing: Site updated at 2015-02-14 05:57:32 UTC
[master f8b161d] Site updated at 2015-02-14 05:57:32 UTC
 337 files changed, 3689 insertions(+), 2382 deletions(-)
 rewrite assets/jwplayer/glow/controlbar/fullscreenButtonOver.png (98%)
 rewrite assets/jwplayer/glow/controlbar/muteButtonOver.png (99%)
 rewrite assets/jwplayer/glow/controlbar/normalscreenButtonOver.png (98%)
 rewrite assets/jwplayer/glow/controlbar/pauseButtonOver.png (98%)
 rewrite assets/jwplayer/glow/controlbar/unmuteButtonOver.png (98%)
 rewrite assets/jwplayer/glow/display/background.png (98%)
 rewrite assets/jwplayer/glow/display/bufferIcon.png (99%)
 rewrite assets/jwplayer/glow/display/playIcon.png (98%)
 rewrite assets/jwplayer/glow/dock/button.png (98%)
 rewrite assets/jwplayer/glow/sharing/embedIcon.png (98%)
 rewrite assets/jwplayer/glow/sharing/embedScreen.png (99%)
 rewrite assets/jwplayer/glow/sharing/shareIcon.png (98%)
 rewrite assets/jwplayer/glow/sharing/shareScreen.png (99%)
 create mode 100644 blog/2015/02/14/tried-range-based-for-loop/index.html
 create mode 100644 blog/categories/c-plus-plus/atom.xml
 create mode 100644 blog/categories/c-plus-plus/index.html
 rewrite favicon.png (98%)
 rewrite images/bird_32_gray.png (99%)
 rewrite images/bird_32_gray_fail.png (98%)
 rewrite images/line-tile.png (68%)
 rewrite images/noise.png (99%)
 rewrite images/rss.png (98%)

## Pushing generated _deploy website
Enter passphrase for key '/home/owner/.ssh/id_rsa':
Counting objects: 752, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (498/498), done.
Writing objects: 100% (752/752), 388.87 KiB | 0 bytes/s, done.
Total 752 (delta 311), reused 48 (delta 0)
To git@github.com:vincenttam/vincenttam.github.io.git
   95131a7..f8b161d  master -&gt; master

## Github Pages deploy complete
cd -
* Pinging ping-o-matic
* Pinging Google about our sitemap
* Pinging Bing about our sitemap
</code></pre>
</div>

<div id="after" class="noscr">
  <h3 id="an-example-of-letting-the-terminal-remember-the-passphrase">An example of letting the terminal remember the passphrase</h3>

  <pre class="cliUB"><code>$ ssh-agent bash
$ ssh-add ~/.ssh/id_rsa
Enter passphrase for /home/owner/.ssh/id_rsa:
Identity added: /home/owner/.ssh/id_rsa (/home/owner/.ssh/id_rsa)
$ git commit -a
[source 9579dce] Shortened some links and added highlighting
 2 files changed, 3 insertions(+), 3 deletions(-)
$ git push
Counting objects: 6, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 598 bytes | 0 bytes/s, done.
Total 6 (delta 5), reused 0 (delta 0)
To git@github.com:VincentTam/vincenttam.github.io.git
   3c1c449..9579dce  source -&gt; source
$ rake gen_deploy
## Generating Site with Jekyll
    write source/stylesheets/screen.css
Configuration file: /home/owner/octopress/_config.yml
            Source: source
       Destination: public
      Generating...
                    done.
 Auto-regeneration: disabled. Use --watch to enable.
cp -r source/fancybox/.gitattributes public/fancybox/.gitattributes
## Deploying branch to Github Pages
## Pulling any updates from Github Pages
cd _deploy
remote: Counting objects: 11, done.
remote: Compressing objects: 100% (6/6), done.
remote: Total 11 (delta 9), reused 7 (delta 5)
Unpacking objects: 100% (11/11), done.
From github.com:vincenttam/vincenttam.github.io
   7f470b7..9579dce  source     -&gt; origin/source
Already up-to-date.
cd -
rm -rf _deploy/fancybox
rm -rf _deploy/sitemap.xml
rm -rf _deploy/posts
rm -rf _deploy/favicon.png
rm -rf _deploy/blog
rm -rf _deploy/stylesheets
rm -rf _deploy/index.html
rm -rf _deploy/downloads
rm -rf _deploy/robots.txt
rm -rf _deploy/javascripts
rm -rf _deploy/images
rm -rf _deploy/404.html
rm -rf _deploy/assets
rm -rf _deploy/atom.xml
rm -rf _deploy/about

## Copying public to _deploy
cp -r public/. _deploy
cd _deploy

## Committing: Site updated at 2015-02-14 17:47:44 UTC
[master 26aef9c] Site updated at 2015-02-14 17:47:44 UTC
 31 files changed, 44 insertions(+), 45 deletions(-)

## Pushing generated _deploy website
Counting objects: 69, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (66/66), done.
Writing objects: 100% (69/69), 5.57 KiB | 0 bytes/s, done.
Total 69 (delta 35), reused 0 (delta 0)
To git@github.com:vincenttam/vincenttam.github.io.git
   eb76bf3..26aef9c  master -&gt; master

## Github Pages deploy complete
cd -
</code></pre>
</div>

<div id="eg2" class="noscr">
  <p>Inside Byobu, I entered the <em>right</em> passphrase.</p>

  <pre class="cliUB"><code>$ ssh-agent bash
$ ssh-add ~/.ssh/id_rsa
Enter passphrase for /home/owner/.ssh/id_rsa:
Identity added: /home/owner/.ssh/id_rsa (/home/owner/.ssh/id_rsa)
</code></pre>

  <p>Then, I entered <code>&lt;C-a&gt;d</code>, which is equivalent to <code>byobu detach</code>.
After that, I tried pushing my recent Git commit to GitHub, but I
failed.</p>

  <pre class="cliUB"><code>$ git push
Enter passphrase for key '/home/owner/.ssh/id_rsa':
Permission denied (publickey).
fatal: Could not read from remote repository.
Please make sure you have the correct access rights
and the repository exists.
$ sudo cat /dev/vcs2 &gt; ~/temp_tty2.txt
</code></pre>

  <p>The last command above is for capturing every word into a text file.
The output <code>~/temp_tty2.txt</code> has one <em>single</em> newline character ‘\n’.
Therefore, in Byobu, this can be done more <em>easily</em>: just use <code>&lt;C-a&gt;[</code>
to enter the copy mode, use the whitespace character ‘ ‘ to start a
selection, use <code>&lt;Enter&gt;</code> to copy the highlighted word, and use
<code>&lt;C-a&gt;]</code> to paste the word.  (I <em>assume</em> that the bind-key of Byobu is
set to be <code>&lt;C-a&gt;</code> .)  To cancel a selection, type <code>&lt;Esc&gt;</code>; to quit the
copy mode, type <code>q</code>.</p>

  <p>Once I returned back to Byobu by <code>byobu attach</code>, I can send the
commit via <abbr title="Secure SHell">SSH</abbr>.</p>

  <pre class="cliUB"><code>$ git push
Counting objects: 5, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (5/5), done.
Writing objects: 100% (5/5), 425 bytes | 0 bytes/s, done.
Total 5 (delta 4), reused 0 (delta 0)
To git@github.com:VincentTam/vincenttam.github.io.git
   3595d6d..424f978  source -&gt; source
</code></pre>
</div>

<div id="eg3" class="noscr">
  <h3 id="an-example-to-show-that-only-the-first-correct-passphrase-counts">An example to show that only the first correct passphrase counts.</h3>

  <p>I first entered the correct passphrase.</p>

  <pre class="cliUB"><code>$ ssh-agent bash
$ ssh-add ~/.ssh/id_rsa
Enter passphrase for /home/owner/.ssh/id_rsa:
Identity added: /home/owner/.ssh/id_rsa (/home/owner/.ssh/id_rsa)
</code></pre>

  <p>Then I <em>delibrately</em> entered a bad passphrase.</p>

  <pre class="cliUB"><code>$ ssh-add ~/.ssh/id_rsa
Enter passphrase for /home/owner/.ssh/id_rsa:
Bad passphrase, try again for /home/owner/.ssh/id_rsa:
Bad passphrase, try again for /home/owner/.ssh/id_rsa:
Bad passphrase, try again for /home/owner/.ssh/id_rsa:
</code></pre>

  <p>To test if the bad passphrase counts, I made and pushed a Git commit.</p>

  <pre class="cliUB"><code>$ vi Rakefile
</code></pre>

  <p>The commit was made inside Vim, by <a href="https://github.com/tpope/vim-fugitive" title="best Git wrapper">fugitive.vim</a>.</p>

  <pre class="cliUB"><code>$ git push
Counting objects: 3, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 284 bytes | 0 bytes/s, done.
Total 3 (delta 2), reused 0 (delta 0)
To git@github.com:VincentTam/vincenttam.github.io.git
   9579dce..1049c4b  source -&gt; source
</code></pre>

  <p>After supplying a <em>false</em> passphrase, I <em>didn’t</em> expect that I <em>could</em>
push it to GitHub.  Finally, I cleaned up the mess in <code>Rakefile</code>.</p>

  <pre class="cliUB"><code>$ git revert HEAD
[source 3595d6d] Revert "testing"
 1 file changed, 5 insertions(+)
$ git push
Counting objects: 3, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 444 bytes | 0 bytes/s, done.
Total 3 (delta 2), reused 0 (delta 0)
To git@github.com:VincentTam/vincenttam.github.io.git
   1049c4b..3595d6d  source -&gt; source
</code></pre>
</div>
<div class="footnotes">
  <ol>
    <li id="fn:problem">
      <p>See <a href="#b4" class="cliwide">the bash’s sample output</a>. <a href="#fnref:problem" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:sol">
      <p><a href="http://askubuntu.com/a/362287"><em>Enter SSH passphrase once</em></a> on Ask Ubuntu. <a href="#fnref:sol" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:eg">
      <p>See <a href="#after" class="cliwide">the terminal’s output</a>. <a href="#fnref:eg" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:eg2">
      <p>See <a href="#eg2" class="cliwide">the terminal’s output</a>. <a href="#fnref:eg2" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:eg3">
      <p>See <a href="#eg3" class="cliwide">the terminal’s output</a>. <a href="#fnref:eg3" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Code Blocks in Octopress Atom Feeds]]></title>
      <link href="http://vincenttam.github.io/blog/2015/02/14/code-blocks-in-octopress-atom-feeds/"/>
    
    <updated>2015-02-14T19:20:37+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/02/14/code-blocks-in-octopress-atom-feeds</id>
    
      <content type="html"><![CDATA[<h2 id="problem">Problem</h2>

<p>After I re-generated this site, it is <em>possible</em> that the code blocks
and the <em>pictures</em> in the <abbr title="Rich Site Summary">RSS</abbr> feeds are <em>gone</em>.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>WRONG version of C/C++ category feed</span><a href="http://goo.gl/buBrps">View Raw </a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;p&gt;</span>{% codeblock first_graphics_prog.cpp lang:cpp %}
</span><span class="line">// Author: David Yevick
</span><span class="line">// Source: A Short Course in Computational Science and Engineering
</span><span class="line">#include <span class="nt">&lt;iostream&gt;</span>
</span><span class="line">#include <span class="nt">&lt;dislin.h&gt;&lt;/dislin.h&gt;&lt;/iostream&gt;&lt;/p&gt;</span>
</span><span class="line">
</span><span class="line"><span class="nt">&lt;p&gt;</span>using namespace std;<span class="nt">&lt;/p&gt;</span>
</span><span class="line">
</span><span class="line"><span class="nt">&lt;p&gt;</span>int main(int argc, const char *argv[])
</span><span class="line">{
</span><span class="line">    // Some code for defining variables
</span><span class="line">    // Omitted to avoid copyright problems
</span><span class="line">    // An example of using DISLIN methods
</span><span class="line">    qplot(array1,array2,numOfPts);
</span><span class="line">}
</span><span class="line">{% endcodeblock %}<span class="nt">&lt;/p&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Remark: One can view the original file on GitHub by clicking “View
Raw”.</p>

<p>Sometimes, I was <em>unaware</em> of this, especially after writing a
<em>simple</em> post that could surely be correctly parsed by <a href="http://kramdown.gettalong.org/">kramdown</a>.
When I saw something like what’s shown in the above code block in a
category feed page in this blog on the Internet, this error had
already <em>published</em>.</p>

<!-- more -->

<h2 id="a-fix-to-the-above-problem">A “fix” to the above problem</h2>

<p>Re-generate the site <em>again</em>, and wait for luck so that the above
<em>incorrect</em> HTML code will be finally transformed to
<a href="#right_code" class="cliwide">a correct one</a>.</p>

<p>Then one can deploy it to the Internet.</p>

<h2 id="solution">Solution</h2>

<p>As I am <em>not</em> an IT student nor staff, I <em>don’t</em> know the reason.
Therefore, what I can do <em>doesn’t</em> differ much from the above “fix”:
check if the locally generated HTML source code for
<code>/blog/category/foo/atom.xml</code> is OK.</p>

<pre class="cliUB"><code>$ diff -u public/blog/categories/latex/atom.xml _deploy/blog/categories/latex/at
om.xml
--- public/blog/categories/latex/atom.xml       2015-02-14 13:42:46.645744300 +0
800
+++ _deploy/blog/categories/latex/atom.xml      2015-01-18 16:33:33.341309330 +0
800
@@ -4,7 +4,7 @@
   &lt;title&gt;&lt;![CDATA[Category: Latex | Blog 1]]&gt;&lt;/title&gt;
   &lt;link href="http://vincenttam.github.io/blog/categories/latex/atom.xml" rel="
self"/&gt;
   &lt;link href="http://vincenttam.github.io/"/&gt;
-  &lt;updated&gt;2015-02-14T13:41:37+08:00&lt;/updated&gt;
+  &lt;updated&gt;2015-01-18T16:32:04+08:00&lt;/updated&gt;
   &lt;id&gt;http://vincenttam.github.io/&lt;/id&gt;
   &lt;author&gt;
     &lt;name&gt;&lt;![CDATA[Vincent Tam]]&gt;&lt;/name&gt;
</code></pre>

<p>In the above situation, I <em>assume</em> that the previous version of the
<abbr title="Rich Site Summary">RSS</abbr> feed is <em>correct</em>.</p>

<div id="right_code" class="noscr">
  <div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>Correct version of C/C++ category feed</span><a href="http://goo.gl/YuA1Y9">View Raw </a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;p&gt;&lt;div</span> <span class="na">class=</span><span class="s">&#39;bogus-wrapper&#39;</span><span class="nt">&gt;&lt;notextile&gt;&lt;figure</span> <span class="na">class=</span><span class="s">&#39;code&#39;</span><span class="nt">&gt;&lt;figcaption&gt;&lt;span&gt;</span>Sample code <span class="nt">&lt;/span&gt;&lt;/figcaption&gt;</span>
</span><span class="line"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;highlight&quot;</span><span class="nt">&gt;&lt;table&gt;&lt;tr&gt;&lt;td</span> <span class="na">class=</span><span class="s">&quot;gutter&quot;</span><span class="nt">&gt;&lt;pre</span> <span class="na">class=</span><span class="s">&quot;line-numbers&quot;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line-number&#39;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;line-number&#39;</span><span class="nt">&gt;</span>2<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;line-number&#39;</span><span class="nt">&gt;</span>3<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;line-number&#39;</span><span class="nt">&gt;</span>4<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;line-number&#39;</span><span class="nt">&gt;</span>5<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;line-number&#39;</span><span class="nt">&gt;</span>6<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;line-number&#39;</span><span class="nt">&gt;</span>7<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;line-number&#39;</span><span class="nt">&gt;</span>8<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;line-number&#39;</span><span class="nt">&gt;</span>9<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;line-number&#39;</span><span class="nt">&gt;</span>10<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;line-number&#39;</span><span class="nt">&gt;</span>11<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&#39;line-number&#39;</span><span class="nt">&gt;</span>12<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;/pre&gt;&lt;/td&gt;&lt;td</span> <span class="na">class=</span><span class="s">&#39;code&#39;</span><span class="nt">&gt;&lt;pre&gt;&lt;code</span> <span class="na">class=</span><span class="s">&#39;cpp&#39;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line&#39;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;c1&quot;</span><span class="nt">&gt;</span>// Author: Helmut Michels<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line&#39;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;c1&quot;</span><span class="nt">&gt;</span>// Source: DISLIN 10.4—A Data Plotting Library<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line&#39;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;cp&quot;</span><span class="nt">&gt;</span>#include <span class="ni">&amp;lt;</span>iostream<span class="ni">&amp;gt;</span><span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line&#39;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;cp&quot;</span><span class="nt">&gt;</span>#include <span class="ni">&amp;quot;</span>discpp.h<span class="ni">&amp;quot;&amp;lt;</span>/iostream<span class="ni">&amp;gt;&amp;lt;</span>/p<span class="ni">&amp;gt;</span><span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line&#39;</span><span class="nt">&gt;</span>
</span><span class="line"><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line&#39;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>p<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;o&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;gt;</span><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>main<span class="nt">&lt;/span&gt;&lt;span</span>
</span><span class="line"><span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>()<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line&#39;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>{<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line&#39;</span><span class="nt">&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>Dislin<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>g<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>;<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line&#39;</span><span class="nt">&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>g<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>disini<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>();<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line&#39;</span><span class="nt">&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>g<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>messag<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>(<span class="nt">&lt;/span&gt;&lt;span</span>
</span><span class="line"><span class="na">class=</span><span class="s">&quot;err&quot;</span><span class="nt">&gt;</span>“<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>This<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>is<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>a<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>test<span class="nt">&lt;/span&gt;&lt;span</span>
</span><span class="line"><span class="na">class=</span><span class="s">&quot;err&quot;</span><span class="nt">&gt;</span>”<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;mi&quot;</span><span class="nt">&gt;</span>100<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>,<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;mi&quot;</span><span class="nt">&gt;</span>100<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>);<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line&#39;</span><span class="nt">&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>g<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>.<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;n&quot;</span><span class="nt">&gt;</span>disfin<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>();<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">class=</span><span class="s">&#39;line&#39;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;p&quot;</span><span class="nt">&gt;</span>}<span class="nt">&lt;/span&gt;</span>
</span><span class="line"><span class="nt">&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/figure&gt;&lt;/notextile&gt;&lt;/div&gt;&lt;/p&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Use Tmux for Previewing Posts]]></title>
      <link href="http://vincenttam.github.io/blog/2015/02/14/use-tmux-for-previewing-posts/"/>
    
    <updated>2015-02-14T14:04:38+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/02/14/use-tmux-for-previewing-posts</id>
    
      <content type="html"><![CDATA[<h2 id="problem">Problem</h2>

<p>After I finished an Octopress post, one may check if there’s any error
by previewing the post.  In GUI, it’s easy: just open a new window.
<strong>How about in Linux text mode?</strong></p>

<h2 id="a-so-called-method">A so-called method</h2>

<p>Add an ampersand ‘&amp;’ behind the command for previewing the blog.
However, while viewing the site in a browser, the contents would be
<em>covered</em> by some lines.</p>

<pre class="cliUB"><code>127.0.0.1 - - [14/Feb/2015:13:46:08 +0800] "GET / HTTP/1.1" 200 39685 0.0024
127.0.0.1 - - [14/Feb/2015:13:46:14 +0800] "GET /blog/2015/02/14/tried-range-bas
ed-for-loop/ HTTP/1.1" 200 21821 0.0028
127.0.0.1 - - [14/Feb/2015:13:46:59 +0800] "GET /atom.xml HTTP/1.1" 200 131801 0
.0071
</code></pre>

<p>This can be an inconvenience.  It <em>isn’t</em> hard to log on <em>another TTY</em>
and open the browser there, but one has to type the password
<em>twice</em>—this is <em>still</em> inconvenient.</p>

<h2 id="solution">Solution</h2>

<p>I now use <a href="http://byobu.co" title="a free terminal multiplexer">Byobu</a>, which depends on <a href="http://tmux.sourceforge.net" title="a terminal multiplexer">Tmux</a>, to preview the generated
blog.<sup id="fnref:fig"><a href="#fn:fig" class="footnote">1</a></sup></p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:fig">
      <p>The <a href="http://vincenttam.github.io/images/posts/Tmux/tmux.png" title="Tmux on Ubuntu" class="fancybox">screenshot</a> of Tmux. <a href="#fnref:fig" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Tried Range-based for Loop]]></title>
      <link href="http://vincenttam.github.io/blog/2015/02/14/tried-range-based-for-loop/"/>
    
    <updated>2015-02-14T12:42:21+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/02/14/tried-range-based-for-loop</id>
    
      <content type="html"><![CDATA[<h2 id="problem">Problem</h2>

<p>I saw an example for range-based for loop in a Stack Overflow question
and I compiled it in my own computer.<sup id="fnref:eg"><a href="#fn:eg" class="footnote">1</a></sup>  Then I got an error.</p>

<pre class="cliUB"><code>$ g++ temp1.cpp
temp1.cpp: In function ‘int main()’:
temp1.cpp:9:18: error: range-based ‘for’ loops are not allowed in C++98 mode
    for (int i : bar) {
                  ^
temp1.cpp: In function ‘void foo(int (&amp;)[3])’:
temp1.cpp:16:18: error: range-based ‘for’ loops are not allowed in C++98 mode
    for (int i : bar) {
                  ^
</code></pre>

<!-- more -->

<p>I also received similar message after I typed the command for
compiling the program with <a href="http://clang.llvm.org/" title="Another C++ compiler">clang++</a>.</p>

<h2 id="solution">Solution</h2>

<p>I searched “gcc range based for loop are not allowed in” on Google,
and realised that I forgot to add the flag <code>-std=c++11</code>.<sup id="fnref:sol"><a href="#fn:sol" class="footnote">2</a></sup>  After
doing so, I could successfully compile the program using either <a href="https://gcc.gnu.org/" title="GNU Compiler Collection">GCC</a>
or clang++.</p>

<h2 id="clangs-error-message">clang++’s error message</h2>

<p>I think that clang++ is better than gcc in this case because the error
message is <em>brighter</em> than the code.  The word “warning” is in purple,
while the ‘^’ is in yellow.  This helps users to see what’s wrong.</p>

<pre class="cliUB"><code>temp1.cpp:9:16: warning: range-based for loop is a C++11 extension
      [-Wc++11-extensions]
    for (int i : bar) {
               ^
temp1.cpp:16:16: warning: range-based for loop is a C++11 extension
      [-Wc++11-extensions]
    for (int i : bar) {
               ^
2 warnings generated.
</code></pre>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:eg">

      <p><a href="http://stackoverflow.com/a/26182985">c++ Range based for-loop on array passed to non-main function</a>
on Stack Overflow. <a href="#fnref:eg" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:sol">

      <p><a href="http://stackoverflow.com/a/22859334">Error: Range-based ‘for’ loops are not allowed in C++98 mode</a>
on Stack Overflow. <a href="#fnref:sol" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Subring of Ring With Unity]]></title>
      <link href="http://vincenttam.github.io/blog/2015/01/18/subring-of-ring-with-unity/"/>
    
    <updated>2015-01-18T14:51:27+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/01/18/subring-of-ring-with-unity</id>
    
      <content type="html"><![CDATA[<p>I’ve just read a statement which asserts that a subring isomorphic to
$\integers$ or $\integers_n$ can be found in any ring $R$ with unity.
The proof which is based on a ring homomorphism $\phi:\integers\to R$
defined by $\phi(m)=m\cdot 1$ <em>isn’t</em> difficult to read.</p>

<p>I used fifteen minutes to think of why one needs a <em>subring</em> inside
the ring $R$ with unity, instead of $R$.  After I’ve come up with
<span class="myeqn">$R=\langle1,\frac{1}{2}\rangle=\left\{\frac{a}{2^b}\mid a
\in \integers, b \in\integers_{\ge 0} \right\}$</span>, I start this
post.</p>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Got a Win* Blue Screen]]></title>
      <link href="http://vincenttam.github.io/blog/2015/01/12/got-a-win-star-blue-screen/"/>
    
    <updated>2015-01-12T21:31:51+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/01/12/got-a-win-star-blue-screen</id>
    
      <content type="html"><![CDATA[<p>This afternoon, I got a <abbr title="bluescreen of death">BoD</abbr> on M$ Win*, which <em>couldn’t</em> be captured
by <code>PrtSc</code>.  However, after I’ve rebooted my laptop, I got this dialog
box.</p>

<picture class="fancybox" title="Recoverd from a BoD">
  <source srcset="/images/posts/BoD/fig.png" media="(min-width: 370px)" />
  <img alt="got a BoD" src="http://vincenttam.github.io/images/posts/BoD/fig_s.png" />
</picture>

<p>Then I wrote a post for that, and while I was writing this post,
<em>another</em> dialog box popped up and disrupted my thoughts.</p>

<picture class="fancybox" title="Update M$ Off*">
  <source srcset="/images/posts/BoD/no.png" media="(min-width: 470px)" />
  <img alt="got a BoD" src="http://vincenttam.github.io/images/posts/BoD/no_s.png" />
</picture>

<p>I’m sure that I <em>won’t</em> get into these troubles on <a href="https://www.gnu.org/gnu/linux-and-gnu.html">GNU/Linux</a>.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Certificate Verify Failed During Gem Update]]></title>
      <link href="http://vincenttam.github.io/blog/2015/01/04/certificate-verify-failed-during-gem-update/"/>
    
    <updated>2015-01-04T22:41:05+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/01/04/certificate-verify-failed-during-gem-update</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>I pull the Git commits from the <code>origin</code> of this blog to Git Bash on
M$ Win*.  The <code>Gemfile</code> has changed due to commit <a href="https://github.com/imathis/octopress/commit/fbc3c0b">fbc3c0b</a>.</p>

<h2 id="problem">Problem</h2>

<p>I ran <code>bundle install</code> according to the official documentation, and
got an <em>unexpected error</em>.<sup id="fnref:doc"><a href="#fn:doc" class="footnote">1</a></sup></p>

<pre class="cli"><code><span class="GitHostName">Owner@OWNER-PC</span> <span class="GitPathName">/c/github/vincenttam.github.io (source)</span>
$ bundle install
DL is deprecated, please use Fiddle
Fetching gem metadata from https://rubygems.org/.........
Resolving dependencies...
<span class="err">Bundler could not find compatible versions for gem "sass":
  In snapshot (Gemfile.lock):
    sass (3.2.19)

  In Gemfile:
    compass (~&gt; 1.0.1) x64-mingw32 depends on
      sass (&lt; 3.5, &gt;= 3.3.13) x64-mingw32</span>

Running `<span class="HLCode">bundle update</span>` will rebuild your snapshot from scratch, using only
the gems in your Gemfile, which may resolve the conflict.
</code></pre>

<p><em>Without</em> updated gems, even though everything in the <code>source</code> folder
is <em>correct</em>, one <em>can’t</em> generate an Octopress blog.  <strong>How can one
get the gems updated?</strong></p>

<!-- more -->

<p>I then tried to follow the suggestion, but received <em>another</em> error.</p>

<pre class="cli"><code><span class="GitHostName">Owner@OWNER-PC</span> <span class="GitPathName">/c/github/vincenttam.github.io (source)</span>
Owner@OWNER-PC /c/github/vincenttam.github.io (source)
$ bundle update
DL is deprecated, please use Fiddle
Fetching gem metadata from https://rubygems.org/.........
Resolving dependencies...

<span class="err">Gem::RemoteFetcher::FetchError: SSL_connect returned=1 errno=0 state=SSLv3 read
server certificate B: certificate verify failed (https://rubygems.org/gems/rake-
10.4.2.gem)
An error occurred while installing rake (10.4.2), and Bundler cannot continue.
Make sure that `<span class="HLCode">gem install rake -v '10.4.2'</span>` succeeds before bundling.</span>
</code></pre>

<p>I ran the <strong>command in bold</strong> in the above message, and got <em>similar</em>
messages.</p>

<pre class="cli"><code><span class="GitHostName">Owner@OWNER-PC</span> <span class="GitPathName">/c/github/vincenttam.github.io (source)</span>
$ gem install rake -v '10.4.2'
<span class="err">ERROR:  Could not find a valid gem 'rake' (= 10.4.2), here is why:
          Unable to download data from https://rubygems.org/ - SSL_connect retur
ned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed (
https://rubygems.org/specs.4.8.gz)</span>
</code></pre>

<h2 id="solution">Solution</h2>

<p>I googled “windows unable to download data from https //rubygems.org/
- ssl_connect returned=1”, and clicked on the
<a href="https://stackoverflow.com/q/19150017" title="SSL Error When installing rubygems, Unable to pull data ...">first Stack Overflow question that I saw</a>.  I quickly
skimmed through the first answer of this question, and read the last
section “Windows note”, which referred interested readers to two
places:</p>

<ol>
  <li>RubyInstaller issue <a href="https://github.com/oneclick/rubyinstaller/issues/249" title="Change OpenSSL certificates path">249</a> on GitHub,</li>
  <li>The second answer of this question.</li>
</ol>

<p>I clicked the first webpage, and quickly jumped to
<a href="https://gist.github.com/luislavena/f064211759ee0f806c88" title="SSL upgrades on rubygems.org and RubyInstaller versions">Luis Lavena’s response</a> to the issue.  Unlike the previous
webpages, I read every word from the beginning to the third section
this time, and read the Stack Overflow question again, before deciding
what to be done.</p>

<p>I followed the instructions in the third section, instead of manually
downloading and inserting the PEM file back to the folder which the
command <code>gem which rubygems</code> returned.</p>

<pre class="cli"><code><span class="GitHostName">Owner@OWNER-PC</span> <span class="GitPathName">/c/github/vincenttam.github.io (source)</span>
$ gem install --local ~/Downloads/rubygems-update-2.0.15.gem
Successfully installed rubygems-update-2.0.15
Parsing documentation for rubygems-update-2.0.15
Installing ri documentation for rubygems-update-2.0.15
1 gem installed

<span class="GitHostName">Owner@OWNER-PC</span> <span class="GitPathName">/c/github/vincenttam.github.io (source)</span>
$ update_rubygems --no-ri --no-rdoc
RubyGems 2.0.15 installed

=== 2.0.14 / 2013-11-12

Bug fixes:

* Restore concurrent requires following the fix for ruby bug #8374.  Pull
  request #637 and issue #640 by Charles Nutter.
* Gem::Specification::remove_spec no longer checks for existence of the spec
  to be removed.  Issue #698 by Tiago Macedo.
* Restored wildcard handling when installing gems.  Issue #697 by Chuck Remes.
* Added DigiCert High Assurance EV Root CA certificate for the cloudfront.net
  certificate change.
* The Gem::RemoteFetcher tests now choose the test server port more reliably.
  Pull Request #706 by akr.


------------------------------------------------------------------------------

RubyGems installed the following executables:
        c:/Ruby200-x64/bin/gem

<span class="GitHostName">Owner@OWNER-PC</span> <span class="GitPathName">/c/github/vincenttam.github.io (source)</span>
$ gem uninstall rubygems-update -x
Removing update_rubygems
Successfully uninstalled rubygems-update-2.0.15
</code></pre>

<p>Then I ran <code>bundle install</code> <em>again</em>, and I still got the <em>same</em> error
shown at the very beginning of the post.  However, I <em>could</em> update the
gems.</p>

<pre class="cli"><code><span class="GitHostName">Owner@OWNER-PC</span> <span class="GitPathName">/c/github/vincenttam.github.io (source)</span>
$ bundle update
DL is deprecated, please use Fiddle
Fetching gem metadata from https://rubygems.org/.........
Resolving dependencies...
<span class="HLCode">Installing rake 10.4.2 (was 10.3.2)</span>
Using RedCloth 4.2.9
Using blankslate 2.1.2.4
Installing hitimes 1.2.2
Installing timers 4.0.1 (was 1.1.0)
Installing celluloid 0.16.0 (was 0.15.2)
Installing chunky_png 1.3.3 (was 1.3.1)
Using fast-stemmer 1.0.2
Installing classifier-reborn 2.0.3 (was 2.0.1)
Using coffee-script-source 1.8.0
Installing execjs 2.2.2 (was 2.2.1)
Using coffee-script 2.3.0
Using colorator 0.1
Installing multi_json 1.10.1
Installing sass 3.4.9 (was 3.2.19)
Installing compass-core 1.0.1
Installing compass-import-once 1.0.5
Using rb-fsevent 0.9.4
Installing ffi 1.9.6 (was 1.9.3)
Using rb-inotify 0.9.5
Installing compass 1.0.1 (was 0.12.7)
Using tilt 1.4.1
Installing haml 4.0.6 (was 4.0.5)
Installing jekyll-coffeescript 1.0.1 (was 1.0.0)
Using jekyll-gist 1.1.0
Installing jekyll-paginate 1.1.0 (was 1.0.0)
Installing jekyll-sass-converter 1.3.0 (was 1.2.0)
Installing listen 2.8.4 (was 2.7.9)
Installing jekyll-watch 1.2.0 (was 1.1.0)
Installing kramdown 1.5.0 (was 1.4.1)
Using liquid 2.6.1
Installing mercenary 0.3.5 (was 0.3.4)
Using posix-spawn 0.3.9
Using yajl-ruby 1.1.0
Using pygments.rb 0.6.0
Installing redcarpet 3.2.2 (was 3.1.2)
Installing safe_yaml 1.0.4 (was 1.0.3)
Using parslet 1.5.0
Installing toml 0.1.2 (was 0.1.1)
Installing jekyll 2.5.3 (was 2.3.0)
Installing jekyll-sitemap 0.7.0 (was 0.5.1)
Installing octopress-hooks 2.2.3 (was 2.2.1)
Installing octopress-date-format 2.0.2 (was 2.0.1)
Installing rack 1.6.0 (was 1.5.2)
Using rack-protection 1.5.3
Using rubypants 0.2.0
Using sass-globbing 1.0.0
Using sinatra 1.4.5
Using stringex 1.4.0
Using wdm 0.1.0
Using bundler 1.7.2
<span class="HLCode">Your bundle is updated!</span>
</code></pre>

<h2 id="lessons-learnt">Lessons learnt</h2>

<p>To save space in the hard disk, I removed the old versions of gems
with a short and simple command.</p>

<pre class="cli"><code><span class="GitHostName">Owner@OWNER-PC</span> <span class="GitPathName">/c/github/vincenttam.github.io (source)</span>
$ gem cleanup
Cleaning up installed gems...
Attempting to uninstall rake-10.3.2
Successfully uninstalled rake-10.3.2
Attempting to uninstall rack-1.5.2
Successfully uninstalled rack-1.5.2
Attempting to uninstall octopress-date-format-2.0.1
Successfully uninstalled octopress-date-format-2.0.1
Attempting to uninstall octopress-hooks-2.2.1
Successfully uninstalled octopress-hooks-2.2.1
Attempting to uninstall jekyll-sitemap-0.5.1
Successfully uninstalled jekyll-sitemap-0.5.1
Attempting to uninstall jekyll-2.3.0
Successfully uninstalled jekyll-2.3.0
Attempting to uninstall jekyll-watch-1.1.0
Successfully uninstalled jekyll-watch-1.1.0
Attempting to uninstall listen-2.7.9
Successfully uninstalled listen-2.7.9
Attempting to uninstall jekyll-sass-converter-1.2.0
Successfully uninstalled jekyll-sass-converter-1.2.0
Attempting to uninstall jekyll-coffeescript-1.0.0
Successfully uninstalled jekyll-coffeescript-1.0.0
Attempting to uninstall jekyll-paginate-1.0.0
Successfully uninstalled jekyll-paginate-1.0.0
Attempting to uninstall toml-0.1.1
Successfully uninstalled toml-0.1.1
Attempting to uninstall redcarpet-3.1.2
Successfully uninstalled redcarpet-3.1.2
Attempting to uninstall safe_yaml-1.0.3
Successfully uninstalled safe_yaml-1.0.3
Attempting to uninstall mercenary-0.3.4
Successfully uninstalled mercenary-0.3.4
Attempting to uninstall kramdown-1.4.1
Successfully uninstalled kramdown-1.4.1
Attempting to uninstall haml-4.0.5
Successfully uninstalled haml-4.0.5
Attempting to uninstall ffi-1.9.3-x64-mingw32
Successfully uninstalled ffi-1.9.3-x64-mingw32
Attempting to uninstall execjs-2.2.1
Successfully uninstalled execjs-2.2.1
Attempting to uninstall compass-0.12.7
Successfully uninstalled compass-0.12.7
Attempting to uninstall classifier-reborn-2.0.1
Successfully uninstalled classifier-reborn-2.0.1
Attempting to uninstall chunky_png-1.3.1
Successfully uninstalled chunky_png-1.3.1
Attempting to uninstall celluloid-0.15.2
Successfully uninstalled celluloid-0.15.2
Attempting to uninstall timers-1.1.0
Successfully uninstalled timers-1.1.0
Attempting to uninstall sass-3.2.19
Successfully uninstalled sass-3.2.19
<span class="HLCode">Clean Up Complete</span>
</code></pre>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:doc">
      <p><a href="http://octopress.org/docs/updating/">Updating Octopress</a> in <em>Octopress Documentation</em>. <a href="#fnref:doc" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Use Lynx Browser (2): Access Shell]]></title>
      <link href="http://vincenttam.github.io/blog/2015/01/03/use-lynx-browser-2-access-shell/"/>
    
    <updated>2015-01-03T21:26:24+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/01/03/use-lynx-browser-2-access-shell</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>I often use <a href="http://lynx.isc.org/" title="Lynx Browser">Lynx</a> due to several reasons.<sup id="fnref:use_lynx"><a href="#fn:use_lynx" class="footnote">1</a></sup></p>

<h2 id="problem">Problem</h2>

<p>While browsing the Internet with Lynx, one can spawn the shell, so that
one can resume the browsing session after executing some commands.</p>

<p>When one wants to exit the shell invoked by ‘!’ in Lynx, the command
required is the <em>same</em> as the one needed for logging out: <code>exit</code>.
These are pretty <em>easy</em>.</p>

<p>However, in Linux text mode, if one typed some commands and the
contents in the browser were <em>completely</em> covered by the output of
these commands, <strong>how can one distinguishs a shell started by Lynx
from the one that simply exists after one has logged in?</strong></p>

<!-- more -->

<h2 id="solution">Solution</h2>

<p>At first, I typed <code>ps aux | grep lynx</code> to determine whether Lynx was
running.  After that, I issued <code>ps</code>, and got a small list of running
processes.  Then I tried adding the letters <code>a</code>, <code>u</code>, and <code>x</code> after
the previous command.</p>

<ul>
  <li><code>a</code>: Received processes from all TTY consoles, instead of the
  current one.</li>
  <li><code>x</code>: A <code>STAT</code> column was shown.</li>
  <li><code>u</code>: More details were shown, including the <code>STAT</code> column.</li>
</ul>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:use_lynx">
      <p>See <a href="http://vincenttam.github.io/blog/2014/06/07/use-lynx-browser/"><em>Use Lynx Browser</em></a> for the reasons. <a href="#fnref:use_lynx" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Git Push to USB]]></title>
      <link href="http://vincenttam.github.io/blog/2015/01/01/git-push-to-usb/"/>
    
    <updated>2015-01-01T22:51:20+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/01/01/git-push-to-usb</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<ol>
  <li>I created a bare Git repository in my USB stick on GUI.</li>
  <li>I pushed some Git commits to the bare repository in the USB.</li>
</ol>

<p>The commands for the above steps <em>shouldn’t</em> be difficult.  In step 2,
if one sets the upstream repository to the bare repository in the USB,
the command to be issued is even easier: just <code>git push</code> will do, and
the remote and branch names can be omitted.</p>

<h2 id="problem">Problem</h2>

<p>I worked on Linux text mode instead of GUI.  After committing the
changes, I tried pushing them into the bare Git repository in the USB.</p>

<pre class="cliUB"><code>[owner@localhost ~/MATH2220]$ git status
On branch master
Your branch is ahead of 'origin/master' by 1 commit.
  (use "git push" to publish your local commits)
nothing to commit, working directory clean
[owner@localhost ~/MATH2220]$ sudo mount -t vfat /dev/sdf1 \
&gt; /media/owner/08F1-B181/
[owner@localhost ~/MATH2220]$ git push
Counting objects: 4, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 551 bytes | 0 bytes/s, done.
Total 4 (delta 1), reused 0 (delta 0)
remote: error: insufficient permission for adding an object to repository databa
se objects
remote: fatal: failed to write object
error: unpack failed: unpack-objects abnormal exit
To /media/owner/08F1-B181/MATH2220/MATH2220.git
 ! [remote rejected] master -&gt; master (unpacker error)
error: failed to push some refs to '/media/owner/08F1-B181/MATH2220/MATH2220.git
'
</code></pre>

<p><strong>How can I push commits into the USB?</strong></p>

<!-- more -->

<h2 id="solution">Solution</h2>

<p>I googled “git push usb rejected” for a similar problem, and “linux
text mode git” for a Git tutorial on CLI, but I <em>couldn’t</em> find what I
wanted.  I observed that this <em>wasn’t</em> a problem of Git, but a problem
about file permissions on *nix.</p>

<pre class="cliUB"><code>[owner@localhost ~/MATH2220]$ ll /media/owner/
total 12
drwxr-x---+ 3 root root 4096 Jan  1 21:40 ./
drwxr-xr-x  4 root root 4096 Aug 13 02:09 ../
drwxr-xr-x  2 root root 4096 Jan  1 21:40 08F1-B181/
</code></pre>

<p>Then I changed the search words, and finally found a page on SUSE
Communities.<sup id="fnref:suse"><a href="#fn:suse" class="footnote">1</a></sup>  I read the commands and their descriptions, and
eventually solved the problem.</p>

<p>After I had unmounted the USB drive, I typed the command for mounting
the USB stick again.</p>

<pre class="cliUB"><code>[owner@localhost ~/MATH2220]$ sudo umount /media/owner/08F1-B181/
[owner@localhost ~/MATH2220]$ sudo mount -t vfat -o uid=owner,gid=owner\
&gt; /dev/sdf1 /media/owner/08F1-B181/
[owner@localhost ~/MATH2220]$ git push
Counting objects: 4, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 551 bytes | 0 bytes/s, done.
Total 4 (delta 1), reused 0 (delta 0)
To /media/owner/08F1-B181/MATH2220/MATH2220.git
   9e8e53e..4fa36c7  master -&gt; master
</code></pre>

<h2 id="lessons-learnt">Lessons learnt</h2>

<p>One can specify the owner and the user group of the VFAT filesystem to
be mounted with <code>-o uid=foo,gid=bar</code> for USB devices.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:suse">

      <p><a href="https://www.suse.com/communities/conversations/manually-mounting-a-usb-flash-drive-in-linux/"><em>Manually Mount a USB Flash Drive in Linux</em></a> by
coolguys-suse on SUSE Communities. <a href="#fnref:suse" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Read a Proof About the Transitivity of Characteristic Subgroups]]></title>
      <link href="http://vincenttam.github.io/blog/2014/12/31/read-a-proof-about-the-transitivity-of-characteristic-subgroups/"/>
    
    <updated>2014-12-31T00:52:20+08:00</updated>
    <id>http://vincenttam.github.io/blog/2014/12/31/read-a-proof-about-the-transitivity-of-characteristic-subgroups</id>
    
      <content type="html"><![CDATA[<p>On the day before yesterday, I read a proof about the transitivity of
characteristic subgroups.  The proof <em>shouldn’t</em> be too difficult.
The key step is just to create a restriction automorphism.</p>

<p>Suppose $K\le H\le G$, and $f\in \Aut(G)$.  Then $f(H)=H$.  Define the
restriction of $f$ on $H$ as $g:H\to H$ such that $g(h)=f(h)\forall h
\in H$.  Clearly, $g\in \Aut(H)$.</p>

<p>I <em>couldn’t</em> understand why $g(K)=K$.  I googled “strongly normal
transitivity”, but <em>couldn’t</em> find anything relevant.  I changed the
words, and found <a href="https://www.proofwiki.org/wiki/Definition:Characteristic_Subgroup">the proof on ProofWiki</a>.  Then I realised why I
got stuck: when I wrote the definition of characteristic subgroup
symbolically, I <em>didn’t</em> pay enough attention to ‘∀’.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Read an Alternative Proof of the Extreme Value Theorem Using Tagged Partitions]]></title>
      <link href="http://vincenttam.github.io/blog/2014/12/30/read-an-alternative-proof-of-the-extreme-value-theorem-using-tagged-partitions/"/>
    
    <updated>2014-12-30T23:30:22+08:00</updated>
    <id>http://vincenttam.github.io/blog/2014/12/30/read-an-alternative-proof-of-the-extreme-value-theorem-using-tagged-partitions</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>Last Saturday, I read an article on using gauges defined on a close
and bounded interval $I$ (i.e. strictly postive functions over $I$)
and tagged partitions to prove the Extreme Value Theorem.<sup id="fnref:src"><a href="#fn:src" class="footnote">1</a></sup>
Though the full text is <em>not</em> free, one can preview the first page, on
which an attractive introduction is found.</p>

<h2 id="motivation">Motivation</h2>

<p>In ordinary proofs of the Extreme Value Theorem, one makes use of the
fact that continuous functions defined on $I$ are bounded, which is
proved by the Bolzano–Weierstrass Theorem, which has to be proved by
either the Monotone Convergence Theorem or the Nested Interval
Theorem.  A student who prepares for an exam in math analysis will
revise the lengthy proofs of these theorems.</p>

<p>However, the alternative proof of the Extreme Value Theorem is just a
proof by contradiction making use of basic properties of $\delta$-fine
partitions and the fact that continuous functions defined on $I$ are
bounded, which is proved by basic properties of $\delta$-fine
partitions only.</p>

<!-- more -->

<p>Once one accepts that for any gauge $\delta$ on $I$, $I$ is
$\delta$-fine, one can start reading the proof.</p>

<h2 id="problem">Problem</h2>

<p>In the author’s proof, it’s said that if $f$ is a continuous function
defined on $I$, <span class="myeqn">$K:=\sup\{f(x):x\in
I\}$</span>, and $\forall t\in I, \exists a(t),\delta(t)&gt;0$ such that
$|x-t|&lt;\delta(t)$ and $x\in I$, then $f(x)&lt;K-a(t)$.</p>

<p>Spending too much time on
<a href="http://vincenttam.github.io/blog/2014/12/29/octopress-pagespeed-jquery-and-fancybox/">boosting the PageSpeed of the homepage of this blog</a>, I
forgot a result obtained from an elementary exercise on continuous
functions, and was stuck at this point.</p>

<p>I tried writing inequalities for two hours, but I got <em>nothing</em>.</p>

<h2 id="solution">Solution</h2>

<p>I looked at the graph, and solved the problem quickly by setting
$\epsilon:=K-f(t)-a(t)$. If $|x-t|&lt;\delta(t)$ and $x\in I$,</p>

<div class="myeqn">
\[
\begin{aligned}
f(x)-f(t)\le|f(x)-f(t)|&lt;&amp;\epsilon=K-f(t)-a(t)&#92;&#92;
f(x)&lt;&amp;K-a(t)
\end{aligned}
\]
</div>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:src">

      <p>Gordon, R. A. (1998). The use of tagged partitions in elementary
real analysis. <em>American Mathematical Monthly</em>, 107–117. <a href="#fnref:src" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Octopress, PageSpeed, jQuery and fancyBox]]></title>
      <link href="http://vincenttam.github.io/blog/2014/12/29/octopress-pagespeed-jquery-and-fancybox/"/>
    
    <updated>2014-12-29T16:17:52+08:00</updated>
    <id>http://vincenttam.github.io/blog/2014/12/29/octopress-pagespeed-jquery-and-fancybox</id>
    
      <content type="html"><![CDATA[<h2 id="goal">Goal</h2>

<p>To improve the <a href="https://developers.google.com/speed/pagespeed/">Google PageSpeed</a> scores of this site.</p>

<h2 id="background">Background</h2>

<p>I use <a href="http://www.mathjax.org">MathJax</a> and <a href="http://fancyapps.com/fancybox/">fancyBox</a> for displaying math equations and
images respectively.</p>

<h2 id="problem">Problem</h2>

<p>As shown in the following two pictures, the <a href="https://developers.google.com/speed/pagespeed/">PageSpeed</a> scores of the
homepage of this blog for “Mobile” and “Desktop” were very <em>low</em>.</p>

<picture class="fancybox center" title="PageSpeed score for &quot;Mobile&quot;">
  <source srcset="/images/posts/PageSpeed/m_score1.png" media="(min-width: 980px)" />
  <img alt="pagespeed score mobile" src="http://vincenttam.github.io/images/posts/PageSpeed/m_score1_s.png" />
</picture>

<picture class="fancybox center" title="PageSpeed score for &quot;Desktop&quot;">
  <source srcset="/images/posts/PageSpeed/d_score1.png" media="(min-width: 650px)" />
  <img alt="pagespeed score desktop" src="http://vincenttam.github.io/images/posts/PageSpeed/d_score1_s.png" />
</picture>

<h2 id="solution">Solution</h2>

<p>I followed the advice of Google Developers, and deferred loading of
JavaScripts.</p>

<h3 id="results">Results</h3>

<p>After a week’s work, the PageSpeed has risen.</p>

<p><img class="fancybox center" src="http://vincenttam.github.io/images/posts/PageSpeed/m_score3.png" title="PageSpeed score for Mobile" alt="mobile pagespeed score" /></p>

<picture class="fancybox center" title="PageSpeed score for &quot;Desktop&quot;">
  <source srcset="/images/posts/PageSpeed/d_score3.png" media="(min-width: 360px)" />
  <img alt="pagespeed score desktop" src="http://vincenttam.github.io/images/posts/PageSpeed/d_score3_s.png" />
</picture>

<!-- more -->

<h3 id="html-headers">HTML Headers</h3>

<p>I removed render-blocking JavaScripts and stylesheets in the HTML
Headers.</p>

<ol>
  <li>Deleted all <code>&lt;script&gt;</code> and <code>&lt;link rel="stylesheet" ... /&gt;</code> tags in
<code>source/_includes/custom/head.html</code>, <em>except</em> <code>&lt;link
src="http://vincenttam.github.io/stylesheets/print.css" ... /&gt;</code>.</li>
  <li>Deleted the lines which loads <a href="http://jquery.com">jQuery</a>, <a href="http://modernizr.com">Modernizr</a>,
<code>/javascripts/octopress.js</code> and <code>/stylesheets/screen.css</code>.</li>
</ol>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>Lines to be removed from the default HTML head </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;/stylesheets/screen.css&quot;</span> <span class="na">media=</span><span class="s">&quot;screen,</span>
</span><span class="line"><span class="s">projection&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span><span class="nt">&gt;</span>
</span><span class="line"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/javascripts/modernizr-2.0.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class="line"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js&quot;</span><span class="nt">&gt;</span>
</span><span class="line"><span class="nt">&lt;/script&gt;</span>
</span><span class="line"><span class="nt">&lt;script&gt;</span><span class="o">!</span><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">&amp;&amp;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">unescape</span><span class="p">(</span><span class="s1">&#39;%3Cscript</span>
</span><span class="line"><span class="s1">src=&quot;/javascripts/libs/jquery.min.js&quot;%3E%3C/script%3E&#39;</span><span class="p">))</span><span class="nt">&lt;/script&gt;</span>
</span><span class="line"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/javascripts/octopress.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
</span><span class="line"><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="combine-and-compress-fancybox-javascripts">Combine and compress fancyBox JavaScripts</h3>

<p>I used the online JavaScript compressor at <a href="http://jscompress.com">http://jscompress.com</a>.
First, I clicked the “Upload Javascript Files” tabbed pane.  After
that, uploaded the three JavaScripts for fancyBox helpers:<sup id="fnref:nowheel"><a href="#fn:nowheel" class="footnote">1</a></sup></p>

<ol>
  <li><code>/fancybox/source/helpers/jquery.fancybox-buttons.js?v=1.0.5</code></li>
  <li><code>/fancybox/source/helpers/jquery.fancybox-media.js?v=1.0.6</code></li>
  <li><code>/fancybox/source/helpers/jquery.fancybox-thumbs.js?v=1.0.7</code></li>
</ol>

<p>I then downloaded the compressed output.</p>

<h3 id="after-the-html-footer">After the HTML footer</h3>

<p>To load the scripts, especially Google hosted jQuery (or a local copy
of it in case that the remote library <em>can’t</em> load) and <a href="http://fancyapps.com/fancybox/">fancyBox</a>,
and the stylesheets after the contents in the <code>&lt;body&gt;</code> tag has been
loaded, I added the following lines to
<code>source/_includes/custom/after_footer.html</code>.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>Defer loading of JavaScripts and stylesheets </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">&gt;</span>
</span><span class="line"><span class="c1">// For loading JavaScripts</span>
</span><span class="line"><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">function</span> <span class="nx">getScript</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="nx">success</span><span class="p">){</span>
</span><span class="line">	<span class="kd">var</span> <span class="nx">script</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
</span><span class="line">	<span class="nx">script</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">url</span><span class="p">;</span>
</span><span class="line">	<span class="kd">var</span> <span class="nx">head</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;head&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
</span><span class="line">	<span class="nx">done</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span>
</span><span class="line">	<span class="nx">script</span><span class="p">.</span><span class="nx">onload</span><span class="o">=</span><span class="nx">script</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class="line">	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">done</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="s1">&#39;loaded&#39;</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="s1">&#39;complete&#39;</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span><span class="line">	    <span class="nx">done</span><span class="o">=</span><span class="kc">true</span><span class="p">;</span>
</span><span class="line">	    <span class="nx">success</span><span class="p">();</span>
</span><span class="line">	    <span class="nx">script</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</span><span class="line">	    <span class="nx">head</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
</span><span class="line">	<span class="p">}</span>
</span><span class="line">	<span class="p">};</span>
</span><span class="line">	<span class="nx">head</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">
</span><span class="line">    <span class="c1">// Any scripts independent of jQuery</span>
</span><span class="line">    <span class="nx">getScript</span><span class="p">(</span><span class="s2">&quot;/javascripts/modernizr-2.0.js&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">()</span> <span class="p">{});</span>
</span><span class="line">    <span class="nx">getScript</span><span class="p">(</span><span class="s2">&quot;https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;</span><span class="o">+</span>
</span><span class="line">    <span class="s2">&quot;,https://vincenttam.github.io/javascripts/MathJaxLocal.js&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">()</span> <span class="p">{});</span>
</span><span class="line">
</span><span class="line">    <span class="c1">// Google hosted jquery and fancyBox JavaScripts</span>
</span><span class="line">    <span class="nx">getScript</span><span class="p">(</span><span class="s2">&quot;//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
</span><span class="line">      <span class="nx">getScript</span><span class="p">(</span><span class="s2">&quot;/javascripts/octopress.js&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">()</span> <span class="p">{});</span>
</span><span class="line">      <span class="nx">getScript</span><span class="p">(</span><span class="s2">&quot;/fancybox/source/jquery.fancybox.pack.js?v=2.1.5&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">	<span class="nx">getScript</span><span class="p">(</span><span class="s2">&quot;/fancybox/source/helpers/all.js&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">	  <span class="nx">getScript</span><span class="p">(</span><span class="s2">&quot;/javascripts/FancyBoxLocal.js&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{});</span>
</span><span class="line">	  <span class="p">});</span>
</span><span class="line">	<span class="p">});</span>
</span><span class="line">      <span class="p">});</span>
</span><span class="line">
</span><span class="line">    <span class="c1">// jquery fallback local copy and fancyBox JavaScripts</span>
</span><span class="line">    <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">jQuery</span> <span class="o">==</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">	<span class="kd">var</span> <span class="nx">jqri</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">);</span>
</span><span class="line">	<span class="nx">jqri</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;/javascripts/libs/jquery.min.js&quot;</span><span class="p">;</span>
</span><span class="line">	<span class="nx">jqri</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;text/javascript&quot;</span><span class="p">;</span>
</span><span class="line">	<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">jqri</span><span class="p">);</span>
</span><span class="line">	<span class="nx">jqri</span><span class="p">.</span> <span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class="line">	  <span class="kd">var</span> <span class="nx">fbjs</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">);</span>
</span><span class="line">	  <span class="nx">fbjs</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;/fancybox/source/jquery.fancybox.pack.js?v=2.1.5&quot;</span><span class="p">;</span>
</span><span class="line">	  <span class="nx">fbjs</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;text/javascript&quot;</span><span class="p">;</span>
</span><span class="line">	  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">fbjs</span><span class="p">);</span>
</span><span class="line">	  <span class="kd">var</span> <span class="nx">fball</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">);</span>
</span><span class="line">	  <span class="nx">fball</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;./octopress/source/fancybox/source/helpers/all.js&quot;</span><span class="p">;</span>
</span><span class="line">	  <span class="nx">fball</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;text/javascript&quot;</span><span class="p">;</span>
</span><span class="line">	  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">fball</span><span class="p">);</span>
</span><span class="line">	  <span class="nx">fbjs</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class="line">	    <span class="nx">fball</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class="line">	      <span class="kd">var</span> <span class="nx">fblocjs</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">);</span>
</span><span class="line">	      <span class="nx">fblocjs</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;/javascripts/FancyBoxLocal.js&quot;</span><span class="p">;</span>
</span><span class="line">	      <span class="nx">fblocjs</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;text/javascript&quot;</span><span class="p">;</span>
</span><span class="line">	      <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">fblocjs</span><span class="p">);</span>
</span><span class="line">	    <span class="p">}</span>
</span><span class="line">	  <span class="p">}</span>
</span><span class="line">	<span class="p">}</span>
</span><span class="line">      <span class="p">}</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">})();</span>
</span><span class="line">
</span><span class="line"><span class="c1">// For loading CSS files</span>
</span><span class="line"><span class="kd">var</span> <span class="nx">cb</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;head&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
</span><span class="line">
</span><span class="line">  <span class="c1">// Fonts from Google&#39;s Web font directory</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">font1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">);</span>
</span><span class="line">  <span class="nx">font1</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s2">&quot;//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">font1</span><span class="p">.</span><span class="nx">rel</span> <span class="o">=</span> <span class="s2">&quot;stylesheet&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">font1</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;text/css&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">h</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">font1</span><span class="p">,</span> <span class="nx">h</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">  <span class="kd">var</span> <span class="nx">font2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">);</span>
</span><span class="line">  <span class="nx">font2</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s2">&quot;//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">font2</span><span class="p">.</span><span class="nx">rel</span> <span class="o">=</span> <span class="s2">&quot;stylesheet&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">font2</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;text/css&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">h</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">font2</span><span class="p">,</span> <span class="nx">h</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">  <span class="c1">// any other external CSS</span>
</span><span class="line">
</span><span class="line">  <span class="c1">// CSS files for FancyBox</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">fbcss</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">);</span>
</span><span class="line">  <span class="nx">fbcss</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s2">&quot;/fancybox/source/jquery.fancybox.css?v=2.1.5&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">fbcss</span><span class="p">.</span><span class="nx">rel</span> <span class="o">=</span> <span class="s2">&quot;stylesheet&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">fbcss</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;text/css&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">fbcss</span><span class="p">.</span><span class="nx">media</span> <span class="o">=</span> <span class="s2">&quot;screen, projection&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">fbcss</span><span class="p">);</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">fbbtncss</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">);</span>
</span><span class="line">  <span class="nx">fbbtncss</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s2">&quot;/fancybox/source/helpers/jquery.fancybox-buttons.css?v=1.0.5&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">fbbtncss</span><span class="p">.</span><span class="nx">rel</span> <span class="o">=</span> <span class="s2">&quot;stylesheet&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">fbbtncss</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;text/css&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">fbbtncss</span><span class="p">.</span><span class="nx">media</span> <span class="o">=</span> <span class="s2">&quot;screen, projection&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">fbbtncss</span><span class="p">);</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">fbthmcss</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">);</span>
</span><span class="line">  <span class="nx">fbthmcss</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s2">&quot;/fancybox/source/helpers/jquery.fancybox-thumbs.css?v=1.0.7&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">fbthmcss</span><span class="p">.</span><span class="nx">rel</span> <span class="o">=</span> <span class="s2">&quot;stylesheet&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">fbthmcss</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;text/css&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nx">fbthmcss</span><span class="p">.</span><span class="nx">media</span> <span class="o">=</span> <span class="s2">&quot;screen, projection&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">fbthmcss</span><span class="p">);</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">raf</span> <span class="o">=</span> <span class="nx">requestAnimationFrame</span> <span class="o">||</span> <span class="nx">mozRequestAnimationFrame</span> <span class="o">||</span>
</span><span class="line"><span class="err"> </span> <span class="err"> </span> <span class="nx">webkitRequestAnimationFrame</span> <span class="o">||</span> <span class="nx">msRequestAnimationFrame</span><span class="p">;</span>
</span><span class="line"><span class="k">if</span> <span class="p">(</span><span class="nx">raf</span><span class="p">)</span> <span class="nx">raf</span><span class="p">(</span><span class="nx">cb</span><span class="p">);</span>
</span><span class="line"><span class="k">else</span> <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="nx">cb</span><span class="p">);</span>
</span><span class="line"><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="improve-user-experience">Improve user experience</h3>

<p>Google PageSpeed Insights said that my homepage was too <em>wide</em> for
mobile devices whose width were 320 px.  Therefore, I’ve tried
preparing different pictures for windows of different width by
<code>&lt;picutre&gt;</code> tags with <code>&lt;source srcset=...&gt;</code> inside.  Although this
pure HTML 5 approach is now supported in Google Chrome <em>only</em>, I find
this method simple and beautiful.<sup id="fnref:pic_elt"><a href="#fn:pic_elt" class="footnote">2</a></sup>  Due to its elegance, I
believe that this feature will soon be implemented in all major
browsers, such as Mozilla Firefox.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>Part of pages/posts contents </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;picture</span> <span class="na">class=</span><span class="s">&quot;fancybox center&quot;</span> <span class="na">title=</span><span class="s">&quot;Custom search failed&quot;</span><span class="nt">&gt;</span>
</span><span class="line">  <span class="nt">&lt;source</span> <span class="na">srcset=</span><span class="s">&quot;/images/big.png&quot;</span> <span class="na">media=</span><span class="s">&quot;(min-width: 880px)&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line">  <span class="c">&lt;!-- a fallback for browsers that don&#39;t support the source tag --&gt;</span>
</span><span class="line">  <span class="nt">&lt;img</span> <span class="na">alt=</span><span class="s">&quot;alt text&quot;</span> <span class="na">src=</span><span class="s">&quot;/images/small.png&quot;</span> <span class="nt">/&gt;</span>
</span><span class="line"><span class="nt">&lt;/picture&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The simplest way to avoid getting the message “Optimize images” in a
PageSpeed test is to optimize the images.  <a href="http://optipng.sourceforge.net/">OptiPNG</a> can be used for
this.  Before compressing the images, I issued the following command
to create a diminished image of width 300 px of the original image.</p>

<pre class="cliUB"><code>$ optipng big.png
$ convert big.png -resize 300 small.png
$ optipng small.png
</code></pre>

<p>How to enable fancyBox for <code>&lt;picture&gt;</code> elements?  I did a bit of
“guided coding” — I copied Erv Walter’s function and changed a few
lines.<sup id="fnref:erv"><a href="#fn:erv" class="footnote">3</a></sup></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>Part of my &#8220;/javascripts/FancyBoxLocal.js&#8221; </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.entry-content&#39;</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">_i</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
</span><span class="line">    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;img.fancybox&#39;</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class="line">      <span class="c1">// Erv Walter&#39;s function ...</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">
</span><span class="line">    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;picture.fancybox&#39;</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class="line">      <span class="kd">var</span> <span class="nx">picture</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span><span class="line">      <span class="kd">var</span> <span class="nx">title</span> <span class="o">=</span> <span class="nx">picture</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">);</span>
</span><span class="line">      <span class="nx">picture</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">&quot;fancybox&quot;</span><span class="p">);</span>
</span><span class="line">      <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">picture</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s2">&quot;source&quot;</span><span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;srcset&quot;</span><span class="p">);</span>
</span><span class="line">      <span class="nx">picture</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="s1">&#39;&lt;a href=&quot;&#39;</span><span class="o">+</span><span class="nx">url</span><span class="o">+</span><span class="s1">&#39;&quot; class=&quot;fancybox&quot; rel=&quot;galleryp&#39;</span><span class="o">+</span><span class="nx">_i</span><span class="o">+</span><span class="s1">&#39;&quot; /&gt;&#39;</span><span class="p">);</span>
</span><span class="line">      <span class="k">if</span> <span class="p">(</span><span class="nx">title</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">	<span class="nx">picture</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="nx">title</span><span class="p">);</span>
</span><span class="line">      <span class="p">}</span>
</span><span class="line">    <span class="p">});</span>
</span><span class="line">  <span class="p">});</span>
</span><span class="line">
</span><span class="line">  <span class="c1">// settings found on fancyBox&#39;s homepage ...</span>
</span><span class="line"><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>View the file at commit <a href="https://github.com/VincentTam/vincenttam.github.io/commit/29d86dd">29d86dd</a> for a working example.</p>

<p>Lastly, to ensure that the contents <em>wouldn’t</em> fall outside the
viewport on the screen of mobile devices, I embedded an inline CSS.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;style&gt;article</span> <span class="nt">img</span> <span class="p">{</span><span class="k">max-width</span><span class="o">:</span><span class="m">100%</span><span class="p">;}</span><span class="nt">&lt;/style&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Though this <em>wasn’t</em> good, it enabled me to get rid of the above
message about image optimization in a PageSpeed test.</p>

<h2 id="lessons-learnt">Lessons learnt</h2>

<h3 id="my-first-way-to-load-javascripts-from-a-script">My first way to load JavaScripts from a script</h3>

<p>Due to my homework and exams in early December and my <em>limited
knowledge</em> on JavaScripts, I <em>didn’t</em> have time to understand the
section “Defer loading of JavaScript” in
<a href="https://developers.google.com/speed/docs/insights/BlockingJS">a suggestion page on Google Developers</a>.  On Dec 20,
2014, I found an article on feedthebot useful.<sup id="fnref:feedthebot"><a href="#fn:feedthebot" class="footnote">4</a></sup>  I copied
the codeblock and changed <code>defer.js</code> to other files.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
</span><span class="line"><span class="kd">function</span> <span class="nx">downloadJSAtOnload</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">element</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">);</span>
</span><span class="line">  <span class="nx">element</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;defer.js&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">element</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">)</span>
</span><span class="line">  <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;load&quot;</span><span class="p">,</span> <span class="nx">downloadJSAtOnload</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
</span><span class="line"><span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">)</span>
</span><span class="line">  <span class="nb">window</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">&quot;onload&quot;</span><span class="p">,</span> <span class="nx">downloadJSAtOnload</span><span class="p">);</span>
</span><span class="line"><span class="k">else</span> <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">downloadJSAtOnload</span><span class="p">;</span>
</span><span class="line"><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>In M$ I.E., one has to use <code>window.attachEvent</code> instead of
<code>window.addEventListener</code>.  The last line acts as a fallback for old
browsers.</p>

<p>This works for MathJax.  However, for fancyBox, which depends on
jQuery, strange things happened, and I got trapped for two days.  I
had wrote a function which worked in Google Chrome, but when I opened
Mozilla Firefox to test the results, <em>no</em> box popped out and I was
taken to a page containing merely the picture.  I was puzzled and made
a Git commit.<sup id="fnref:e7e6743"><a href="#fn:e7e6743" class="footnote">5</a></sup></p>

<h3 id="my-second-way-to-load-javascripts-from-a-script">My second way to load JavaScripts from a script</h3>

<p>I googled “defer jquery fancybox”, and found a question on Stack
Overflow.<sup id="fnref:so16647050"><a href="#fn:so16647050" class="footnote">6</a></sup>  I made use of Jamed Donnelly’s functions, and
had successfully made a popped up image, which meant that the loading
of JavaScripts for fancyBox had been deferred.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>Just before the closing body tag </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;script&gt;</span>
</span><span class="line"><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">function</span> <span class="nx">getScript</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="nx">success</span><span class="p">){</span>
</span><span class="line">	<span class="kd">var</span> <span class="nx">script</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
</span><span class="line">	<span class="nx">script</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">url</span><span class="p">;</span>
</span><span class="line">	<span class="kd">var</span> <span class="nx">head</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;head&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
</span><span class="line">	<span class="nx">done</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span>
</span><span class="line">	<span class="nx">script</span><span class="p">.</span><span class="nx">onload</span><span class="o">=</span><span class="nx">script</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class="line">	<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">done</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="s1">&#39;loaded&#39;</span>
</span><span class="line">	  <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="s1">&#39;complete&#39;</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span><span class="line">	    <span class="nx">done</span><span class="o">=</span><span class="kc">true</span><span class="p">;</span>
</span><span class="line">	    <span class="nx">success</span><span class="p">();</span>
</span><span class="line">	    <span class="nx">script</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</span><span class="line">	    <span class="nx">head</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
</span><span class="line">	<span class="p">}</span>
</span><span class="line">	<span class="p">};</span>
</span><span class="line">	<span class="nx">head</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">getScript</span><span class="p">(</span><span class="s2">&quot;jquery-1.8.3.min.js&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>
</span><span class="line">    <span class="nx">getScript</span><span class="p">(</span><span class="s2">&quot;jquery.fancybox-1.3.4/fancybox/jquery.fancybox-1.3.4.pack.js&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{});</span>
</span><span class="line">    <span class="nx">getScript</span><span class="p">(</span><span class="s2">&quot;myCustomScript.js&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{});</span>
</span><span class="line"><span class="p">});</span>
</span><span class="line">
</span><span class="line"><span class="p">})();</span>
</span><span class="line"><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>A separate file &#8220;myCustomScript.js&#8221; </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class="line">    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.example3&quot;</span><span class="p">).</span><span class="nx">fancybox</span><span class="p">({</span>
</span><span class="line">	<span class="s1">&#39;transitionIn&#39;</span>  <span class="o">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>
</span><span class="line">	<span class="s1">&#39;transitionOut&#39;</span> <span class="o">:</span> <span class="s1">&#39;none&#39;</span>
</span><span class="line">    <span class="p">});</span>
</span><span class="line"><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Nonetheless, the image title and the close icon were <em>missing</em>.</p>

<h3 id="view-loaded-resources-and-the-timeline">View loaded resources and the timeline</h3>

<p>I had tried using “Network” in the developer toolbar in both Google
Chromium and Mozilla Firefox to view the time taken for loading the
scripts and CSS files.  I contrasted the timelines of working sites
and my failed trials, and then made changes to the above script before
the <code>&lt;/body&gt;</code> tag.</p>

<h3 id="test-javascript-functions-using-the-web-console">Test Javascript functions using the web console</h3>

<p>While testing the script in
<code>source/_includes/custom/after_footer.html</code>, the scripts often
<em>failed</em> to work.  The error console in web browsers spotted out the
missing brackets and other syntax errors.  Moreover, it told me
whether jQuery had been loaded if I typed <code>typeof jQuery</code>.</p>

<h3 id="access-the-children-of-an-html-element-with-jquery">Access the children of an HTML element with jQuery</h3>

<p>While writing the anonymous function in
<code>/javascripts/FancyBoxLocal.js</code>, I tried to extract the URL of the
<code>&lt;source&gt;</code> element inside a <code>&lt;picture&gt;</code> element.  In the web console,
if <code>typeof jQuery</code> returns <code>"function"</code>,
<code>$('picture').children('source').length</code> returns a non-negative
integer.  If the integer returned is positive,
<code>$('picture').children('source')[0].srcset</code> returns
<code>"/images/foo.png"</code> and <code>"undefined"</code> in Google Chromium and Mozilla
Firefox respectively.</p>

<p>I played with the example on W3Schools about the <code>children()</code> method
in jQuery.<sup id="fnref:w3sch"><a href="#fn:w3sch" class="footnote">7</a></sup>  After re-writing the code and seeing the result
repeatedly, I’ve learnt to use the <code>eq(n)</code> and <code>attr(source)</code> methods
to access the <code>n</code>-th element and the <code>source</code> attribute.</p>

<h3 id="load-css-files-from-a-script">Load CSS files from a script</h3>

<p>Google Developers has already provided a script for doing
so.<sup id="fnref:goo_dev_css"><a href="#fn:goo_dev_css" class="footnote">8</a></sup>  At first, I <em>didn’t</em> understand it and I tried
injecting a <code>&lt;link&gt;</code> element inside the <code>downloadJSAtOnload()</code> method.
Unluckily, this method <em>failed</em>.  <em>Without</em> <code>/stylesheets/screen.css</code>,
the Solarized theme <em>disappeared</em>, and was “replaced by a
black-and-white theme”.  After that, I re-read Google’s page on CSS
delivery optimization, and extracted the script which grabbed external
stylesheets.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;script&gt;</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">cb</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">l</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;link&#39;</span><span class="p">);</span> <span class="nx">l</span><span class="p">.</span><span class="nx">rel</span> <span class="o">=</span> <span class="s1">&#39;stylesheet&#39;</span><span class="p">;</span>
</span><span class="line">    <span class="nx">l</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s1">&#39;small.css&#39;</span><span class="p">;</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;head&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span> <span class="nx">h</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span> <span class="nx">h</span><span class="p">);</span>
</span><span class="line">  <span class="p">};</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">raf</span> <span class="o">=</span> <span class="nx">requestAnimationFrame</span> <span class="o">||</span> <span class="nx">mozRequestAnimationFrame</span> <span class="o">||</span>
</span><span class="line">      <span class="nx">webkitRequestAnimationFrame</span> <span class="o">||</span> <span class="nx">msRequestAnimationFrame</span><span class="p">;</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="nx">raf</span><span class="p">)</span> <span class="nx">raf</span><span class="p">(</span><span class="nx">cb</span><span class="p">);</span>
</span><span class="line">  <span class="k">else</span> <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="nx">cb</span><span class="p">);</span>
</span><span class="line"><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>From “Network” in the web developer toolbar, in an up-to-date version
of modern browsers, this anonymous function which loads external CSS
files should be executed <em>before</em> <code>script.onload</code> and <code>window.onload</code>.</p>

<p>In addition, unlike Javascripts, I <em>don’t</em> use something like
<code>stylesheet.onload</code>.  Simply put the relative path or URL of the
external CSS files inside the anonymous function will do.</p>

<p>After I grabbed the stylesheets before the external Javascripts
loaded, the missing components of the pop up window were <em>still</em>
missing.  It took me half an hour to figure out that <code>l.rel =
'stylesheet'</code> <em>couldn’t</em> be omitted.  I then pushed commit <a href="https://github.com/VincentTam/vincenttam.github.io/commit/1d40cea">1d40cea</a>
to GitHub and claimed that I’d found a way for both Google Chrome and
Mozilla Firefox.</p>

<p>The next day, I tested it with M$ I.E., and older versions of Google
Chrome and Mozilla Firefox.  In older versions, my configurations had
<em>failed</em>, but they worked fine in the recent ones.  For example, the
method of loading external Javascripts in a non-render-blocking manner
as suggested by Google Developers <em>didn’t</em> work in Mozilla Firefox 14,
which <em>didn’t</em> support <code>requestAnimationFrame</code>.  Though
<code>mozRequestAnimationFrame</code> was supported, if they’re put together, the
whole thing would collapse.  Since I’m <em>not</em> a web
designer/programmer, I <em>won’t</em> consider fixing this problem since</p>

<ul>
  <li>the old versions of browsers will be eventually upgraded, and more
  importantly,</li>
  <li>I’ve other (non-technical) problems to solve.</li>
</ul>

<h3 id="onload-and-createelement">Onload and createElement()</h3>

<p>I’ve read a question on Stack Overflow, and understood that even
though a <code>&lt;script&gt;</code> element with the <code>src='/javascripts/foo.js'</code>
attribute had been created by the <code>createElement()</code> function, the
functions defined in the external script <code>/javascripts/foo.js</code> could
be <em>unusable</em> if one <em>doesn’t</em> make proper use of <code>script.onload</code>.</p>

<h3 id="a-fallback-for-google-hosted-jquery">A fallback for Google hosted jQuery</h3>

<p>In my opinion, this is the <em>most</em> difficult part, which has taken me a
<em>whole</em> day.</p>

<p>I observed that loading <em>both</em> the local and remote copy of jQuery was
<em>incorrect</em>.  Since jQuery is relatively <em>large</em>, leaving this problem
unsolved is like leaving a black dot on a whiteboard.</p>

<p>One <em>can’t</em> simply remove the local copy of jQuery since Google is
<em>blocked</em> in some regions.<sup id="fnref:news"><a href="#fn:news" class="footnote">9</a></sup>  There’re some political reasons
behind.  Unlike Zigang Xiao’s blog, I’m <em>not</em> going to write any
articles on politics.<sup id="fnref:po"><a href="#fn:po" class="footnote">10</a></sup>  I’ll just seek a <em>technical</em> solution to
this <em>political</em> problem.</p>

<p>This problem is <em>extremely difficult</em> for me since I’m <em>not</em> a student
of IT, and there’s <em>no</em> direct solution from the Internet.  Inside and
outside the function triggered by an <code>onload</code> event, code <em>aren’t</em>
executed sequencially, but <em>in parallel</em>.  Therefore, if I put <code>if
(typeof jQuery == 'undefined')</code> after <code>getScript(...)</code>, then even
though the Google hosted jQuery library can be downloaded, the if
statement returns <em>true</em>.  Google Chromium and Mozilla Firefox showed
<em>different</em> results for the <em>same</em> JavaScript.  This increased the
difficulty of the task.</p>

<p>While coming up with a solution, I looked at
<code>source/_includes/head.html</code>, and found the following line.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;script&gt;</span><span class="o">!</span><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">&amp;&amp;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">unescape</span><span class="p">(</span><span class="s1">&#39;%3Cscript</span>
</span><span class="line"><span class="s1">src=&quot;./javascripts/libs/jquery.min.js&quot;%3E%3C/script%3E&#39;</span><span class="p">))</span><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><em>Not</em> being familiar with JavaScript syntax, I searched for the
meaning of the <code>unescape()</code> function and that of the ‘.’ in front of
<code>/javascripts/...</code>.  After viewing a question on Stack Overflow, I
decided to create the <a href="https://github.com/imathis/octopress/pull/1699/" title="Fix the way of loading the local copy of jQuery">pull request #1699</a> of Octopress.
Luckily, it was accepted and merged into the <code>master</code> branch of
Octopress.</p>

<p>After doing some off-topic stuff, I curiously reproduced the error
described in the first subsection of this section, and figured out a
way to fix this error.  During the process, I’ve learnt the dependence
of difference scripts  Therefore, the correct sequence should be</p>

<ol>
  <li>Load <code>jquery.min.js</code>.</li>
  <li>Load <code>octopress.js</code> and <code>/fancybox/source/jquery.fancybox.js</code>.</li>
  <li>Load <code>/fancybox/source/helpers/jquery.fancybox-*.js</code>.</li>
  <li>Load <code>FancyBoxLocal.js</code>.</li>
</ol>

<p>For example, <code>appendChild(octopress)</code> should be <em>inside</em>
<code>jquery.onload = function() {...}</code>.</p>

<p>Finally, using “Network” in the web developer toolbar in Google
Chromium, I observed that <em>before</em> the <code>window.onload</code> event, the
<code>getScript(...)</code> method had already got the scripts.  I combined the
two ways, and solved the problem.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:nowheel">

      <p>I <em>didn’t</em> use the mousewheel plugin.  If one uses a mouse click
to get the popped up window, then he/she can also view the
next/previous picture with a click. <a href="#fnref:nowheel" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:pic_elt">

      <p>See, for example,
<a href="http://www.html5rocks.com/en/tutorials/responsive/picture-element/"><em>Built-in Browser Support for Responsive Images</em></a> by Pearl
Chen on HTML 5 Rocks, for an introduction to the <code>&lt;picture&gt;</code>
element. <a href="#fnref:pic_elt" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:erv">

      <p>See <a href="http://www.ewal.net/2012/09/08/octopress-customizations/"><em>Octopress Customizations</em></a> by Erv Walter on ewal.net. <a href="#fnref:erv" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:feedthebot">

      <p><a href="http://www.feedthebot.com/pagespeed/defer-loading-javascript.html"><em>Defer Loading Javascript</em></a> by Patrick Sexton on
feedthebot. <a href="#fnref:feedthebot" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:e7e6743">
      <p>See commit <a href="https://github.com/VincentTam/vincenttam.github.io/commit/e7e6743">e7e6743</a> for details. <a href="#fnref:e7e6743" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:so16647050">

      <p>See <a href="http://stackoverflow.com/q/16647050"><em>How to defer javascript</em></a> on Stack Overflow for
the function. <a href="#fnref:so16647050" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:w3sch">

      <p>The online example is available at
<a href="http://www.w3schools.com/jquery/tryit.asp?filename=tryjquery_children2">http://www.w3schools.com/jquery/tryit.asp?filename=tryjquery_children2</a> <a href="#fnref:w3sch" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:goo_dev_css">

      <p>See <a href="https://developers.google.com/speed/docs/insights/OptimizeCSSDelivery"><em>Optimize CSS delivery</em></a> on Google Developers
for details. <a href="#fnref:goo_dev_css" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:news">

      <p><a href="http://techcrunch.com/2010/04/19/google-censorship/"><em>Google Is Blocked In 25 Of The 100 Countries They Offer Products In</em></a>
by MG Siegler on TechCrunch. <a href="#fnref:news" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:po">
      <p><a href="http://blog.ivansiu.com/blog/2014/10/01/jing-ying-zhu-yi-yu-tou-piao-kao-shi/"><em>精英主義與投票考試</em></a> by Zigang Xiao. <a href="#fnref:po" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
</feed>
