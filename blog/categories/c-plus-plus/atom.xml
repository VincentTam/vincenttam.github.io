<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: C++ | Blog 1]]></title>
  <link href="http://vincenttam.github.io/blog/categories/c-plus-plus/atom.xml" rel="self"/>
  <link href="http://vincenttam.github.io/"/>
  <updated>2015-02-14T13:41:37+08:00</updated>
  <id>http://vincenttam.github.io/</id>
  <author>
    <name><![CDATA[Vincent Tam]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    
      <title type="html"><![CDATA[Tried Range-based for Loop]]></title>
      <link href="http://vincenttam.github.io/blog/2015/02/14/tried-range-based-for-loop/"/>
    
    <updated>2015-02-14T12:42:21+08:00</updated>
    <id>http://vincenttam.github.io/blog/2015/02/14/tried-range-based-for-loop</id>
    
      <content type="html"><![CDATA[<h2 id="problem">Problem</h2>

<p>I saw an example for range-based for loop in a Stack Overflow question
and I compiled it in my own computer.<sup id="fnref:eg"><a href="#fn:eg" class="footnote">1</a></sup>  Then I got an error.</p>

<pre class="cliUB"><code>$ g++ temp1.cpp
temp1.cpp: In function ‘int main()’:
temp1.cpp:9:18: error: range-based ‘for’ loops are not allowed in C++98 mode
    for (int i : bar) {
                  ^
temp1.cpp: In function ‘void foo(int (&amp;)[3])’:
temp1.cpp:16:18: error: range-based ‘for’ loops are not allowed in C++98 mode
    for (int i : bar) {
                  ^
</code></pre>

<!-- more -->

<p>I also received similar message after I typed the command for
compiling the program with <a href="http://clang.llvm.org/" title="Another C++ compiler">clang++</a>.</p>

<h2 id="solution">Solution</h2>

<p>I searched “gcc range based for loop are not allowed in” on Google,
and realised that I forgot to add the flag <code>-std=c++11</code>.  <sup id="fnref:sol"><a href="#fn:sol" class="footnote">2</a></sup>
After doing so, I could successfully compile the program using either
<a href="https://gcc.gnu.org/" title="GNU Compiler Collection">GCC</a> or clang++.</p>

<h2 id="clangs-error-message">clang++’s error message</h2>

<p>I think that clang++ is better than gcc in this case because the error
message is <em>brighter</em> than the code.  The word “warning” is in purple,
while the ‘^’ is in yellow.  This helps users to see what’s wrong.</p>

<pre class="cliUB"><code>temp1.cpp:9:16: warning: range-based for loop is a C++11 extension
      [-Wc++11-extensions]
    for (int i : bar) {
               ^
temp1.cpp:16:16: warning: range-based for loop is a C++11 extension
      [-Wc++11-extensions]
    for (int i : bar) {
               ^
2 warnings generated.
</code></pre>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:eg">

      <p><a href="http://stackoverflow.com/a/26182985">c++ Range based for-loop on array passed to non-main function</a>
on Stack Overflow <a href="#fnref:eg" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:sol">

      <p><a href="http://stackoverflow.com/a/22859334">Error: Range-based ‘for’ loops are not allowed in C++98 mode</a> <a href="#fnref:sol" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
</feed>
