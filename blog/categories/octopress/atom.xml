<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Octopress | Blog 1]]></title>
  <link href="https://vincenttam.github.io/blog/categories/octopress/atom.xml" rel="self"/>
  <link href="https://vincenttam.github.io/"/>
  <updated>2017-01-28T23:37:00+08:00</updated>
  <id>https://vincenttam.github.io/</id>
  <author>
    <name><![CDATA[Vincent Tam]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    
      <title type="html"><![CDATA[Moved to Octopress 3]]></title>
      <link href="https://vincenttam.github.io/blog/2017/01/28/moved-to-octopress-3/"/>
    
    <updated>2017-01-28T22:26:33+08:00</updated>
    <id>https://vincenttam.github.io/blog/2017/01/28/moved-to-octopress-3</id>
    
      <content type="html"><![CDATA[<h2 id="in-short">In short</h2>

<p>Link for my new blog: <a href="https://git.io/vo3">https://git.io/vo3</a></p>

<h2 id="motivation-for-giving-up-a-large-blog">Motivation for giving up a large blog</h2>

<p>As this blog grows, things have become increasingly harder to manage.
The customizations, scripts and stylesheets are <em>everywhere</em>, within
and outside the <code>source</code> folder.  The CSS stylesheets for codeblocks
and a Solarized theme were written or installed years ago.  The Gist
tag in Octopress <em>doesn’t</em> work as well as expected.  It’s hard to see
the highlighted area.  Moreover, the <code>range</code> and <code>mark</code> in Octopress
2’s <code>codeblock</code> tag <em>never</em> works.  As the purpose of this blog is to
remind myself about the technical details of the code, the lack of
such functionalities caused me a lot of inconveniences: while writing,
after attaching the whole chuck of code, I need to specify the line
number; while reading, after viewing the line number, I have to locate
it in lines of code.  In order to highlight part of the code, I’ve
created some CSS classes (e.g. <code>UBCli</code>) and put it somewhere inside
<code>sass</code> folder, I spent hours for test the rules and identified the
<code>important !</code> ones.  This custom CSS class is fine in normal text, but
it <em>breaks</em> in list items <code>&lt;li&gt;&lt;/li&gt;</code>.  It’s time switch to Jekyll
plugins written by full-time developers, such as
<a href="https://github.com/Xadeck/jekyll-terminal">jekyll-terminal</a>.  But then I need to install a plugin.
Will it be compatible with the existing <code>plugins/*.rb</code>?  Instead of
spending even much more time on code written in a language that I
<em>don’t</em> even understand, as a <em>non</em>-developer and a math student, I
can choose another popular technology which is well-developped for
posting math and program code.</p>

<p>The structure of an Octopress 3 blog repository is cleaner than that
of Octopress 2 because Octopress 3 is a Ruby gem, which can be managed
by bundle.  This tool and Git work together to bring about an easier
new feature test on the local repository for my blog.</p>

<p>What’s worse: due to the change of timezone last year, Google
Webmasters has found over 70 crawl errors in this blog.  Despite the
Jekyll update to version 3, I <em>couldn’t</em> resolve this issue.  I’ll
manually fix each erroneous link later if I’ve time.</p>

<p>I tried hard migrating over 350 existing post in this blog to
Octopress 3, but it’s too hard.  First, <code>jekyll build</code> returned a
plethora of syntax errors caused by the change in default markdown
parser (from rdiscound to kramdown with <abbr title="GitHub-flavored markdown">GFM</abbr> enabled).  Second, some of
the posts are about technologies that I’m no longer using now, so they
<em>aren’t</em> worth the effort.  Third, I found it extremely hard to set up
the stylesheets and the Liquid templates dispersed in several separate
folders (namely, <code>sass/, _includes/</code>, <code>_templates/</code>, <code>_layouts</code>
<code>stylesheets</code>, <code>javascripts</code>), so that I can have the category list
and RSS back.  The sources for examples and documentations for Jekyll
Liquid tags are few.  I <em>can’t</em> even find a way to verify <em>the</em>
example of the <code>include</code> tag on Shopify Liquid’s documentation.  The
result depends on so many factors, notably the installed version of
Ruby (runtime environment and gems) and the machine’s operating system
(for Windows, the <code>wdm</code> gem is needed).  The whole process requires
many commands and is certainly prone to human errors.  After one
week’s fruitless attempt.  Being exhausted, I realised that I need to
give up some nice features in the original blog, and move to the new
one for a more manageable framework in order to save time.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[A Quick Markdown Syntax Error Detection for Writing MathJax Equations in Octopress Posts (5)]]></title>
      <link href="https://vincenttam.github.io/blog/2017/01/11/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-5/"/>
    
    <updated>2017-01-11T05:52:52+08:00</updated>
    <id>https://vincenttam.github.io/blog/2017/01/11/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-5</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>In the <a href="/blog/2016/12/12/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-4/">previous post in this series</a>, I included three <a href="http://www.vim.org">Vim</a>
editor commands.</p>

<h2 id="problem">Problem</h2>

<p>As I’ve already typed hundreds of lines of source code, I feel tired
and I often <em>make mistakes</em> while typing those commands despite these
two command mode mappings in my <code>~/.vimrc</code>.</p>

<p><figure class='code'><figcaption><span>More efficient recall from Vim command history</span><a href='http://bit.ly/2idDlxa'>Gist </a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'>“ Practical Vim Tip <span class="m">34</span>: Avoid cursors when rcl’<span class="k">g</span> cmd from <span class="k">hist</span>
</span><span class='line'>cnoremap <span class="p">&lt;</span>C<span class="p">-</span><span class="k">p</span><span class="p">&gt;</span> <span class="p">&lt;</span>Up<span class="p">&gt;</span>
</span><span class='line'>cnoremap <span class="p">&lt;</span>C<span class="p">-</span><span class="k">n</span><span class="p">&gt;</span> <span class="p">&lt;</span>Down<span class="p">&gt;</span>
</span></code></pre></td></tr></table></div></figure></Down></C-n></Up></C-p></p>

<!-- more -->

<h2 id="solution">Solution</h2>

<p>Convert these three commands into a shell script.  Since I’m using
<a href="http://www.vim.org/scripts/script.php?script_id=1984">FuzzyFinder</a>, I assume that the current working directory
(as shown by <code>:pwd</code>) is the root of the local repository for the
[Octopress] blog.</p>

<p><figure class='code'><figcaption><span>Script for Octopress editing within Vim  (quik-prv.sh)</span> <a href='/downloads/code/quik-prv.sh'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'>sed <span class="s1">&#39;1,8d&#39;</span> <span class="nv">$1</span> <span class="p">|</span> kramdown &gt; temp.html~
</span><span class='line'>cat <span class="o">{</span>temp,script<span class="o">}</span>.html~ &gt; tempmj.html~
</span></code></pre></td></tr></table></div></figure></p>

<ol>
  <li>The YAML header is chopped off since I just want to verify the
[kramdown] syntax.</li>
  <li>I appended <code>~</code> after the file extension names <code>.html</code> since I had
added <code>*~</code> in my <code>.gitignore</code> and I <em>didn’t</em> want these files
(including this shell script) to be tracked by Git.</li>
  <li>I created a symbolic link on Windows 10 with <code>mklink</code> in <code>cmd</code>.
(ran as admin)  Other options are more <em>complicated</em>:
    - Graphical programs: more disk space is consumed for programs
        rarely used which have command line alternatives.
    - Windows Power Shell: this method <em>won’t</em> work for Home
        edition.  (That’s my case.)  I’m quite satisfied by the
        current edition and I <em>don’t</em> see any reason to spend
        a thousand dollar and a whole day to have it changed to Pro
        version for functionalities that are too advanced for me.</li>
</ol>

<h2 id="lessons-learnt">Lessons learnt</h2>

<p>While I was writing this post, I used</p>

<pre><code>grep -e "\[kramdown\]" %:h/*.markdown
</code></pre>

<p>in the current buffer in order to quickly retrieve the links to
websites to which I had previously referred.  To escape the square
brackets and the search pattern, the flag <code>-e</code> is added in between the
utility name and the pattern string.  I tried using marks, but I had
forgotten the difference between a mark named with a small letter and
a capital letter.</p>

<table>
  <thead>
    <tr>
      <th>Mark</th>
      <th>Range</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>small</td>
      <td>local</td>
    </tr>
    <tr>
      <td>capital</td>
      <td>global</td>
    </tr>
  </tbody>
</table>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Octopress Config for Ruby 2.3 on Windows 10]]></title>
      <link href="https://vincenttam.github.io/blog/2017/01/10/octopress-config-for-ruby-2-dot-3-on-windows-10/"/>
    
    <updated>2017-01-10T23:38:32+08:00</updated>
    <id>https://vincenttam.github.io/blog/2017/01/10/octopress-config-for-ruby-2-dot-3-on-windows-10</id>
    
      <content type="html"><![CDATA[<h2 id="motivation">Motivation</h2>

<p>Same as the background in <a href="/blog/2017/01/10/upgraded-to-git-for-windows-2-dot-11/">my previous article</a>.</p>

<h2 id="background">Background</h2>

<p>I uninstalled Ruby 2.0 in the Control Panel, and then installed
version 2.3.3 from <a href="https://rubyinstaller.org/">RubyInstaller for Windows</a></p>

<h2 id="problem-1-redcloth-installation-failure">Problem 1: RedCloth installation failure</h2>

<h3 id="error-message">Error message</h3>

<pre class="cli"><code>Gem::InstallError: The 'RedCloth' native gem requires installed build tools.

Please update your PATH to include build tools or download the DevKit
from 'http://rubyinstaller.org/downloads' and follow the instructions
at 'http://github.com/oneclick/rubyinstaller/wiki/Development-Kit'

An error occurred while installing RedCloth (4.2.9), and Bundler cannot
continue.
Make sure that `gem install RedCloth -v '4.2.9'` succeeds before bundling.
</code></pre>

<p>The error message is similar to <a href="http://stackoverflow.com/a/36274233/280189">Joe’s gem install error</a>.
The only difference is that I was installing <a href="http://redcloth.org/">RedCloth</a> 4.9.</p>

<h3 id="solution">Solution</h3>

<p>This failure is due to the absence of a valid path to
<a href="https://rubyinstaller.org/add-ons/devkit/">RubyInstaller Development Kit</a>.  I tried manually adding the
path to the folder for binary executables (default to
<code>C:\RubyDevKit\bin</code>) to <code>PATH</code>, but it’s <em>unsuccessful</em>.  I googled
“Please update your PATH to include build tools” and found
<a href="http://stackoverflow.com/a/36274233/280189">his question</a>, whose third answer explained the function
of <code>devkitvar.bat</code>.  This batch script actually prepended the path of
<em>two</em> folders into <code>PATH</code>.  One is stated above; one is
<code>C:\RubyDevKit\mingw\bin</code>.  Running this batch file changes <code>PATH</code>
<em>temporarily</em>.  A manual configuration in the Control Panel allowed
the system to detect <a href="https://rubyinstaller.org/add-ons/devkit/">DevKit</a>, and this problem was thus
solved.</p>

<h3 id="related-gems">Related gems</h3>

<h4 id="already-installed">Already installed</h4>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th style="text-align: right">Version Number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>rake</td>
      <td style="text-align: right">10.4.2</td>
    </tr>
    <tr>
      <td>bundler</td>
      <td style="text-align: right">1.13.7</td>
    </tr>
  </tbody>
</table>

<h4 id="being-installed">Being installed</h4>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th style="text-align: right">Version Number</th>
      <th style="text-align: center">With native extensions?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>RedCloth</strong></td>
      <td style="text-align: right">4.2.9</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td><strong>wdm</strong></td>
      <td style="text-align: right">0.1.0</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>blankslate</td>
      <td style="text-align: right">2.1.2.4</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>chunky_png</td>
      <td style="text-align: right">1.3.4</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>coffee-script-source</td>
      <td style="text-align: right">1.9.1</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>colorator</td>
      <td style="text-align: right">0.1</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>execjs</td>
      <td style="text-align: right">2.4.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>fast-stemmer</td>
      <td style="text-align: right">1.0.2</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>ffi</td>
      <td style="text-align: right">1.9.6</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>hitimes</td>
      <td style="text-align: right">1.2.2</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>jekyll-gist</td>
      <td style="text-align: right">1.1.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>jekyll-paginate</td>
      <td style="text-align: right">1.1.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>jekyll-sitemap</td>
      <td style="text-align: right">0.8.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>kramdown</td>
      <td style="text-align: right">1.6.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>liquid</td>
      <td style="text-align: right">2.6.2</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>mercenary</td>
      <td style="text-align: right">0.3.5</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>multi_json</td>
      <td style="text-align: right">1.11.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>posix-spawn</td>
      <td style="text-align: right">0.3.10</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>rack</td>
      <td style="text-align: right">1.6.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>rb-fsevent</td>
      <td style="text-align: right">0.9.4</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>redcarpet</td>
      <td style="text-align: right">3.2.2</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>safe_yaml</td>
      <td style="text-align: right">1.0.4</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>sass</td>
      <td style="text-align: right">3.4.13</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>stringex</td>
      <td style="text-align: right">1.4.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>tilt</td>
      <td style="text-align: right">1.4.1</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>yajl-ruby</td>
      <td style="text-align: right">1.2.1</td>
      <td style="text-align: center">✓</td>
    </tr>
  </tbody>
</table>

<h2 id="problem-2-wdm-installation-failure">Problem 2: wdm installation failure</h2>

<p>I put the <a href="#wdm" class="cliwide">error message from wdm</a> in a popup dialog.</p>

<div id="wdm" class="noscr">
<pre class="cli"><code>Owner@Owner-PC MINGW64 /c/github/vincenttam.github.io (source)
$ bundle install
Fetching gem metadata from https://rubygems.org/.........
Fetching version metadata from https://rubygems.org/..
Fetching dependency metadata from https://rubygems.org/.
Using rake 10.4.2
Using RedCloth 4.2.9
Using blankslate 2.1.2.4
Installing hitimes 1.2.2 with native extensions
Using chunky_png 1.3.4
Installing fast-stemmer 1.0.2 with native extensions
Using coffee-script-source 1.9.1
Using execjs 2.4.0
Using colorator 0.1
Using multi_json 1.11.0
Using sass 3.4.13
Using rb-fsevent 0.9.4
Using ffi 1.9.6
Using tilt 1.4.1
Using jekyll-gist 1.1.0
Using jekyll-paginate 1.1.0
Using kramdown 1.6.0
Using liquid 2.6.2
Using mercenary 0.3.5
Installing posix-spawn 0.3.10 with native extensions
Installing yajl-ruby 1.2.1 with native extensions
Installing redcarpet 3.2.2 with native extensions
Using safe_yaml 1.0.4
Using jekyll-sitemap 0.8.0
Using rack 1.6.0
Using stringex 1.4.0
Installing wdm 0.1.0 with native extensions
Using bundler 1.13.7
Installing parslet 1.5.0
Installing timers 4.0.1
Installing classifier-reborn 2.0.3
Installing coffee-script 2.3.0
Installing compass-core 1.0.3
Installing compass-import-once 1.0.5
Installing jekyll-sass-converter 1.3.0
Installing sass-globbing 1.0.0
Installing rb-inotify 0.9.5
Installing haml 4.0.6
Installing pygments.rb 0.6.2
Installing rack-protection 1.5.3
Gem::Ext::BuildError: ERROR: Failed to build gem native extension.

    current directory: C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/wdm-0.1.0/ext/wdm
C:/Ruby23-x64/bin/ruby.exe -r ./siteconf20170109-8020-1n4s35m.rb extconf.rb
checking for main() in -lkernel32... yes
checking for windows.h... yes
checking for ruby.h... yes
checking for HAVE_RUBY_ENCODING_H... yes
creating Makefile

To see why this extension failed to compile, please check the mkmf.log which can
be found here:



current directory: C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/wdm-0.1.0/ext/wdm
make "DESTDIR=" clean

current directory: C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/wdm-0.1.0/ext/wdm
make "DESTDIR="
generating wdm_ext-x64-mingw32.def
compiling entry.c
In file included from entry.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from entry.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from entry.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from entry.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling memory.c
In file included from memory.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from memory.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from memory.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from memory.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling monitor.c
In file included from monitor.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from monitor.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from monitor.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from monitor.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling queue.c
In file included from queue.c:3:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/vadefs.h:13:0,
from
4-mingw32/include/_mingw_stdarg.h:14,
from
4-mingw32/include/stdarg.h:140,
from
c:\rubydevkit\mingw\bin\../lib/gcc/x86_64-w64-mingw32/4.7.2/include/stdarg.h:1,
                 from queue.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from queue.c:3:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from queue.c:3:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling rb_change.c
In file included from rb_change.c:4:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdlib.h:9,
                 from rb_change.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from rb_change.c:4:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from rb_change.c:4:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling rb_monitor.c
In file included from rb_monitor.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from rb_monitor.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from rb_monitor.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from rb_monitor.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
rb_monitor.c: In function 'rb_monitor_run_bang':
rb_monitor.c:508:9: warning: implicit declaration of function
'rb_thread_blocking_region' [-Wimplicit-function-declaration]
compiling utils.c
In file included from utils.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from utils.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from utils.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from utils.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling wdm.c
In file included from wdm.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from wdm.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from wdm.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from wdm.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
linking shared-object wdm_ext.so
rb_monitor.o: In function `rb_monitor_run_bang':
C:\Ruby23-x64\lib\ruby\gems\2.3.0\gems\wdm-0.1.0\ext\wdm/rb_monitor.c:508:
undefined reference to `rb_thread_blocking_region'
collect2.exe: error: ld returned 1 exit status
make: *** [wdm_ext.so] Error 1

make failed, exit code 2

Gem files will remain installed in
C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/wdm-0.1.0 for inspection.
Results logged to
.out

An error occurred while installing wdm (0.1.0), and Bundler cannot continue.
Make sure that `gem install wdm -v '0.1.0'` succeeds before bundling.
</code></pre></div>

<p>From the line</p>

<pre class="cli"><code>wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
</code></pre>

<p>I found <a href="https://github.com/Maher4Ever/wdm/issues/18">wdm issue #18</a>, but I <em>failed</em> to notice that the
problem had been resolved.  I later knew that from
<a href="https://github.com/jekyll/jekyll/issues/3721">Jekyll issue #3721</a>.</p>

<p>After changing the version number of <a href="https://rubygems.org/gems/wdm">wdm</a> to 0.1.1, I could proceed
further.  <a href="#wdmfixed" class="cliwide">The system output</a> was fine.</p>

<div id="wdmfixed" class="noscr">
<pre class="cli"><code>Owner@Owner-PC MINGW64 /c/github/vincenttam.github.io (source)
$ gem install wdm -v '0.1.1'
Building native extensions.  This could take a while...
Successfully installed wdm-0.1.1
Parsing documentation for wdm-0.1.1
Installing ri documentation for wdm-0.1.1
Done installing documentation for wdm after 0 seconds
1 gem installed
Owner@Owner-PC MINGW64 /c/github/vincenttam.github.io (source)
$ bundle install
Fetching gem metadata from https://rubygems.org/..........
Fetching version metadata from https://rubygems.org/..
Fetching dependency metadata from https://rubygems.org/.
Resolving dependencies...
Using rake 10.4.2
Using RedCloth 4.2.9
Using blankslate 2.1.2.4
Using hitimes 1.2.2
Using chunky_png 1.3.4
Using fast-stemmer 1.0.2
Using coffee-script-source 1.9.1
Using execjs 2.4.0
Using colorator 0.1
Using multi_json 1.11.0
Using sass 3.4.13
Using rb-fsevent 0.9.4
Using ffi 1.9.6
Using tilt 1.4.1
Using jekyll-gist 1.1.0
Using jekyll-paginate 1.1.0
Using kramdown 1.6.0
Using liquid 2.6.2
Using mercenary 0.3.5
Using posix-spawn 0.3.10
Using yajl-ruby 1.2.1
Using redcarpet 3.2.2
Using safe_yaml 1.0.4
Using jekyll-sitemap 0.8.0
Using rack 1.6.0
Using stringex 1.4.0
Using wdm 0.1.1 (was 0.1.0)
Using bundler 1.13.7
Using parslet 1.5.0
Using timers 4.0.1
Using classifier-reborn 2.0.3
Using coffee-script 2.3.0
Using compass-core 1.0.3
Using compass-import-once 1.0.5
Using jekyll-sass-converter 1.3.0
Using sass-globbing 1.0.0
Using rb-inotify 0.9.5
Using haml 4.0.6
Using pygments.rb 0.6.2
Using rack-protection 1.5.3
Installing toml 0.1.2
Installing celluloid 0.16.0
Installing jekyll-coffeescript 1.0.1
Installing compass 1.0.3
Installing sinatra 1.4.5
Installing listen 2.8.5
Installing jekyll-watch 1.2.1
Installing jekyll 2.5.3
Installing octopress-hooks 2.6.0
Installing octopress-date-format 2.0.2
Bundle complete! 14 Gemfile dependencies, 50 gems now installed.
Use `bundle show [gemname]` to see where a bundled gem is installed.
Post-install message from compass:
    Compass is charityware. If you love it, please donate on our behalf at http:
//umdf.org/compass Thanks!
</code></pre></div>

<h2 id="problem-3-i-have-a-row-with-justin">Problem 3: I have a row with Justin.</h2>

<p>When I ran <code>rake preview</code>, the follow line appeared.</p>

<pre class="cli"><code>bash: /c/Ruby23-x64/bin/rake: C:/Users/Justin/Projects/rubyinstaller/sandbox/rub
y23_mingw/bin/ruby.exe: bad interpreter: No such file or directory
</code></pre>

<p>I searched “rake install justin projects” on <a href="google.com">Google</a>.
You may follow <a href="http://stackoverflow.com/a/36925869/280189">griest’s advice</a> to have this problem
fixed.  If this link were unluckily dead in the future, you might
leave a comment below after getting rid of Justin at the first line of
<code>/c/Ruby23-x64/bin/rake</code>.</p>

<h2 id="result">Result</h2>

<p><a href="http://octopress.org">Octopress</a> did work on my machine.  Then I re-ran <code>bundle install</code>
under the local repository for <a href="/blog2">my another blog</a>, but the
<a href="/blog/2016/08/20/jekyll-serve-error/"><em>same</em> Celluloid error</a> <em>re-appeared</em>.  I <em>don’t</em> know how to
perform a <a href="https://talk.jekyllrb.com/t/error-while-trying-to-run-jekyll-serve/933/10">celluloid downgrade</a> to version 16.0 under that
repository.  The version number for <a href="https://rubygems.org/gems/celluloid/versions/0.17.3">Celluloid</a> was <em>generated</em> by the
system—I <em>didn’t</em> type it in <code>Gemfile.lock</code>.  As a result, I
switched to <a href="https://msdn.microsoft.com/en-us/commandline/wsl/about">Ubuntu on Windows 10</a>.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[A Quick Markdown Syntax Error Detection for Writing MathJax Equations in Octopress Posts (4)]]></title>
      <link href="https://vincenttam.github.io/blog/2016/12/13/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-4/"/>
    
    <updated>2016-12-13T04:47:36+08:00</updated>
    <id>https://vincenttam.github.io/blog/2016/12/13/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-4</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>I’m recently enhancing the $\rm \LaTeX$ code for inline limits.  For
the reason of doing so, you may refer to the external link of
<a href="http://meta.math.stackexchange.com/a/15077/290189">my recent linklog</a> <em>Inline Limit Rendering</em>.</p>

<h2 id="problem">Problem</h2>

<p>In the previous post in this series written over one year ago, I have
included a code block which enables <a href="/blog/2015/08/04/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-3/#include-the-script-in-the-content">deferred MathJax loading</a>.
However, I manually added this chuck of code in the HTML file
generated by <a href="http://kramdown.gettalong.org/">kramdown</a>, which created the problem described in the
next subsection <em>A problem with Vim’s folding arised</em>.</p>

<h2 id="solution">Solution</h2>

<p>Firstly, save the code for loading <a href="https://www.mathjax.org/">MathJax</a> in <a href="/blog/2015/08/04/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-3/#include-the-script-in-the-content">the previous
post</a> in this series in a separate file <code>~/script.html</code>.  Then
use the following commands <em>within</em> Vim in order to avoid leaving the
current buffer and to improve efficiency.</p>

<pre><code>9,$w! ~/temp.mkd
!kramdown ~/temp.mkd &gt; ~/temp.html
!cat ~/{temp,script}.html &gt; ~/test.html
</code></pre>

<p>The digit <code>9</code> in the first command <em>isn’t</em> exact.  Change it to any
line number that separates the <a href="http://jekyllrb.com/docs/frontmatter/">yaml front matter</a> from the
post content.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Website Preview in Mobile Devices]]></title>
      <link href="https://vincenttam.github.io/blog/2016/08/21/website-preview-in-mobile-devices/"/>
    
    <updated>2016-08-21T18:30:57+08:00</updated>
    <id>https://vincenttam.github.io/blog/2016/08/21/website-preview-in-mobile-devices</id>
    
      <content type="html"><![CDATA[<h2 id="goal">Goal</h2>

<p>To know the page layout of a website, notably my blogs, on mobile
devices before publishing it.</p>

<p><img src="/images/posts/SitePreviewMobile/Screenshot-2016-08-21-19-36-14.png" alt="Preview this blog on a smartphone" /></p>

<h2 id="problem">Problem</h2>

<p>I used <code>ifconfig</code> to check the IP address of my desktop where the
preview site was hosted.  It’s <code>192.168.1.5</code>.  When I typed in this
address followed by a colon and the port number <code>4000</code>, then the
browser said “connection timeout” after loading for a while.</p>

<p><img src="/images/posts/SitePreviewMobile/Screenshot-2016-08-21-19-35-00.png" alt="Connection timeout" /></p>

<!-- more -->

<h2 id="solution">Solution</h2>

<p>I spent a day to identify the cause of the problem.</p>

<h3 id="host-name-incorrect">Host name incorrect</h3>

<p>Actually, the website should be hosted at the internal IP address
shown by <code>ifconfig</code> instead of <code>localhost</code>.  Since I switch off the
router before going to bed every day, the internal IP address for my
desktop changes daily.  Therefore, one uses <code>0.0.0.0</code> to host the site
on <em>all</em> IP addresses that the machine possesses.</p>

<p>In <a href="https://github.com/plusjade/jekyll-bootstrap">Jekyll-Bootstrap</a>, one may simply add <code>host : 0.0.0.0</code> in
<code>_config.yml</code>; in <a href="http://octopress.org/">Octopress</a>, one may find the line containing
<code>server_port</code> in the middle of <code>Rakefile</code> and add <code>--host
#{listen_host}</code>.<sup id="fnref:myeg"><a href="#fn:myeg" class="footnote">1</a></sup></p>

<p>``` ruby Changes in Rakefile http://www.jmlog.com/octopress-preview-config-in-vagrant/
server_port     = “4000”      # port for preview server eg. localhost:4000
listen_host     = “0.0.0.0”   # bind to all available IPs</p>

<h1 id="rackuppid--processspawnrackup---port-serverport">rackupPid = Process.spawn(“rackup –port #{server_port}”)</h1>
<p>rackupPid = Process.spawn(“rackup –port #{server_port} –host #{listen_host}”)
```</p>

<h3 id="port-blocked-by-firewall">Port blocked by firewall</h3>

<p>On Ubuntu, I used <abbr title="Uncomplicated Firewall">UFW</abbr> to open the port <code>4000</code> to all devices at home.
(The netmask of my home router has 24 bits, which is the usual
setting.)</p>

<pre class="cliUB"><code>sudo ufw allow from 192.168.1.0/24 to any port 4000:4001 proto tcp
</code></pre>

<h2 id="references">References</h2>

<ol>
  <li><a href="https://help.ubuntu.com/community/UFW#Allow_and_Deny_.28specific_rules.29"><abbr title="Uncomplicated Firewall">UFW</abbr> – Ubuntu Community Help</a>: the syntax for allowing and
denying specific machines.</li>
  <li><a href="http://www.jmlog.com/octopress-preview-config-in-vagrant/"><em>Vagrant 下的 Octopress 預覽設置</em></a>: A sample <code>Rakefile</code>
which allows the specification of the host address.</li>
  <li>鳥哥的 Linux 私房菜 – <a href="http://linux.vbird.org/linux_server/0110network_basic.php">基礎網路概念</a>: A detailed explanation
for some fundamental concepts like IP address, netmask and subnet.
I understand what <code>/24</code> in <code>192.168.1.0/24</code> means after reading
this chapter of the guide.</li>
  <li>An Ask Ubuntu question on specifying a
<a href="http://askubuntu.com/q/7099">range of ports in <abbr title="Uncomplicated Firewall">UFW</abbr></a></li>
</ol>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:myeg">

      <p>View my working examples:</p>

      <ul>
        <li><a href="/">Blog 1</a>: at commit <a href="https://github.com/VincentTam/vincenttam.github.io/commit/bfa1e9e">bfa1e9e</a></li>
        <li><a href="/blog2">Blog 2</a>: at commit <a href="https://github.com/VincentTam/blog2/commit/d4ec6a6">d4ec6a6</a></li>
      </ul>
      <p><a href="#fnref:myeg" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
</feed>
