<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Octopress | Blog 1]]></title>
  <link href="https://vincenttam.github.io/blog/categories/octopress/atom.xml" rel="self"/>
  <link href="https://vincenttam.github.io/"/>
  <updated>2016-02-08T01:57:49+08:00</updated>
  <id>https://vincenttam.github.io/</id>
  <author>
    <name><![CDATA[Vincent Tam]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    
      <title type="html"><![CDATA[Flair in Octopress via HTTPS]]></title>
      <link href="https://vincenttam.github.io/blog/2016/02/07/flair-in-octopress-via-https/"/>
    
    <updated>2016-02-07T23:52:33+08:00</updated>
    <id>https://vincenttam.github.io/blog/2016/02/07/flair-in-octopress-via-https</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>I replaced <a href="/images/avatar256.png">the big avatar</a> of my self intro in the sidebar
with my Stack Exchange flair, which summarized my reputation and
badges on <a href="https://math.stackexchange.com">Mathematics Stack Exchange</a>.  Since then, it’s
easier to see my profile there.</p>

<h2 id="problem">Problem</h2>

<p>When I browsed my blog, I saw a lock with a yellow triangle on the
left of the URL.</p>

<picture class="fancybox" title="An abnormal icon on the left of the
URL">
  <source srcset="/images/posts/Flair/mixed-397.png" media="(min-width: 400px)" /> 
  <img alt="An abnormal icon on the left of the URL" src="https://vincenttam.github.io/images/posts/Flair/mixed-300.png" />
</picture>

<p>This indicated the presence of insecure contents.</p>

<picture class="fancybox" title="Firefox's error console message">
  <source srcset="/images/posts/Flair/log-714.png" media="(min-width: 720px)" /> 
  <source srcset="/images/posts/Flair/log-516.png" media="(min-width: 520px)" /> 
  <img alt="Firefox's error console message" src="https://vincenttam.github.io/images/posts/Flair/log-300.png" />
</picture>

<p><strong>How can I get rid of this error message?</strong></p>

<!-- more -->

<h2 id="solution">Solution</h2>

<p>Even though I focus on math analysis now and I’m <em>not</em> going to write
any programming code, the advice of
<a href="http://polymerhk.com/articles/2016/02/03/27363/">this article about programming</a> still applies.  Reading the
error message, I recalled one of my old posts written more than one
year ago.  It was titled <a href="/blog/2014/06/05/mathjax-in-octopress-via-https/"><em>MathJax in Octopress via HTTPS</em></a>.
Therefore, the only thing that I needed to do was to add an <code>s</code>
between <code>http</code> and <code>:</code> in the URL of the image for the flair.</p>

<h2 id="a-command-learnt">A command learnt</h2>

<p>I typed the command <code>git log -g --grep "flair"</code> in the repository for
this blog, and I quickly see the results.</p>

<pre class="cliUB"><code>commit 5b9a757484314658458d86aa4613c75e5beb65e6
Reflog: HEAD@{0} (Vincent Tam &lt;fake@live.hk&gt;)
Reflog message: commit: Improved the code for my Stack Exchange flair
Author: Vincent Tam &lt;fake@live.hk&gt;
Date:   Mon Feb 8 01:04:06 2016 +0800

    Improved the code for my Stack Exchange flair
    
    1. Avoid the problem described in b6f4f1f.
    2. Get rid of the line break in the popup tooltip text of the image.

commit 8800fa646fb8d6f22dd924b43a38e4ef3460e63e
Reflog: HEAD@{6} (Vincent Tam &lt;fake@live.hk&gt;)
Reflog message: commit: Changed the picture on the RHS in self-intro
Author: Vincent Tam &lt;fake@live.hk&gt;
Date:   Sat Jan 16 16:43:33 2016 +0800

    Changed the picture on the RHS in self-intro
    
    Replaced the avatar with a flair so that it's more convenient to view my
    Stack Exchange profile.
</code></pre>

<p>Unluckily, the normal flags in the <code>grep</code> utility <em>aren’t</em> supported,
say the case insensitive search.</p>

<p>P.S. I replaced my email with <code>fake@live.hk</code> to avoid junk mail.  If
you fork any one of <a href="https://github.com/VincentTam">my repositories on GitHub</a>, you’ll
know what it is.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Git Merge Failed?]]></title>
      <link href="https://vincenttam.github.io/blog/2015/09/03/git-merge-failed/"/>
    
    <updated>2015-09-03T14:34:31+08:00</updated>
    <id>https://vincenttam.github.io/blog/2015/09/03/git-merge-failed</id>
    
      <content type="html"><![CDATA[<h2 id="problem">Problem</h2>

<p>Octopress has recently removed Rubypants, so the automatic smartquotes
<em>aren’t</em> supported any more.  However, after typing <code>git pull
octopress master</code> on the <code>source</code> branch of the local working
directory for this blog, <code>git</code> simply said that it’s “already
up-to-date”.  I compared the stored trees for <code>plugins/</code> by using <code>git
show HEAD:plugins</code> on the <code>source</code> and <code>octopress/master</code> branches.
If the former has the commits of the later, then
<code>plugins/rubypants.rb</code> <em>shouldn’t</em> be found on the former.  I issued
the command <code>git merge octopress/master</code> again, and the version
control system still said that there’s <em>no</em> unmerged commits from the
<code>octopress/master</code> branch.<sup id="fnref:remote"><a href="#fn:remote" class="footnote">1</a></sup></p>

<!-- more -->

<h2 id="cause">Cause</h2>

<p>By using <code>git log --abbrev-commit --pretty=oneline --graph</code> and <code>git
merge-base octopress/master HEAD</code>, I can quickly browse through the
commits.  Finally, I identified the reason for this failed merge: I
reverted the first merge of those two branches three months ago.  I
belive that I can revert this reversion to achieve my desired merge.</p>

<hr />
<div class="footnotes">
  <ol>
    <li id="fn:remote">

      <p>Since Octopress 3 is currently in development, I still use the
original version. <a href="#fnref:remote" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[A Quick Markdown Syntax Error Detection for Writing MathJax Equations in Octopress Posts (3)]]></title>
      <link href="https://vincenttam.github.io/blog/2015/08/05/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-3/"/>
    
    <updated>2015-08-05T00:18:45+08:00</updated>
    <id>https://vincenttam.github.io/blog/2015/08/05/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-3</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>I often write math in this blog.  After typing lots of characters,
syntax errors are <em>inevitable</em>, but no one wants them to be published.
Unluckily, the <code>rake generate</code> command takes <em>too long</em> to run.  In
order to find them out more quickly, I quickly went over the
<code>Gemfile</code> of the repository for this blog, and saw that the Markdown
engine of Octopress is kramdown.  Therefore, I used the command line
version of this Markdown parser to convert my Markdown source file to
an HTML document by a Vim Ex command.</p>

<pre><code>:!kramdown % &gt; %&lt;.html
</code></pre>

<p>For this, I’ve written two posts describing the workflow of producing
HTML web pages consisting of math expressions from Markdown source
files using kramdown and MathJax.</p>

<h2 id="problem">Problem</h2>

<p>In <a href="/blog/2014/12/10/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-1/">the first post</a> in this series, I’ve made a list of steps
in Vim.  However, jumping to other files is laborious.  More
importantly, those steps involve browsing and copying of lines of
HTML code of the <code>&lt;head&gt;</code>, which loads MathJax, in other HTML files.
This can <em>seriously</em> slow down the editing process.  Unhappily, this
problem <em>isn’t</em> solved in <a href="/blog/2014/12/13/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-2/">the second post</a> in this series.</p>

<!-- more -->

<h2 id="solution">Solution</h2>

<h3 id="include-the-script-in-the-content">Include the script in the content</h3>

<p>There might be some option for the kramdown command line utility to
use accept an HTML template files during the code conversion.
However, I’m <em>too lazy</em> to search for them as I need to work on
math.<sup id="fnref:pp1"><a href="#fn:pp1" class="footnote">1</a></sup></p>

<p>Remembering that I defered the loading of JavaScripts in order to
boost the PageSpeed score of this site, I adpated the script to load
MathJax instead of fancyBox in my draft markdown file.<sup id="fnref:pp2"><a href="#fn:pp2" class="footnote">2</a></sup></p>

<p><figure class='code'><figcaption><span>Put this at the bottom </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">function</span> <span class="nx">getScript</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="nx">success</span><span class="p">){</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">script</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">script</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">url</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">head</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;head&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
</span><span class='line'>    <span class="nx">done</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">script</span><span class="p">.</span><span class="nx">onload</span><span class="o">=</span><span class="nx">script</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">done</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="s1">&#39;loaded&#39;</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="s1">&#39;complete&#39;</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">done</span><span class="o">=</span><span class="kc">true</span><span class="p">;</span>
</span><span class='line'>      <span class="nx">success</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">script</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</span><span class='line'>      <span class="nx">head</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">};</span>
</span><span class='line'>    <span class="nx">head</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span><span class="nt">&lt;/script&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>getScript(“https://cdn.mathjax.org/mathjax/latest/MathJax.js?” +
</span><span class='line'>    “config=TeX-AMS-MML_HTMLorMML” +
</span><span class='line'>    “,https://vincenttam.github.io/javascripts/MathJaxLocal.js”,
</span><span class='line'>    function(){});<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>})();
</span><span class='line'><span class="ni">&amp;lt;</span>/script<span class="ni">&amp;gt;</span>
</span></code></pre></td></tr></table></div></figure></p>

<h3 id="a-problem-with-vims-folding-arised">A problem with Vim’s folding arised</h3>

<p>By default, with the plugin <code>vim-markdown</code> installed, the sections are
<em>folded</em>.  Before I can continue editing at the end of the file, I
have to open the last fold, which contained more than 25 lines due to
the script enabling MathJax at the bottom.  As a result, I have to
move back to the middle of the last fold by pressing <code>k</code> for a while.
That annoys me.  If the script is contained in a separate fold, it’s
better.  Therefore, adding a blank line and then a line consisting of
three hyphens will fix this problem.</p>

<h2 id="inadequacies">Inadequacies</h2>

<hr />
<p>(Added on SEP 3RD, 2015)</p>

<p>Now I realised that kramdown will leave the trailing two backslashes
at each line inside <code>&lt;div&gt;</code> tags in Markdown source files <em>untouched</em>.</p>

<hr />

<p>In <a href="/blog/2014/12/13/a-quick-markdown-syntax-error-detection-for-writing-mathjax-equations-in-octopress-posts-2/">the second post</a> in this series, we know that <code>&lt;div&gt;</code> tag
prevents kramdown from converting the code inside the tag to HTML,
while in <a href="/blog/2014/09/14/kramdowns-markdown-attributes/">another old post about kramdown’s Markdown attributes</a>,
one can revert the above behaviour by simply adding an attribute
<code>markdown="1"</code> to the <code>&lt;div&gt;</code> tag.  These can be reflected in the
above test.</p>

<p>Usually, in math environments inside a $\rm \LaTeX$ document, double
backslashes <code>\\</code> start a new line, and it’s the same in MathJax.
Typing <em>two</em> backslashes in the Markdown source down will suffice.
Unluckily, in the <em>real Markdown source</em> for Octopress posts, <em>four</em>
<code>\</code> are needed.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:pp1">

      <p>For example, I have to think about
<a href="/blog/2015/08/04/some-thoughts-on-a-real-valued-function/">multi-variable real-valued functions</a>. <a href="#fnref:pp1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:pp2">

      <p>Refer to my old post
<a href="/blog/2014/12/29/octopress-pagespeed-jquery-and-fancybox/"><em>Octopress, PageSpeed, jQuery and fancyBox</em></a> in <em>Blog 1</em> for
details. <a href="#fnref:pp2" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Set Up Another Local Repository for an Existing Octopress Blog]]></title>
      <link href="https://vincenttam.github.io/blog/2015/03/09/set-up-another-local-repository-for-an-existing-octopress-blog/"/>
    
    <updated>2015-03-09T15:17:20+08:00</updated>
    <id>https://vincenttam.github.io/blog/2015/03/09/set-up-another-local-repository-for-an-existing-octopress-blog</id>
    
      <content type="html"><![CDATA[<h2 id="motivation">Motivation</h2>

<p>Same as the raison d’être in <a href="/blog/2014/05/26/using-octopress-on-another-device/#raison-dtre"><em>Using Octopress on Another Device</em></a>
in Blog 1.</p>

<h2 id="problem">Problem</h2>

<p>When I wrote that post last year, I gave <em>too little</em> commands for the
actual process of setting up the local repository.  Yesterday, I
re-read <a href="http://blog.zerosharp.com/clone-your-octopress-to-blog-from-two-places/">Robert Anderson’s post</a> again, and tried reproducing the
steps, and got some redundant Git branches.</p>

<!-- more -->

<h2 id="my-steps">My steps</h2>

<p>Assume that throughout this post, the current working directoy is
<code>~/octopress</code>.</p>

<pre class="cliUB"><code>$ pwd
/home/owner/octopress
$ git clone -b source git@github.com:VincentTam/vincenttam.github.io.git .
Cloning into '.'...
remote: Counting objects: 71346, done.
remote: Compressing objects: 100% (76/76), done.
remote: Total 71346 (delta 8), reused 0 (delta 0), pack-reused 71266
Receiving objects: 100% (71346/71346), 63.71 MiB | 3.08 MiB/s, done.
Resolving deltas: 100% (33764/33764), done.
Checking connectivity... done.
</code></pre>

<p>This is a standard command, and I first created the folder
<code>~/octopress</code> before cloning the <code>source</code> branch to the folder, so
that my commands <em>aren’t</em> exactly the same as Anderson’s.</p>

<p>To make another difference, I also fetched the <code>master</code> branch from
Octopress.</p>

<pre class="cliUB"><code>$ git remote add octopress git@github.com:imathis/octopress.git
$ git fetch octopress master
From github.com:imathis/octopress
 * branch            master     -&gt; FETCH_HEAD
 * [new branch]      master     -&gt; octopress/master
$ git branch -av
* source                   bd39cb2 Corrected the MathJax syntax for X ~ Exp(λ)
  remotes/octopress/master 5080107 Fixed improper canonical url
  remotes/origin/HEAD      -&gt; origin/source
  remotes/origin/master    7f8f845 Site updated at 2015-03-08 12:59:04 UTC
  remotes/origin/source    bd39cb2 Corrected the MathJax syntax for X ~ Exp(λ)
</code></pre>

<p>Since I <em>dont’t</em> and <em>won’t</em> have a Mac laptop, I <em>skipped</em> the
command <code>rbenv rehash</code>.</p>

<picture class="fancybox" title="A Macbook exploded">
  <source srcset="/images/posts/MacExplosion/MacExplosion.jpg" media="(min-width: 340px)" />
  <img alt="Macbook exploded" src="https://vincenttam.github.io/images/posts/MacExplosion/MacExplosion300.jpg" />
</picture>

<p><small>Source:
<a href="http://www.homelandsecureit.com/wp-content/uploads/2011/07/MacExplosion.jpg">http://www.homelandsecureit.com/wp-content/uploads/2011/07/MacExplosion.jpg</a>
</small></p>

<p>I then viewed the task <code>setup_github_pages</code> in <code>Rakefile</code>, and
discovered that if I cloned the whole remote repository of the
Octopress blog into <code>_deploy</code>, the there’d be an extra <code>master</code> branch
in the default deploy directory.  To avoid this, I typed a longer
command.</p>

<pre class="cliUB"><code>$ gem install bundler
$ bundle install
$ git clone git@github.com:VincentTam/vincenttam.github.io.git -b master _deploy
Cloning into '_deploy'...
remote: Counting objects: 71346, done.
remote: Compressing objects:  68% (52/76)   Receiving objects:   0% (1/71346)
remote: Compressing objects: 100% (76/76), done.
remote: Total 71346 (delta 8), reused 0 (delta 0), pack-reused 71266
Receiving objects: 100% (71346/71346), 63.71 MiB | 2.77 MiB/s, done.
Resolving deltas: 100% (33764/33764), done.
Checking connectivity... done.
Checking out files: 100% (644/644), done.
$ cd _deploy &amp;&amp; git branch -av &amp;&amp; cd ..
* master                7f8f845 Site updated at 2015-03-08 12:59:04 UTC
  remotes/origin/HEAD   -&gt; origin/source
  remotes/origin/master 7f8f845 Site updated at 2015-03-08 12:59:04 UTC
  remotes/origin/source bd39cb2 Corrected the MathJax syntax for X ~ Exp(λ)
</code></pre>

<p>To test if the last two words of the command in Anderson’s post could
be <em>omitted</em>, I <em>changed</em> the Markdown source of one of my old posts
slightly, committed the change and pushed it to GitHub.</p>

<pre class="cliUB"><code>$ gvim source/_posts/2014-03-16-latex-template-for-essays.markdown
$ git commit -am "Another small minor change" &amp;&amp; git push
[source 4be7fba] Another small minor change
1 file changed, 2 insertions(+), 4 deletions(-)
Counting objects: 10, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (5/5), done.
Writing objects: 100% (5/5), 435 bytes | 0 bytes/s, done.
Total 5 (delta 4), reused 0 (delta 0)
To git@github.com:VincentTam/vincenttam.github.io.git
bd39cb2..4be7fba  source -&gt; source
$ cd _deploy/ &amp;&amp; git branch -av &amp;&amp; cd ..
* master		7f8f845 Site updated at 2015-03-08 12:59:04 UTC
  remotes/origin/HEAD   -&gt; origin/source
  remotes/origin/master 7f8f845 Site updated at 2015-03-08 12:59:04 UTC
  <span class="HLCode">remotes/origin/source bd39cb2 Corrected the MathJax syntax for X ~ Exp(λ)</span>
$ cd _deploy/ &amp;&amp; <span class="HLCode">git pull</span> &amp;&amp; git branch -av &amp;&amp; cd ..
* master		7f8f845 Site updated at 2015-03-08 12:59:04 UTC
  remotes/origin/HEAD   -&gt; origin/source
  remotes/origin/master 7f8f845 Site updated at 2015-03-08 12:59:04 UTC
  <span class="HLCode">remotes/origin/source 4be7fba Another small minor change</span>
</code></pre>

<p>From <code>Rakefile</code> and the above highlighted command output, I could
deduce that before starting to blog on another machine and publish
them to GitHub Pages, one needed to pull the commits from the remote
repository by <code>git pull origin source</code> and <code>git pull</code> in <code>~/octopress</code>
and <code>~/octopres/_deploy</code> respectively.</p>

<p>Then I faced the same errors I saw yesterday.<sup id="fnref:pp2"><a href="#fn:pp2" class="footnote">1</a></sup>  After solving
them, I proceeded to deploying the site to GitHub Pages.</p>

<pre class="cliUB"><code>$ rake deploy

...

 30 files changed, 44 insertions(+), 46 deletions(-)

## Pushing generated _deploy website
Counting objects: 130, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (64/64), done.
Writing objects: 100% (65/65), 5.37 KiB | 0 bytes/s, done.
Total 65 (delta 35), reused 0 (delta 0)
To git@github.com:VincentTam/vincenttam.github.io.git
   7f8f845..5af7b9d  master -&gt; master

## Github Pages deploy complete
cd -
</code></pre>

<p>Lastly, I found that the remote tracking branch <code>origin/master</code>
<em>wasn’t</em> necessary in <code>~/octopress</code>.  However, the creation of this
branch <em>couldn’t</em> be avoided: using <code>git clone</code> to clone either the
<em>whole repository</em> or <em>a single branch only</em> will lead the creation of
<em>all</em> remote branches.  To minimize the number of branches in the
local repository for an Octopress blog, I suggest deleting the
outdated <code>origin/master</code> branch.</p>

<pre class="cliUB"><code>$ cd _deploy &amp;&amp; git branch -av &amp;&amp; cd ..
<span class="HLCode">* master                5af7b9d Site updated at 2015-03-09 06:54:16 UTC</span>
  remotes/origin/HEAD   -&amp;gt; origin/source
  <span class="HLCode">remotes/origin/master 5af7b9d Site updated at 2015-03-09 06:54:16 UTC</span>
  remotes/origin/source 4be7fba Another small minor change
$ git branch -av
* source                   4be7fba Another small minor change
  remotes/octopress/master 5080107 Fixed improper canonical url
  remotes/origin/HEAD      -&amp;gt; origin/source
  <span class="HLCode">remotes/origin/master    7f8f845 Site updated at 2015-03-08 12:59:04 UTC</span>
  remotes/origin/source    4be7fba Another small minor change
$ git branch -rd origin/master
Deleted remote branch origin/master (was 7f8f845).
</code></pre>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:pp2">
      <p>See <a href="/blog/2015/03/08/another-jekyll-error/"><em>Another Jekyll Error</em></a> in Blog 1 for details. <a href="#fnref:pp2" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Another Jekyll Error]]></title>
      <link href="https://vincenttam.github.io/blog/2015/03/08/another-jekyll-error/"/>
    
    <updated>2015-03-08T17:08:53+08:00</updated>
    <id>https://vincenttam.github.io/blog/2015/03/08/another-jekyll-error</id>
    
      <content type="html"><![CDATA[<h2 id="problem">Problem</h2>

<p>Markdown encountered an error when I ran <code>rake generate</code>.</p>

<pre class="cliUB"><code>$ rake generate &amp;&amp; rake preview
## Generating Site with Jekyll
    write source/stylesheets/screen.css
Configuration file: /home/owner/octopress/_config.yml
            Source: source
       Destination: public
      Generating... 
  Conversion error: Jekyll::Converters::Markdown encountered an error while conv
erting '_posts/2014-01-31-comparison-of-latexs-quote-and-quotation-environments.
markdown/#excerpt':
                    "\xC2" from ASCII-8BIT to UTF-8
jekyll 2.5.3 | Error:  "\xC2" from ASCII-8BIT to UTF-8
Starting to watch source with Jekyll and Compass. Starting Rack on port 4000
Configuration file: /home/owner/octopress/_config.yml
[2015-03-08 15:49:51] INFO  WEBrick 1.3.1
[2015-03-08 15:49:51] INFO  ruby 2.1.2 (2014-05-08) [i686-linux]
[2015-03-08 15:49:51] INFO  WEBrick::HTTPServer#start: pid=5560 port=4000
&gt;&gt;&gt; Compass is watching for changes. Press Ctrl-C to Stop.
directory public/stylesheets
    write public/stylesheets/print.css
            Source: source
       Destination: public
      Generating... 
    write public/stylesheets/screen.css
  Conversion error: Jekyll::Converters::Markdown encountered an error while conv
erting '_posts/2014-04-05-latex-template-for-chinese-essays.markdown/#excerpt':
                    "\xE6" from ASCII-8BIT to UTF-8
jekyll 2.5.3 | Error:  "\xE6" from ASCII-8BIT to UTF-8
</code></pre>

<!-- more -->

<h2 id="discussion">Discussion</h2>

<p>I feel that this problem is similar to the YAML error which I
encountered last year.<sup id="fnref:pp_yaml"><a href="#fn:pp_yaml" class="footnote">1</a></sup>  However, I had <em>already</em> added the
line <code>encoding: UTF-8</code> to <code>_config.yml</code>, and when I opened the file
with Vim, I saw, from <code>:se fenc</code> and <code>:se enc</code> that the encoding was
UTF-8.</p>

<p>I googled “incompatible character encodings utf-8 and ascii-8bit
octopress” and clicked the first result, which was an article written
in 2013.<sup id="fnref:chin1"><a href="#fn:chin1" class="footnote">2</a></sup>  According to the blog post, I opened
<code>:~/.rvm/gems/ruby-2.1.2/gems/jekyll-2.5.3/lib/jekyll/converters/markdown.rb</code>,
but I <em>couldn’t</em> find line 120 because I’m now using Ruby 2.1.2 and
Jekyll 2.5.3.</p>

<p>Though the steps mentioned in another blog posts found were the same,
from the first paragraph of that post, I knew that the cause was the
embedded Gists in Octopress posts/pages.<sup id="fnref:chin2"><a href="#fn:chin2" class="footnote">3</a></sup></p>

<h2 id="resolution">Resolution</h2>

<p>I continued viewing other Google search results, and discovered a
single question on two different sites.  That question was actually a
Stack Overflow question which had two responses.<sup id="fnref:so16264160"><a href="#fn:so16264160" class="footnote">4</a></sup>  The
second one seemed to solve my problem.</p>

<p>I googled “vim remove bom”, and found another web page.<sup id="fnref:vim_bom"><a href="#fn:vim_bom" class="footnote">5</a></sup>
Later, I realised that I could find the information using <code>:h bom</code>.  I
typed <code>:se nobomb</code> in the affected files, and Rake could finally
generate the site.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:pp_yaml">

      <p>See <a href="/blog/2014/06/04/resolving-jekylls-yaml-exception/"><em>Resolving Jekyll’s YAML Exception</em></a> in Blog 1 for
details. <a href="#fnref:pp_yaml" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:chin1">

      <p><a href="http://blog.txx.im/blog/2013/08/25/octopress-utf-8-ascii-8bit-conflict-error/"><em>Octopress 上的 utf-8和ASCII-8BIT 冲突的解决方案</em></a> in
txx’s blog <a href="#fnref:chin1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:chin2">

      <p><a href="http://lenciel.cn/2014/05/fix-gist-style-in-octopress/"><em>Octopress里插入带中文Gist的问题和解决</em></a> @Lenciel <a href="#fnref:chin2" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:so16264160">

      <p><a href="https://stackoverflow.com/a/25228668">Unicode weirdness with octopress, kramdown, and Heroku</a> on Stack
Overflow <a href="#fnref:so16264160" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:vim_bom">

      <p><a href="http://www.santiagolizardo.com/article/remove-bom-mark-from-files-with-vim"><em>Remove BOM mark from files with VIM</em></a> by Santiago
Lizardo. <a href="#fnref:vim_bom" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
</feed>
