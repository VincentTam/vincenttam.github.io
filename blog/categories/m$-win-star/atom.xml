<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: M$ Win* | Blog 1]]></title>
  <link href="https://vincenttam.github.io/blog/categories/m$-win-star/atom.xml" rel="self"/>
  <link href="https://vincenttam.github.io/"/>
  <updated>2017-01-11T09:05:02+00:00</updated>
  <id>https://vincenttam.github.io/</id>
  <author>
    <name><![CDATA[Vincent Tam]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    
      <title type="html"><![CDATA[Octopress Config for Ruby 2.3 on Windows 10]]></title>
      <link href="https://vincenttam.github.io/blog/2017/01/10/octopress-config-for-ruby-2-dot-3-on-windows-10/"/>
    
    <updated>2017-01-10T15:38:32+00:00</updated>
    <id>https://vincenttam.github.io/blog/2017/01/10/octopress-config-for-ruby-2-dot-3-on-windows-10</id>
    
      <content type="html"><![CDATA[<h2 id="motivation">Motivation</h2>

<p>Same as the background in <a href="/blog/2017/01/10/upgraded-to-git-for-windows-2-dot-11/">my previous article</a>.</p>

<h2 id="background">Background</h2>

<p>I uninstalled Ruby 2.0 in the Control Panel, and then installed
version 2.3.3 from <a href="https://rubyinstaller.org/">RubyInstaller for Windows</a></p>

<h2 id="problem-1-redcloth-installation-failure">Problem 1: RedCloth installation failure</h2>

<h3 id="error-message">Error message</h3>

<pre class="cli"><code>Gem::InstallError: The 'RedCloth' native gem requires installed build tools.

Please update your PATH to include build tools or download the DevKit
from 'http://rubyinstaller.org/downloads' and follow the instructions
at 'http://github.com/oneclick/rubyinstaller/wiki/Development-Kit'

An error occurred while installing RedCloth (4.2.9), and Bundler cannot
continue.
Make sure that `gem install RedCloth -v '4.2.9'` succeeds before bundling.
</code></pre>

<p>The error message is similar to <a href="http://stackoverflow.com/a/36274233/280189">Joe’s gem install error</a>.
The only difference is that I was installing <a href="http://redcloth.org/">RedCloth</a> 4.9.</p>

<h3 id="solution">Solution</h3>

<p>This failure is due to the absence of a valid path to
<a href="https://rubyinstaller.org/add-ons/devkit/">RubyInstaller Development Kit</a>.  I tried manually adding the
path to the folder for binary executables (default to
<code>C:\RubyDevKit\bin</code>) to <code>PATH</code>, but it’s <em>unsuccessful</em>.  I googled
“Please update your PATH to include build tools” and found
<a href="http://stackoverflow.com/a/36274233/280189">his question</a>, whose third answer explained the function
of <code>devkitvar.bat</code>.  This batch script actually prepended the path of
<em>two</em> folders into <code>PATH</code>.  One is stated above; one is
<code>C:\RubyDevKit\mingw\bin</code>.  Running this batch file changes <code>PATH</code>
<em>temporarily</em>.  A manual configuration in the Control Panel allowed
the system to detect <a href="https://rubyinstaller.org/add-ons/devkit/">DevKit</a>, and this problem was thus
solved.</p>

<h3 id="related-gems">Related gems</h3>

<h4 id="already-installed">Already installed</h4>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th style="text-align: right">Version Number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>rake</td>
      <td style="text-align: right">10.4.2</td>
    </tr>
    <tr>
      <td>bundler</td>
      <td style="text-align: right">1.13.7</td>
    </tr>
  </tbody>
</table>

<h4 id="being-installed">Being installed</h4>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th style="text-align: right">Version Number</th>
      <th style="text-align: center">With native extensions?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>RedCloth</strong></td>
      <td style="text-align: right">4.2.9</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td><strong>wdm</strong></td>
      <td style="text-align: right">0.1.0</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>blankslate</td>
      <td style="text-align: right">2.1.2.4</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>chunky_png</td>
      <td style="text-align: right">1.3.4</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>coffee-script-source</td>
      <td style="text-align: right">1.9.1</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>colorator</td>
      <td style="text-align: right">0.1</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>execjs</td>
      <td style="text-align: right">2.4.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>fast-stemmer</td>
      <td style="text-align: right">1.0.2</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>ffi</td>
      <td style="text-align: right">1.9.6</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>hitimes</td>
      <td style="text-align: right">1.2.2</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>jekyll-gist</td>
      <td style="text-align: right">1.1.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>jekyll-paginate</td>
      <td style="text-align: right">1.1.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>jekyll-sitemap</td>
      <td style="text-align: right">0.8.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>kramdown</td>
      <td style="text-align: right">1.6.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>liquid</td>
      <td style="text-align: right">2.6.2</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>mercenary</td>
      <td style="text-align: right">0.3.5</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>multi_json</td>
      <td style="text-align: right">1.11.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>posix-spawn</td>
      <td style="text-align: right">0.3.10</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>rack</td>
      <td style="text-align: right">1.6.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>rb-fsevent</td>
      <td style="text-align: right">0.9.4</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>redcarpet</td>
      <td style="text-align: right">3.2.2</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>safe_yaml</td>
      <td style="text-align: right">1.0.4</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>sass</td>
      <td style="text-align: right">3.4.13</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>stringex</td>
      <td style="text-align: right">1.4.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>tilt</td>
      <td style="text-align: right">1.4.1</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>yajl-ruby</td>
      <td style="text-align: right">1.2.1</td>
      <td style="text-align: center">✓</td>
    </tr>
  </tbody>
</table>

<h2 id="problem-2-wdm-installation-failure">Problem 2: wdm installation failure</h2>

<p>I put the <a href="#wdm" class="cliwide">error message from wdm</a> in a popup dialog.</p>

<div id="wdm" class="noscr">
<pre class="cli"><code>Owner@Owner-PC MINGW64 /c/github/vincenttam.github.io (source)
$ bundle install
Fetching gem metadata from https://rubygems.org/.........
Fetching version metadata from https://rubygems.org/..
Fetching dependency metadata from https://rubygems.org/.
Using rake 10.4.2
Using RedCloth 4.2.9
Using blankslate 2.1.2.4
Installing hitimes 1.2.2 with native extensions
Using chunky_png 1.3.4
Installing fast-stemmer 1.0.2 with native extensions
Using coffee-script-source 1.9.1
Using execjs 2.4.0
Using colorator 0.1
Using multi_json 1.11.0
Using sass 3.4.13
Using rb-fsevent 0.9.4
Using ffi 1.9.6
Using tilt 1.4.1
Using jekyll-gist 1.1.0
Using jekyll-paginate 1.1.0
Using kramdown 1.6.0
Using liquid 2.6.2
Using mercenary 0.3.5
Installing posix-spawn 0.3.10 with native extensions
Installing yajl-ruby 1.2.1 with native extensions
Installing redcarpet 3.2.2 with native extensions
Using safe_yaml 1.0.4
Using jekyll-sitemap 0.8.0
Using rack 1.6.0
Using stringex 1.4.0
Installing wdm 0.1.0 with native extensions
Using bundler 1.13.7
Installing parslet 1.5.0
Installing timers 4.0.1
Installing classifier-reborn 2.0.3
Installing coffee-script 2.3.0
Installing compass-core 1.0.3
Installing compass-import-once 1.0.5
Installing jekyll-sass-converter 1.3.0
Installing sass-globbing 1.0.0
Installing rb-inotify 0.9.5
Installing haml 4.0.6
Installing pygments.rb 0.6.2
Installing rack-protection 1.5.3
Gem::Ext::BuildError: ERROR: Failed to build gem native extension.

    current directory: C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/wdm-0.1.0/ext/wdm
C:/Ruby23-x64/bin/ruby.exe -r ./siteconf20170109-8020-1n4s35m.rb extconf.rb
checking for main() in -lkernel32... yes
checking for windows.h... yes
checking for ruby.h... yes
checking for HAVE_RUBY_ENCODING_H... yes
creating Makefile

To see why this extension failed to compile, please check the mkmf.log which can
be found here:



current directory: C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/wdm-0.1.0/ext/wdm
make "DESTDIR=" clean

current directory: C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/wdm-0.1.0/ext/wdm
make "DESTDIR="
generating wdm_ext-x64-mingw32.def
compiling entry.c
In file included from entry.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from entry.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from entry.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from entry.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling memory.c
In file included from memory.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from memory.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from memory.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from memory.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling monitor.c
In file included from monitor.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from monitor.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from monitor.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from monitor.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling queue.c
In file included from queue.c:3:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/vadefs.h:13:0,
from
4-mingw32/include/_mingw_stdarg.h:14,
from
4-mingw32/include/stdarg.h:140,
from
c:\rubydevkit\mingw\bin\../lib/gcc/x86_64-w64-mingw32/4.7.2/include/stdarg.h:1,
                 from queue.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from queue.c:3:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from queue.c:3:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling rb_change.c
In file included from rb_change.c:4:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdlib.h:9,
                 from rb_change.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from rb_change.c:4:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from rb_change.c:4:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling rb_monitor.c
In file included from rb_monitor.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from rb_monitor.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from rb_monitor.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from rb_monitor.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
rb_monitor.c: In function 'rb_monitor_run_bang':
rb_monitor.c:508:9: warning: implicit declaration of function
'rb_thread_blocking_region' [-Wimplicit-function-declaration]
compiling utils.c
In file included from utils.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from utils.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from utils.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from utils.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling wdm.c
In file included from wdm.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from wdm.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from wdm.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from wdm.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
linking shared-object wdm_ext.so
rb_monitor.o: In function `rb_monitor_run_bang':
C:\Ruby23-x64\lib\ruby\gems\2.3.0\gems\wdm-0.1.0\ext\wdm/rb_monitor.c:508:
undefined reference to `rb_thread_blocking_region'
collect2.exe: error: ld returned 1 exit status
make: *** [wdm_ext.so] Error 1

make failed, exit code 2

Gem files will remain installed in
C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/wdm-0.1.0 for inspection.
Results logged to
.out

An error occurred while installing wdm (0.1.0), and Bundler cannot continue.
Make sure that `gem install wdm -v '0.1.0'` succeeds before bundling.
</code></pre></div>

<p>From the line</p>

<pre class="cli"><code>wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
</code></pre>

<p>I found <a href="https://github.com/Maher4Ever/wdm/issues/18">wdm issue #18</a>, but I <em>failed</em> to notice that the
problem had been resolved.  I later knew that from
<a href="https://github.com/jekyll/jekyll/issues/3721">Jekyll issue #3721</a>.</p>

<p>After changing the version number of <a href="https://rubygems.org/gems/wdm">wdm</a> to 0.1.1, I could proceed
further.  <a href="#wdmfixed" class="cliwide">The system output</a> was fine.</p>

<div id="wdmfixed" class="noscr">
<pre class="cli"><code>Owner@Owner-PC MINGW64 /c/github/vincenttam.github.io (source)
$ gem install wdm -v '0.1.1'
Building native extensions.  This could take a while...
Successfully installed wdm-0.1.1
Parsing documentation for wdm-0.1.1
Installing ri documentation for wdm-0.1.1
Done installing documentation for wdm after 0 seconds
1 gem installed
Owner@Owner-PC MINGW64 /c/github/vincenttam.github.io (source)
$ bundle install
Fetching gem metadata from https://rubygems.org/..........
Fetching version metadata from https://rubygems.org/..
Fetching dependency metadata from https://rubygems.org/.
Resolving dependencies...
Using rake 10.4.2
Using RedCloth 4.2.9
Using blankslate 2.1.2.4
Using hitimes 1.2.2
Using chunky_png 1.3.4
Using fast-stemmer 1.0.2
Using coffee-script-source 1.9.1
Using execjs 2.4.0
Using colorator 0.1
Using multi_json 1.11.0
Using sass 3.4.13
Using rb-fsevent 0.9.4
Using ffi 1.9.6
Using tilt 1.4.1
Using jekyll-gist 1.1.0
Using jekyll-paginate 1.1.0
Using kramdown 1.6.0
Using liquid 2.6.2
Using mercenary 0.3.5
Using posix-spawn 0.3.10
Using yajl-ruby 1.2.1
Using redcarpet 3.2.2
Using safe_yaml 1.0.4
Using jekyll-sitemap 0.8.0
Using rack 1.6.0
Using stringex 1.4.0
Using wdm 0.1.1 (was 0.1.0)
Using bundler 1.13.7
Using parslet 1.5.0
Using timers 4.0.1
Using classifier-reborn 2.0.3
Using coffee-script 2.3.0
Using compass-core 1.0.3
Using compass-import-once 1.0.5
Using jekyll-sass-converter 1.3.0
Using sass-globbing 1.0.0
Using rb-inotify 0.9.5
Using haml 4.0.6
Using pygments.rb 0.6.2
Using rack-protection 1.5.3
Installing toml 0.1.2
Installing celluloid 0.16.0
Installing jekyll-coffeescript 1.0.1
Installing compass 1.0.3
Installing sinatra 1.4.5
Installing listen 2.8.5
Installing jekyll-watch 1.2.1
Installing jekyll 2.5.3
Installing octopress-hooks 2.6.0
Installing octopress-date-format 2.0.2
Bundle complete! 14 Gemfile dependencies, 50 gems now installed.
Use `bundle show [gemname]` to see where a bundled gem is installed.
Post-install message from compass:
    Compass is charityware. If you love it, please donate on our behalf at http:
//umdf.org/compass Thanks!
</code></pre></div>

<h2 id="problem-3-i-have-a-row-with-justin">Problem 3: I have a row with Justin.</h2>

<p>When I ran <code>rake preview</code>, the follow line appeared.</p>

<pre class="cli"><code>bash: /c/Ruby23-x64/bin/rake: C:/Users/Justin/Projects/rubyinstaller/sandbox/rub
y23_mingw/bin/ruby.exe: bad interpreter: No such file or directory
</code></pre>

<p>I searched “rake install justin projects” on <a href="google.com">Google</a>.
You may follow <a href="http://stackoverflow.com/a/36925869/280189">griest’s advice</a> to have this problem
fixed.  If this link were unluckily dead in the future, you might
leave a comment below after getting rid of Justin at the first line of
<code>/c/Ruby23-x64/bin/rake</code>.</p>

<h2 id="result">Result</h2>

<p><a href="http://octopress.org">Octopress</a> did work on my machine.  Then I re-ran <code>bundle install</code>
under the local repository for <a href="/blog2">my another blog</a>, but the
<a href="/blog/2016/08/20/jekyll-serve-error/"><em>same</em> Celluloid error</a> <em>re-appeared</em>.  I <em>don’t</em> know how to
perform a <a href="https://talk.jekyllrb.com/t/error-while-trying-to-run-jekyll-serve/933/10">celluloid downgrade</a> to version 16.0 under that
repository.  The version number for <a href="https://rubygems.org/gems/celluloid/versions/0.17.3">Celluloid</a> was <em>generated</em> by the
system—I <em>didn’t</em> type it in <code>Gemfile.lock</code>.  As a result, I
switched to <a href="https://msdn.microsoft.com/en-us/commandline/wsl/about">Ubuntu on Windows 10</a>.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Upgraded to Git for Windows 2.11]]></title>
      <link href="https://vincenttam.github.io/blog/2017/01/10/upgraded-to-git-for-windows-2-dot-11/"/>
    
    <updated>2017-01-10T13:09:42+00:00</updated>
    <id>https://vincenttam.github.io/blog/2017/01/10/upgraded-to-git-for-windows-2-dot-11</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>This <a href="https://git-for-windows.github.io/">Git for Windows</a> upgrade from v2.8 to v2.11 is an
<em>unsuccessful</em> attempt to fix a <a href="/blog/2016/08/28/jekyll-serve-error-2/">Jekyll preview error</a> on
<a href="/blog2/">my another blog</a> triggered by the command <code>jekyll serve</code> for
local preview.</p>

<h2 id="problem">Problem</h2>

<p>After the update, I can no longer input letters with accents.  Since
the name of some mathematical theorems have accents, like l’Hôpital’s
Rule.  It would be very inconvenient if the internation keyboard
<em>can’t</em> be used in Git Bash.</p>

<!-- more -->

<h2 id="solution">Solution</h2>

<p>In Git Bash, <code>locale</code> returns several lines.  The first one says
<code>LANG=C</code>.  After viewing the list with <code>locale -a</code>, I’ve finally
chosen the most common option with the character encoding UTF-8.  To
make this change permanent for one user, add the last line into
<code>~/.bashrc</code>.</p>

<p><figure class='code'><figcaption><span>Locale change</span><a href='http://bit.ly/2iAnlq9'>Reference </a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c"># Change Locale Permanently</span>
</span><span class='line'><span class="nb">export </span><span class="nv">LANG</span><span class="o">=</span>en_US.utf8
</span></code></pre></td></tr></table></div></figure></p>

<h2 id="lessons-learnt">Lessons learnt</h2>

<p>Many popular <abbr title="Universal Resource Locator">URL</abbr> shorteners like <a href="bit.ly">Bitly</a> and
<a href="goo.gl">Google <abbr title="Universal Resource Locator">URL</abbr> Shortener</a> <em>won’t</em> afftect my SEO, so I can use
shortened URLs in the <a href="https://daringfireball.net/projects/markdown/">markdown</a> syntax for
<a href="http://octopress.org/docs/plugins/codeblock/">Octopress codeblocks</a> to save disk space.<sup id="fnref:seo"><a href="#fn:seo" class="footnote">1</a></sup></p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:seo">
      <p><a href="http://davidamerland.com/seo-tips/371-do-url-shorteners-impact-your-seo.html"><em>Do URL Shorteners Impact your SEO?</em></a> by David Amerland. <a href="#fnref:seo" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Windows Security Popup During Public Wi-Fi Connection]]></title>
      <link href="https://vincenttam.github.io/blog/2017/01/06/windows-security-popup-during-public-wi-fi-connection/"/>
    
    <updated>2017-01-06T10:34:30+00:00</updated>
    <id>https://vincenttam.github.io/blog/2017/01/06/windows-security-popup-during-public-wi-fi-connection</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>After an upgrade to M$ Win* 10, I connected to my campus’ public
Wi-Fi.<sup id="fnref:pp"><a href="#fn:pp" class="footnote">1</a></sup></p>

<h2 id="problem">Problem</h2>

<p>I mistakenly thought that it’s the <em>same</em> as the one described in
<em>Windows Security popup window pops up each time any connection is
made</em> on <a href="http://superuser.com/q/479113">Super User</a>.</p>

<!-- more -->

<h2 id="failed-attempt-to-solve-this-problem">Failed attempt to solve this problem</h2>

<h3 id="with-m-ie">With M$ IE</h3>

<p>Googling “windows security login popup”, one will find the question
<em>“Windows Security” popup asking me to enter my login information when
visiting campus website</em> on <a href="https://answers.microsoft.com/en-us/ie/forum/ie9-windows_7/windows-security-popup-asking-me-to-enter-my-login/530deb46-0962-e011-8dfc-68b599b31bf5">M$ Community site</a>.  Follow the
steps described in the first answer from Azam, a support engineer.</p>

<h3 id="without-m-ie"><em>Without</em> M$ IE</h3>

<p>To save disk space, I <em>don’t</em> keep M$ IE due to M$ Edge, which was
shipped with the M$ Win* 10 upgrade, and in which the security tab
is <em>absent</em>.</p>

<p>To set a custom security level for Internet options <em>without M$ IE</em>,
open the same window by clicking Control Panel → Network and Internet
→ Internet Options.  The button “Custom level” will then appear.
However, under “User authentication”, there’s <em>no</em> checkboxes.  I only
saw a group of four radio buttons.</p>

<p>In order to find out the right choice, I appended “custom security
level” in the previous Google query.  According to
<a href="https://www.sysaid.com/Sysforums/posts/list/2159.page">a similar page on SysAid</a>, I’ve chosen “Automatic log-on with
current user name and password”.</p>

<h2 id="true-cause-of-the-problem">True cause of the problem</h2>

<p>Actually, the popup window prompts for the user name and password for
<em>another</em> Wi-Fi network with a similar name to which I’m going to
connect.  After typing the right user name and password, I can connect
to the Internet.</p>

<h2 id="lessons-learnt">Lessons learnt</h2>

<p>Although Windows Security popup window is the main focus of this blog,
I’ve learnt something quite different from it because of the article
<em>Windows 10 Settings You Should Change Right Away</em> available on
<a href="http://www.laptopmag.com/articles/windows-10-settings-to-change">Laptop Mag</a> found during this process.  The <abbr title="User account control">UAC</abbr> is really
important: by prompting for user’s confirmation during the
installation of a new software, one will be aware of the apps
installed on the machine.  Though many users claim that those who
oppose the disablement of <abbr title="User account control">UAC</abbr> are “misinformed”, I take the words of a
preferred user who says that M$ Win* 10 would become unstable if
it’s been turned off.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:pp">
      <p>c.f. <a href="/blog/2016/08/28/jekyll-serve-error-2/"><em>Jekyll Serve Error (2)</em></a> <a href="#fnref:pp" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Jekyll Serve Error (2)]]></title>
      <link href="https://vincenttam.github.io/blog/2016/08/28/jekyll-serve-error-2/"/>
    
    <updated>2016-08-28T13:32:58+00:00</updated>
    <id>https://vincenttam.github.io/blog/2016/08/28/jekyll-serve-error-2</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p><em>Same</em> as the <a href="/blog/2016/08/20/jekyll-serve-error/">previous post</a> in this series, except that I ran
this command from M$ Win* 10.</p>

<h2 id="problem">Problem</h2>

<p><em>Similar</em> to the previous post.</p>

<pre class="cli"><code>Owner@Owner-PC MINGW64 /c/github/blog2 (gh-pages)
$ jekyll serve
WARN: Unresolved specs during Gem::Specification.reset:
      pygments.rb (~&gt; 0.6.0)
      jekyll-watch (~&gt; 1.1)
WARN: Clearing out unresolved specs.
Please report a bug if this causes problems.
C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/bundler-1.7.2/lib/bundler/resolver.rb:35
7:in `resolve': Could not find gem 'jekyll (~&gt; 3.1) x64-mingw32' in the gems ava
ilable on this machine. (Bundler::GemNotFound)
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/bundler-1.7.2/lib/bundler/r
esolver.rb:164:in `start'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/bundler-1.7.2/lib/bundler/r
esolver.rb:129:in `resolve'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/bundler-1.7.2/lib/bundler/d
efinition.rb:193:in `resolve'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/bundler-1.7.2/lib/bundler/d
efinition.rb:132:in `specs'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/bundler-1.7.2/lib/bundler/d
efinition.rb:177:in `specs_for'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/bundler-1.7.2/lib/bundler/d
efinition.rb:166:in `requested_specs'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/bundler-1.7.2/lib/bundler/e
nvironment.rb:18:in `requested_specs'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/bundler-1.7.2/lib/bundler/r
untime.rb:13:in `setup'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/bundler-1.7.2/lib/bundler.r
b:121:in `setup'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/jekyll-2.5.3/lib/jekyll/plu
gin_manager.rb:37:in `require_from_bundler'
        from C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/jekyll-2.5.3/bin/jekyll:16:
in `&lt;top (required)&gt;'
        from C:/Ruby200-x64/bin/jekyll:23:in `load'
        from C:/Ruby200-x64/bin/jekyll:23:in `&lt;main&gt;'
</code></pre>

<!-- more -->

<h2 id="a-failed-attempt">A failed attempt</h2>

<p>I <em>didn’t</em> know the reason for this problem.</p>

<pre class="cli"><code>Owner@Owner-PC MINGW64 /c/github/blog2 (gh-pages)
$ bundle update
DL is deprecated, please use Fiddle
Fetching source index from https://rubygems.org/
Resolving dependencies...
Could not verify the SSL certificate for
https://rubygems.org/quick/Marshal.4.8/jekyll-3.2.1.gemspec.rz.
There is a chance you are experiencing a man-in-the-middle attack, but most
likely your system doesn't have the CA certificates needed for verification. For
information about OpenSSL certificates, see bit.ly/ruby-ssl. To connect without
using SSL, edit your Gemfile sources and change 'https' to 'http'.
</code></pre>

<h2 id="some-gems-updated">Some gems updated</h2>

<p><em>Without</em> knowing the difference between these two commands, I used
the second one as an alternative to the first one.</p>

<pre class="cli"><code>Owner@Owner-PC MINGW64 /c/github/blog2 (gh-pages)
$ gem update
unable to convert "\x86" from ASCII-8BIT to UTF-8 for ext/redcloth_scan/redcloth
_attributes.o, skipping
unable to convert "\x86" from ASCII-8BIT to UTF-8 for ext/redcloth_scan/redcloth
_inline.o, skipping
unable to convert "\x86" from ASCII-8BIT to UTF-8 for ext/redcloth_scan/redcloth
_scan.o, skipping
unable to convert "\x90" from ASCII-8BIT to UTF-8 for ext/redcloth_scan/redcloth
_scan.so, skipping
unable to convert "\x90" from ASCII-8BIT to UTF-8 for lib/redcloth_scan.so, skip
ping
unable to convert "\x86" from ASCII-8BIT to UTF-8 for bigdecimal.o, skipping
unable to convert "\x90" from ASCII-8BIT to UTF-8 for bigdecimal.so, skipping
unable to convert "\x90" from ASCII-8BIT to UTF-8 for lib/hitimes/2.0/hitimes.so
, skipping
ERROR:  Error installing io-console:
        ERROR: Failed to build gem native extension.

    C:/Ruby200-x64/bin/ruby.exe extconf.rb
checking for rb_funcallv()... no
checking for rb_sym2str()... no
creating Makefile

make "DESTDIR="
generating console-x64-mingw32.def
compiling console.c
console.c: In function 'console_cursor_set':
console.c:716:5: warning: implicit declaration of function 'RARRAY_AREF' [-Wimpl
icit-function-declaration]
linking shared-object io/console.so
console.o: In function `console_cursor_set':
C:\Ruby200-x64\lib\ruby\gems\2.0.0\gems\io-console-0.4.6/console.c:716: undefine
d reference to `RARRAY_AREF'
C:\Ruby200-x64\lib\ruby\gems\2.0.0\gems\io-console-0.4.6/console.c:716: undefine
d reference to `RARRAY_AREF'
collect2.exe: error: ld returned 1 exit status
make: *** [console.so] Error 1

Gem files will remain installed in C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/io-co
nsole-0.4.6 for inspection.
Results logged to C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/io-console-0.4.6/./gem
_make.out

invalid options: -SHN
(invalid options are ignored)
ERROR:  While executing gem ... (Encoding::InvalidByteSequenceError)
    "\xE9" followed by "\x94" on CP950
Updating installed gems
Updating RedCloth
Temporarily enhancing PATH to include DevKit...
Building native extensions.  This could take a while...
Successfully installed RedCloth-4.3.2
Parsing documentation for RedCloth-4.3.2
Installing ri documentation for RedCloth-4.3.2
Installing darkfish documentation for RedCloth-4.3.2
Updating bigdecimal
Building native extensions.  This could take a while...
Successfully installed bigdecimal-1.2.7
Parsing documentation for bigdecimal-1.2.7
Installing ri documentation for bigdecimal-1.2.7
Installing darkfish documentation for bigdecimal-1.2.7
Updating blankslate
Successfully installed blankslate-3.1.3
Parsing documentation for blankslate-3.1.3
Installing ri documentation for blankslate-3.1.3
Installing darkfish documentation for blankslate-3.1.3
Updating bundler
Successfully installed bundler-1.12.5
Parsing documentation for bundler-1.12.5
Installing ri documentation for bundler-1.12.5
Installing darkfish documentation for bundler-1.12.5
Updating celluloid
Successfully installed timers-4.1.1
Successfully installed celluloid-essentials-0.20.5
Successfully installed celluloid-supervision-0.20.6
Successfully installed celluloid-pool-0.20.5
Successfully installed celluloid-fsm-0.20.5
Successfully installed celluloid-extras-0.20.5
Successfully installed celluloid-0.17.3
Parsing documentation for timers-4.1.1
Installing ri documentation for timers-4.1.1
Installing darkfish documentation for timers-4.1.1
Parsing documentation for celluloid-essentials-0.20.5
Installing ri documentation for celluloid-essentials-0.20.5
Installing darkfish documentation for celluloid-essentials-0.20.5
Parsing documentation for celluloid-supervision-0.20.6
Installing ri documentation for celluloid-supervision-0.20.6
Installing darkfish documentation for celluloid-supervision-0.20.6
Parsing documentation for celluloid-pool-0.20.5
Installing ri documentation for celluloid-pool-0.20.5
Installing darkfish documentation for celluloid-pool-0.20.5
Parsing documentation for celluloid-fsm-0.20.5
Installing ri documentation for celluloid-fsm-0.20.5
Installing darkfish documentation for celluloid-fsm-0.20.5
Parsing documentation for celluloid-extras-0.20.5
Installing ri documentation for celluloid-extras-0.20.5
Installing darkfish documentation for celluloid-extras-0.20.5
Parsing documentation for celluloid-0.17.3
Installing ri documentation for celluloid-0.17.3
Installing darkfish documentation for celluloid-0.17.3
Updating chunky_png
Successfully installed chunky_png-1.3.6
Parsing documentation for chunky_png-1.3.6
Installing ri documentation for chunky_png-1.3.6
Installing darkfish documentation for chunky_png-1.3.6
Updating classifier-reborn
Successfully installed classifier-reborn-2.0.4
Parsing documentation for classifier-reborn-2.0.4
Installing ri documentation for classifier-reborn-2.0.4
Installing darkfish documentation for classifier-reborn-2.0.4
Updating coffee-script
Successfully installed coffee-script-2.4.1
Parsing documentation for coffee-script-2.4.1
Installing ri documentation for coffee-script-2.4.1
Installing darkfish documentation for coffee-script-2.4.1
Updating coffee-script-source
Successfully installed coffee-script-source-1.10.0
Parsing documentation for coffee-script-source-1.10.0
Installing ri documentation for coffee-script-source-1.10.0
Installing darkfish documentation for coffee-script-source-1.10.0
Updating colorator
Successfully installed colorator-1.1.0
Parsing documentation for colorator-1.1.0
Installing ri documentation for colorator-1.1.0
Installing darkfish documentation for colorator-1.1.0
Updating execjs
Successfully installed execjs-2.7.0
Parsing documentation for execjs-2.7.0
Installing ri documentation for execjs-2.7.0
Installing darkfish documentation for execjs-2.7.0
Updating ffi
Successfully installed ffi-1.9.14-x64-mingw32
Parsing documentation for ffi-1.9.14-x64-mingw32
Installing ri documentation for ffi-1.9.14-x64-mingw32
Installing darkfish documentation for ffi-1.9.14-x64-mingw32
Updating haml

HEADS UP! Haml 4.0 has many improvements, but also has changes that may break
your application:

* Support for Ruby 1.8.6 dropped
* Support for Rails 2 dropped
* Sass filter now always outputs &lt;style&gt; tags
* Data attributes are now hyphenated, not underscored
* html2haml utility moved to the html2haml gem
* Textile and Maruku filters moved to the haml-contrib gem

For more info see:

http://rubydoc.info/github/haml/haml/file/CHANGELOG.md

Successfully installed haml-4.0.7
Parsing documentation for haml-4.0.7
Installing ri documentation for haml-4.0.7
Installing darkfish documentation for haml-4.0.7
Updating hitimes
Building native extensions.  This could take a while...
Successfully installed hitimes-1.2.4
Parsing documentation for hitimes-1.2.4
Installing ri documentation for hitimes-1.2.4
Installing darkfish documentation for hitimes-1.2.4
Updating io-console
Building native extensions.  This could take a while...
Updating jekyll
Successfully installed liquid-3.0.6
Successfully installed rouge-1.11.1
Successfully installed forwardable-extended-2.6.0
Successfully installed pathutil-0.14.0
Successfully installed jekyll-3.2.1
Successfully installed rb-inotify-0.9.7
Successfully installed listen-3.0.8
Parsing documentation for liquid-3.0.6
Installing ri documentation for liquid-3.0.6
Installing darkfish documentation for liquid-3.0.6
Parsing documentation for rouge-1.11.1
Installing ri documentation for rouge-1.11.1
Installing darkfish documentation for rouge-1.11.1
Parsing documentation for forwardable-extended-2.6.0
Installing ri documentation for forwardable-extended-2.6.0
Installing darkfish documentation for forwardable-extended-2.6.0
Parsing documentation for pathutil-0.14.0
Installing ri documentation for pathutil-0.14.0
Installing darkfish documentation for pathutil-0.14.0
Parsing documentation for jekyll-3.2.1
Installing ri documentation for jekyll-3.2.1
Installing darkfish documentation for jekyll-3.2.1
Parsing documentation for rb-inotify-0.9.7
Installing ri documentation for rb-inotify-0.9.7
Installing darkfish documentation for rb-inotify-0.9.7
Parsing documentation for listen-3.0.8
Installing ri documentation for listen-3.0.8
Installing darkfish documentation for listen-3.0.8
Updating jekyll-gist
Successfully installed multipart-post-2.0.0
Successfully installed faraday-0.9.2
Successfully installed addressable-2.4.0
Successfully installed sawyer-0.7.0
Successfully installed octokit-4.3.0
Successfully installed jekyll-gist-1.4.0
Parsing documentation for multipart-post-2.0.0
Installing ri documentation for multipart-post-2.0.0
Installing darkfish documentation for multipart-post-2.0.0
Parsing documentation for faraday-0.9.2
Installing ri documentation for faraday-0.9.2
Installing darkfish documentation for faraday-0.9.2
Parsing documentation for addressable-2.4.0
Installing ri documentation for addressable-2.4.0
Installing darkfish documentation for addressable-2.4.0
Parsing documentation for sawyer-0.7.0
Installing ri documentation for sawyer-0.7.0
Installing darkfish documentation for sawyer-0.7.0
Parsing documentation for octokit-4.3.0
Installing ri documentation for octokit-4.3.0
Installing darkfish documentation for octokit-4.3.0
Parsing documentation for jekyll-gist-1.4.0
Installing ri documentation for jekyll-gist-1.4.0
Installing darkfish documentation for jekyll-gist-1.4.0
Updating jekyll-sass-converter
Successfully installed jekyll-sass-converter-1.4.0
Parsing documentation for jekyll-sass-converter-1.4.0
Installing ri documentation for jekyll-sass-converter-1.4.0
Installing darkfish documentation for jekyll-sass-converter-1.4.0
Updating jekyll-sitemap
</code></pre>

<h2 id="effect">Effect</h2>

<p>The preview <em>failed</em>.</p>

<pre class="cli"><code>Owner@Owner-PC MINGW64 /c/github/blog2 (gh-pages)
$ jekyll serve
WARN: Unresolved specs during Gem::Specification.reset:
      jekyll-watch (~&gt; 1.1)
WARN: Clearing out unresolved specs.
Please report a bug if this causes problems.
Configuration file: C:/github/blog2/_config.yml
            Source: C:/github/blog2
       Destination: C:/github/blog2/_site
 Incremental build: disabled. Enable with --incremental
      Generating...
                    done in 2.227 seconds.
I, [2016-08-28T21:50:30.210479 #7440]  INFO -- : Celluloid 0.17.3 is running in 
BACKPORTED mode. [ http://git.io/vJf3J ]
jekyll 3.2.1 | Error:  wrong number of arguments (2 for 1)
</code></pre>

<p>Then, I googled “unable to convert x90 from ascii-8bit to utf-8” and
clicked on the first link, which was a Stack Overflow question about
<a href="http://stackoverflow.com/q/18235293">an similar error</a>.</p>

<pre class="cli"><code>$ gem update --system
RubyGems 2.6.6 installed
Parsing documentation for rubygems-2.6.6
Installing ri documentation for rubygems-2.6.6

=== 2.6.6 / 2016-06-22

Bug fixes:

* Sort installed versions to make sure we install the latest version when
## RELEASE NOTES OMITTED
  by Michal Papis.


------------------------------------------------------------------------------

RubyGems installed the following executables:
    C:/Ruby200-x64/bin/gem

Ruby Interactive (ri) documentation was installed. ri is kind of like man
pages for ruby libraries. You may access it like this:
  ri Classname
  ri Classname.class_method
  ri Classname#instance_method
If you do not wish to install this documentation in the future, use the
--no-document flag, or set it as the default in your ~/.gemrc file. See
'gem help env' for details.

Updating rubygems-update
Successfully installed rubygems-update-2.6.6
Parsing documentation for rubygems-update-2.6.6
Installing ri documentation for rubygems-update-2.6.6
Installing darkfish documentation for rubygems-update-2.6.6
Installing RubyGems 2.6.6
RubyGems system software updated
</code></pre>

<p>The error <em>unable to convert “\x86” from ASCII-8BIT to UTF-8 for …</em>
was <em>gone</em>, but the rests were still there.</p>

<pre class="cli"><code>Owner@Owner-PC MINGW64 /c/github/blog2 (gh-pages)
$ gem update
ERROR:  Error installing io-console:
        ERROR: Failed to build gem native extension.

    current directory: C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/io-console-0.4.6
C:/Ruby200-x64/bin/ruby.exe -r ./siteconf20160829-1756-1m1r5xm.rb extconf.rb
checking for rb_funcallv()... no
checking for rb_sym2str()... no
creating Makefile

To see why this extension failed to compile, please check the mkmf.log which can
 be found here:

  C:/Ruby200-x64/lib/ruby/gems/2.0.0/extensions/x64-mingw32/2.0.0/io-console-0.4
.6/mkmf.log

current directory: C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/io-console-0.4.6
make "DESTDIR=" clean

current directory: C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/io-console-0.4.6
make "DESTDIR="
generating console-x64-mingw32.def
compiling console.c
console.c: In function 'console_cursor_set':
console.c:716:5: warning: implicit declaration of function 'RARRAY_AREF' [-Wimpl
icit-function-declaration]
linking shared-object io/console.so
console.o: In function `console_cursor_set':
C:\Ruby200-x64\lib\ruby\gems\2.0.0\gems\io-console-0.4.6/console.c:716: undefine
d reference to `RARRAY_AREF'
C:\Ruby200-x64\lib\ruby\gems\2.0.0\gems\io-console-0.4.6/console.c:716: undefine
d reference to `RARRAY_AREF'
collect2.exe: error: ld returned 1 exit status
make: *** [console.so] Error 1

make failed, exit code 2

Gem files will remain installed in C:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/io-co
nsole-0.4.6 for inspection.
Results logged to C:/Ruby200-x64/lib/ruby/gems/2.0.0/extensions/x64-mingw32/2.0.
0/io-console-0.4.6/gem_make.out
ERROR:  While executing gem ... (Encoding::InvalidByteSequenceError)
    "\xE9" followed by "\x94" on CP950
Updating installed gems
Updating io-console
Temporarily enhancing PATH to include DevKit...
Building native extensions.  This could take a while...
Updating jekyll-sitemap
</code></pre>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[$\rm \LaTeX$-Suite in Portable Git]]></title>
      <link href="https://vincenttam.github.io/blog/2016/04/09/latex-suite-in-portable-git/"/>
    
    <updated>2016-04-09T06:34:38+00:00</updated>
    <id>https://vincenttam.github.io/blog/2016/04/09/latex-suite-in-portable-git</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>A year ago, I was using msysgit on M$ Win* 7. Its support for
Unicode characters <em>isn’t</em> so good, and I <em>can’t</em> write a text file
with accents like “café” in the Vim editor that shipped with msysgit.
As a result, I needed GVim for editing my $\rm \LaTeX$ documents.</p>

<p>Unluckily, unlike Linux, the GVim can <em>never</em> have forward control.
Therefore, I needed to switch windows between GVim and Git Bash.</p>

<p>More importantly, if I want to apply the Linux skills and the tools on
M$ Win*, I need <em>portable</em> programs excutable on a USB unless I
carry my laptop.</p>

<p>Luckily, the bash shell in Git for Windows has improved a lot.  The
accents are well supported.  Then, I have switched from GVim to the
embedded Vim in Git for Windows.  Luckily, the setup of Vundle was
smooth. Most of the installed plugins work fine in terminal Vim.</p>

<h2 id="problem-1">Problem 1</h2>

<p>In the post <a href="/blog/2016/03/20/git-portable-home-path/"><em>Git Portable Home Path</em></a>, a BAT file is included so
that the home folder and the <code>HOMEDRIVE</code> environment are automatically
set.  Since the <em>same</em> Git repository can be shared among multiple
devices, such as my Linux desktop, my M$ Win* 7 laptop, and my USB
stick, a bare repository is needed for efficient pulling and pushing
of Git commits.  Since I work outside home, I place a bare Git repo in
my USB stick.  However, for each local Git repository stored in the
USB stick (under <code>~/local_repo</code>, a.k.a.
<code>$HOMEDRIVE/PortableGit/home/owner/local_repo</code>), I need to run the
following command for each time I use Git Bash.</p>

<h2 id="problem-2">Problem 2</h2>

<p>After making some changes on a $\rm \TeX$ file, I compiled the file
using Mik$\rm \TeX$ Portable.</p>

<ol>
  <li>Browse the folder <code>$HOMEDRIVE/MikTeXPortable/</code>.</li>
  <li>Double-click on <code>miktex-portable.cmd</code>.</li>
  <li>In the Command Prompt popped up, switch to
<code>$HOMEDRIVE/PortableGit/home/owner/local_repo</code>.</li>
  <li>Type <code>pdflatex file.tex</code>.</li>
</ol>

<p>This sounds really slow.  The goal is to find a more efficient $\rm
\LaTeX$ editing workflow.</p>

<p>That’s <em>not</em> the end.  Another bad news came from <code>eu1lmr.fd</code>.  I’ve
got error similar to <a href="http://bbs.ctex.org/forum.php?mod=viewthread&amp;tid=75679">fengbaobao6’s</a>.  The compilation was
<em>stuck</em> at <code>...\tex\latex\euenc\eu1lmr.fd</code>.  Then an error was shown:
“Fontconfig error: Cannot load config file”.</p>

<!-- more -->

<h2 id="solution-1">Solution 1</h2>

<ol>
  <li>Create a file <code>~/.bashrc</code> if it <em>doesn’t</em> exist.</li>
  <li>Write an array consisting of all local Git repositories saved in
the USB stick in BASHRC.</li>
  <li>Then Write a for loop to reset the remote location.</li>
</ol>

<h2 id="solution-2">Solution 2</h2>

<p>Searching the error text, I found kounoupis’s answer on
<a href="http://askubuntu.com/a/708541">Ask Ubuntu</a>.  Even though the <code>export</code> command <em>didn’t</em>
work for me, I still found his answer informative.</p>

<p>Finally, reading <code>miktex-portable.cmd</code>, I gave up on investigating the
problem, and added the last line of this file into BASHRC since I have
other important things to do.</p>

<p><figure class='code'><figcaption><span>Actual CMD file found in Mik$\rm \TeX$ Portable  (miktex-portable.cmd)</span> <a href='/downloads/code/miktex-portable.cmd'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bat'><span class='line'><span class="p">@</span><span class="k">echo</span> <span class="k">off</span>
</span><span class='line'><span class="k">cd</span> <span class="n">/d</span> <span class="nv">%~dp0</span>
</span><span class='line'>miktex\bin\miktex-taskbar-icon.exe
</span></code></pre></td></tr></table></div></figure></p>

<p>To include Mik$\rm \TeX$ into <code>PATH</code>, I first extracted <code>$HOMEDRIVE</code>
in the form <code>/f</code> instead of <code>F:/</code>.  If not, Mik$\rm \TeX$ <em>won’t</em>
work.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Here’s my BASHRC for Git Bash.</p>

<p><figure class='code'><figcaption><span>My BASHRC (bashrc)</span> <a href='/downloads/code/bashrc'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'><span class="vg">stty</span><span class="w"> </span><span class="o">-</span><span class="vg">ixon</span>
</span><span class='line'><span class="vg">cd</span><span class="w"> </span><span class="o">~</span>
</span><span class='line'>
</span><span class='line'><span class="vg">HOMEDRIVE</span><span class="o">=</span><span class="err">$</span><span class="p">(</span><span class="vg">perl</span><span class="w"> </span><span class="o">-</span><span class="vg">e</span><span class="w"> </span><span class="c1">&#39;($var) = $ENV{HOMEDRIVE} =~ /([A-Z]):/; print &quot;/&quot;.lc($1)&#39;)</span>
</span><span class='line'><span class="vg">if</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">$</span><span class="p">(</span><span class="vg">perl</span><span class="w"> </span><span class="o">-</span><span class="vg">e</span><span class="w"> </span><span class="c1">&#39;($var) = $ENV{PATH} !~ /tex/i; print STDOUT $var&#39;) ]</span>
</span><span class='line'><span class="vg">then</span>
</span><span class='line'><span class="w">    </span><span class="vg">echo</span><span class="w"> </span><span class="err">&quot;</span><span class="vg">No</span><span class="w"> </span><span class="vg">LaTeX</span><span class="w"> </span><span class="vg">found!</span><span class="w">  </span><span class="vg">Added</span><span class="w"> </span><span class="err">$</span><span class="vg">HOMEDRIVE</span><span class="o">/</span><span class="vg">MikTeXPortable</span><span class="o">/</span><span class="vg">miktex</span><span class="o">/</span><span class="vg">bin</span>
</span><span class='line'><span class="w">    </span><span class="vg">to</span><span class="w"> </span><span class="vg">path</span><span class="o">.</span><span class="err">&quot;</span>
</span><span class='line'><span class="w">    </span><span class="vg">PATH</span><span class="o">=</span><span class="err">$</span><span class="nl">PATH:</span><span class="err">$</span><span class="vg">HOMEDRIVE</span><span class="o">/</span><span class="vg">MikTeXPortable</span><span class="o">/</span><span class="vg">miktex</span><span class="o">/</span><span class="vg">bin</span>
</span><span class='line'><span class="w">    </span><span class="vg">echo</span><span class="w"> </span><span class="s2">&quot;IMPORTANT: Close MikTeX Taskbar icon before exit.&quot;</span>
</span><span class='line'><span class="w">    </span><span class="vg">echo</span><span class="w"> </span><span class="s2">&quot;Otherwise this shell WON&#39;T close.&quot;</span>
</span><span class='line'><span class="w">    </span><span class="vg">miktex</span><span class="o">-</span><span class="vg">taskbar</span><span class="o">-</span><span class="vg">icon</span>
</span><span class='line'><span class="vg">fi</span>
</span><span class='line'>
</span><span class='line'><span class="vg">loc_repo</span><span class="o">=</span><span class="p">(</span>
</span><span class='line'><span class="c1">&#39;resume2015&#39;</span>
</span><span class='line'><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="vg">for</span><span class="w"> </span><span class="vg">f</span><span class="w"> </span><span class="vg">in</span><span class="w"> </span><span class="err">$</span><span class="p">{</span><span class="vg">loc_repo</span><span class="p">[</span><span class="err">@</span><span class="p">]};</span><span class="w"> </span><span class="vg">do</span>
</span><span class='line'><span class="w">    </span><span class="vg">cd</span><span class="w"> </span><span class="err">$</span><span class="vg">f</span>
</span><span class='line'><span class="w">    </span><span class="vg">git</span><span class="w"> </span><span class="vg">remote</span><span class="w"> </span><span class="vg">set</span><span class="o">-</span><span class="vg">url</span><span class="w"> </span><span class="vg">origin</span><span class="w"> </span><span class="err">$</span><span class="vg">HOMEDRIVE</span><span class="o">/</span><span class="err">$</span><span class="vg">f</span><span class="o">.</span><span class="vg">git</span>
</span><span class='line'><span class="w">    </span><span class="vg">cd</span><span class="w"> </span><span class="o">-</span>
</span><span class='line'><span class="vg">done</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>If the setup is correct, then <code>\ll</code> in $\rm \LaTeX$-Suite should
automatically trigger the $\rm \LaTeX$ compilation.  I give up on
finding ways to open a viewer with <code>\lv</code> since I can use the keyboard
to switch to a web browser to see the compiled PDF file <em>without</em>
installing another PDF viewer in my USB stick.</p>

<h2 id="lessons-learnt">Lessons learnt</h2>

<p>I’ve learnt some Perl and bash after writing this BASHRC.</p>

<ol>
  <li>A little bit of Perl
    <ul>
      <li><code>$ENV{HOMEDRIVE}</code> for extracting the environment variable
  <code>HOMEDRIVE</code>.</li>
      <li><code>/(regex_pat)/;</code> for extracting matching string to capture
  groups <code>$1</code>, <code>$2</code>…  (The <code>()</code> around <code>regex_pat</code> is
  <em>crucial</em>.)</li>
      <li><code>.</code> for string concatenation.</li>
      <li><code>lc()</code> for converting a string to lowercase.</li>
    </ul>
  </li>
  <li>Bash for loop writing: described in <a href="/blog/2016/04/08/loop-through-an-array-having-only-one-element-in-bash/">one of my recent posts</a>.</li>
</ol>

]]></content>
    
  </entry>
  
</feed>
