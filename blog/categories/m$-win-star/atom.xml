<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: M$ Win* | Blog 1]]></title>
  <link href="https://vincenttam.github.io/blog/categories/m$-win-star/atom.xml" rel="self"/>
  <link href="https://vincenttam.github.io/"/>
  <updated>2017-01-11T15:55:37+00:00</updated>
  <id>https://vincenttam.github.io/</id>
  <author>
    <name><![CDATA[Vincent Tam]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    
      <title type="html"><![CDATA[Ubuntu on Windows 10 Custom Display]]></title>
      <link href="https://vincenttam.github.io/blog/2017/01/11/ubuntu-on-windows-10-custom-display/"/>
    
    <updated>2017-01-11T14:29:23+00:00</updated>
    <id>https://vincenttam.github.io/blog/2017/01/11/ubuntu-on-windows-10-custom-display</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p><em>Same</em> as some of my recent posts: get <code>jekyll serve</code> working to watch
for changes during a preview of <a href="/blog2">my Jekyll-bootstrap blog</a>.</p>

<p>Since I found the <a href="/blog/2017/01/10/octopress-config-for-ruby-2-dot-3-on-windows-10/">Ruby gems setup</a> too <em>difficult</em>, I switched to
<a href="https://msdn.microsoft.com/en-us/commandline/wsl/about">Ubuntu on Windows 10</a> after reading <a href="https://gorails.com/setup/windows/10">a Ruby setup guide</a>.</p>

<h2 id="problem">Problem</h2>

<p>The default display settings <em>didn’t</em> look great, so I installed
<a href="http://font.ubuntu.com/">Ubuntu Mono font</a>.  Unluckily, one <em>can’t</em> type Chinese
characters, and the bottom line of <a href="https://tmux.github.io/">tmux</a> keeps jumping up from time
to time.  Most importantly, the copy and paste function <em>isn’t</em>
convenient to use: every time I need to paste something, I have to
move the mouse to the top of the window, then right click and select
“Modify” → “Paste”.  That’s too slow when compared to <code>&lt;S-Ins&gt;</code> in
<a href="https://mintty.github.io/">mintty</a> which is shipped with <a href="https://git-for-windows.github.io/">Git for Windows</a>.</p>

<p>However, on <abbr title="Windows Linux Subsystem">WLS</abbr>, aptitude takes good care of package dependencies.
That’s <em>much better</em> for installing necessary stuff for blogging with
frameworks like <a href="https://jekyllrb.com/">Jekyll</a>.</p>

<p><strong>How can I run <abbr title="Windows Linux Subsystem">WLS</abbr> using a mintty shell?</strong></p>

<!-- more -->

<h2 id="solution">Solution</h2>

<p>Use <a href="https://github.com/goreliu/wsl-terminal">wsl-terminal</a>.</p>

<h2 id="lessons-learnt">Lessons learnt</h2>

<p>Firstly, I’ve revised the use of <code>chown</code>, <code>chgrp</code> and <code>chmod</code>, and
learnt the function of <code>umask</code>.</p>

<ul>
  <li><code>u</code>, <code>g</code>, <code>o</code> stand for “user”, “group” and “others” respectively.</li>
  <li>The rights to <code>r</code>, <code>w</code>, <code>x</code> can be <code>+</code> or <code>-</code>.</li>
  <li>Put them together: <code>chmod og-w [target-dir]</code>.</li>
</ul>

<p>Unfortunately, the Windows 10 bash creates folders and files with
permissions 777 and 666 respectively.  The comments for
<a href="https://github.com/Microsoft/BashOnWindows/issues/352">Microsoft/BashOnWindows#352</a> solved this problem: instead of
putting <code>umask 022</code> in <code>/etc/profile</code> or <code>~/.profile</code>, it should be
added in <code>~/.bashrc</code> because the login mechanism on <abbr title="Windows Linux Subsystem">WLS</abbr> is <em>different</em>
from a usual GNU/Linux OS.  I think the profiles <em>aren’t</em> process
during <abbr title="Windows Linux Subsystem">WLS</abbr> startup after having added a simple statement for echoing a
few words in <code>~/.profile</code>.  Lilred’s method is even better.</p>

<p><code>sh Added this to your '~/.bashrc' https://git.io/vM0xz source
# Note: Bash on Windows does not currently apply umask properly.
if [ "$(umask)" = "0000" ]; then
    umask 022
fi
</code></p>

<p>Secondly, I’ve learnt the meaning of <code>eval</code>.</p>

<pre class="cliUB"><code>user@OWNER-PC:~$ ssh-agent
SSH_AUTH_SOCK=/tmp/ssh-xiwtTnVlI90S/agent.6636; export SSH_AUTH_SOCK;
SSH_AGENT_PID=5764; export SSH_AGENT_PID;
echo Agent pid 5764;
user@OWNER-PC:~$ ssh-add
Could not open a connection to your authentication agent.
</code></pre>

<p>From <a href="http://stackoverflow.com/a/17848593/3184351">user456814’s answer</a> on a Stack Overflow question
about SSH authentication agent, we can see that <code>ssh-agent</code> returns
the commands to be copied, pasted and ran in the terminal.  The
command <code>eval</code> saves these steps by taking the output as the command
input.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Windows 10 Time Sync Error]]></title>
      <link href="https://vincenttam.github.io/blog/2017/01/11/windows-10-time-sync-error/"/>
    
    <updated>2017-01-11T10:28:39+00:00</updated>
    <id>https://vincenttam.github.io/blog/2017/01/11/windows-10-time-sync-error</id>
    
      <content type="html"><![CDATA[<p>I’ve tried adding a custom inbound rule in my firewall so as to allow
<abbr title="Network Time Protocol">NTP</abbr> access via UDP port 123 after reading a post about
<a href="http://www.ehow.com/how_7241410_unblock-network-time-protocol.html">firewall settings for <abbr title="Network Time Protocol">NTP</abbr></a>, with the aid of another post about
<a href="http://www.tomshardware.co.uk/faq/id-3114787/open-firewall-ports-windows.html">detailed steps for opening ports</a> on Windows 10.  Before that,
I had already done all <a href="https://www.organicweb.com.au/20209/general-technology/windows10-time/">steps in services.msc</a> to allow
automatic startup of the Windows Time service.  Finally, I <em>manually</em>
adjusted the time.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Octopress Config for Ruby 2.3 on Windows 10]]></title>
      <link href="https://vincenttam.github.io/blog/2017/01/10/octopress-config-for-ruby-2-dot-3-on-windows-10/"/>
    
    <updated>2017-01-10T15:38:32+00:00</updated>
    <id>https://vincenttam.github.io/blog/2017/01/10/octopress-config-for-ruby-2-dot-3-on-windows-10</id>
    
      <content type="html"><![CDATA[<h2 id="motivation">Motivation</h2>

<p>Same as the background in <a href="/blog/2017/01/10/upgraded-to-git-for-windows-2-dot-11/">my previous article</a>.</p>

<h2 id="background">Background</h2>

<p>I uninstalled Ruby 2.0 in the Control Panel, and then installed
version 2.3.3 from <a href="https://rubyinstaller.org/">RubyInstaller for Windows</a></p>

<h2 id="problem-1-redcloth-installation-failure">Problem 1: RedCloth installation failure</h2>

<h3 id="error-message">Error message</h3>

<pre class="cli"><code>Gem::InstallError: The 'RedCloth' native gem requires installed build tools.

Please update your PATH to include build tools or download the DevKit
from 'http://rubyinstaller.org/downloads' and follow the instructions
at 'http://github.com/oneclick/rubyinstaller/wiki/Development-Kit'

An error occurred while installing RedCloth (4.2.9), and Bundler cannot
continue.
Make sure that `gem install RedCloth -v '4.2.9'` succeeds before bundling.
</code></pre>

<p>The error message is similar to <a href="http://stackoverflow.com/a/36274233/280189">Joe’s gem install error</a>.
The only difference is that I was installing <a href="http://redcloth.org/">RedCloth</a> 4.9.</p>

<h3 id="solution">Solution</h3>

<p>This failure is due to the absence of a valid path to
<a href="https://rubyinstaller.org/add-ons/devkit/">RubyInstaller Development Kit</a>.  I tried manually adding the
path to the folder for binary executables (default to
<code>C:\RubyDevKit\bin</code>) to <code>PATH</code>, but it’s <em>unsuccessful</em>.  I googled
“Please update your PATH to include build tools” and found
<a href="http://stackoverflow.com/a/36274233/280189">his question</a>, whose third answer explained the function
of <code>devkitvar.bat</code>.  This batch script actually prepended the path of
<em>two</em> folders into <code>PATH</code>.  One is stated above; one is
<code>C:\RubyDevKit\mingw\bin</code>.  Running this batch file changes <code>PATH</code>
<em>temporarily</em>.  A manual configuration in the Control Panel allowed
the system to detect <a href="https://rubyinstaller.org/add-ons/devkit/">DevKit</a>, and this problem was thus
solved.</p>

<h3 id="related-gems">Related gems</h3>

<h4 id="already-installed">Already installed</h4>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th style="text-align: right">Version Number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>rake</td>
      <td style="text-align: right">10.4.2</td>
    </tr>
    <tr>
      <td>bundler</td>
      <td style="text-align: right">1.13.7</td>
    </tr>
  </tbody>
</table>

<h4 id="being-installed">Being installed</h4>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th style="text-align: right">Version Number</th>
      <th style="text-align: center">With native extensions?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>RedCloth</strong></td>
      <td style="text-align: right">4.2.9</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td><strong>wdm</strong></td>
      <td style="text-align: right">0.1.0</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>blankslate</td>
      <td style="text-align: right">2.1.2.4</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>chunky_png</td>
      <td style="text-align: right">1.3.4</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>coffee-script-source</td>
      <td style="text-align: right">1.9.1</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>colorator</td>
      <td style="text-align: right">0.1</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>execjs</td>
      <td style="text-align: right">2.4.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>fast-stemmer</td>
      <td style="text-align: right">1.0.2</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>ffi</td>
      <td style="text-align: right">1.9.6</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>hitimes</td>
      <td style="text-align: right">1.2.2</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>jekyll-gist</td>
      <td style="text-align: right">1.1.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>jekyll-paginate</td>
      <td style="text-align: right">1.1.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>jekyll-sitemap</td>
      <td style="text-align: right">0.8.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>kramdown</td>
      <td style="text-align: right">1.6.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>liquid</td>
      <td style="text-align: right">2.6.2</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>mercenary</td>
      <td style="text-align: right">0.3.5</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>multi_json</td>
      <td style="text-align: right">1.11.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>posix-spawn</td>
      <td style="text-align: right">0.3.10</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>rack</td>
      <td style="text-align: right">1.6.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>rb-fsevent</td>
      <td style="text-align: right">0.9.4</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>redcarpet</td>
      <td style="text-align: right">3.2.2</td>
      <td style="text-align: center">✓</td>
    </tr>
    <tr>
      <td>safe_yaml</td>
      <td style="text-align: right">1.0.4</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>sass</td>
      <td style="text-align: right">3.4.13</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>stringex</td>
      <td style="text-align: right">1.4.0</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>tilt</td>
      <td style="text-align: right">1.4.1</td>
      <td style="text-align: center">✗</td>
    </tr>
    <tr>
      <td>yajl-ruby</td>
      <td style="text-align: right">1.2.1</td>
      <td style="text-align: center">✓</td>
    </tr>
  </tbody>
</table>

<h2 id="problem-2-wdm-installation-failure">Problem 2: wdm installation failure</h2>

<p>I put the <a href="#wdm" class="cliwide">error message from wdm</a> in a popup dialog.</p>

<div id="wdm" class="noscr">
<pre class="cli"><code>Owner@Owner-PC MINGW64 /c/github/vincenttam.github.io (source)
$ bundle install
Fetching gem metadata from https://rubygems.org/.........
Fetching version metadata from https://rubygems.org/..
Fetching dependency metadata from https://rubygems.org/.
Using rake 10.4.2
Using RedCloth 4.2.9
Using blankslate 2.1.2.4
Installing hitimes 1.2.2 with native extensions
Using chunky_png 1.3.4
Installing fast-stemmer 1.0.2 with native extensions
Using coffee-script-source 1.9.1
Using execjs 2.4.0
Using colorator 0.1
Using multi_json 1.11.0
Using sass 3.4.13
Using rb-fsevent 0.9.4
Using ffi 1.9.6
Using tilt 1.4.1
Using jekyll-gist 1.1.0
Using jekyll-paginate 1.1.0
Using kramdown 1.6.0
Using liquid 2.6.2
Using mercenary 0.3.5
Installing posix-spawn 0.3.10 with native extensions
Installing yajl-ruby 1.2.1 with native extensions
Installing redcarpet 3.2.2 with native extensions
Using safe_yaml 1.0.4
Using jekyll-sitemap 0.8.0
Using rack 1.6.0
Using stringex 1.4.0
Installing wdm 0.1.0 with native extensions
Using bundler 1.13.7
Installing parslet 1.5.0
Installing timers 4.0.1
Installing classifier-reborn 2.0.3
Installing coffee-script 2.3.0
Installing compass-core 1.0.3
Installing compass-import-once 1.0.5
Installing jekyll-sass-converter 1.3.0
Installing sass-globbing 1.0.0
Installing rb-inotify 0.9.5
Installing haml 4.0.6
Installing pygments.rb 0.6.2
Installing rack-protection 1.5.3
Gem::Ext::BuildError: ERROR: Failed to build gem native extension.

    current directory: C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/wdm-0.1.0/ext/wdm
C:/Ruby23-x64/bin/ruby.exe -r ./siteconf20170109-8020-1n4s35m.rb extconf.rb
checking for main() in -lkernel32... yes
checking for windows.h... yes
checking for ruby.h... yes
checking for HAVE_RUBY_ENCODING_H... yes
creating Makefile

To see why this extension failed to compile, please check the mkmf.log which can
be found here:



current directory: C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/wdm-0.1.0/ext/wdm
make "DESTDIR=" clean

current directory: C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/wdm-0.1.0/ext/wdm
make "DESTDIR="
generating wdm_ext-x64-mingw32.def
compiling entry.c
In file included from entry.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from entry.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from entry.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from entry.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling memory.c
In file included from memory.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from memory.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from memory.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from memory.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling monitor.c
In file included from monitor.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from monitor.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from monitor.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from monitor.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling queue.c
In file included from queue.c:3:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/vadefs.h:13:0,
from
4-mingw32/include/_mingw_stdarg.h:14,
from
4-mingw32/include/stdarg.h:140,
from
c:\rubydevkit\mingw\bin\../lib/gcc/x86_64-w64-mingw32/4.7.2/include/stdarg.h:1,
                 from queue.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from queue.c:3:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from queue.c:3:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling rb_change.c
In file included from rb_change.c:4:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdlib.h:9,
                 from rb_change.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from rb_change.c:4:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from rb_change.c:4:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling rb_monitor.c
In file included from rb_monitor.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from rb_monitor.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from rb_monitor.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from rb_monitor.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
rb_monitor.c: In function 'rb_monitor_run_bang':
rb_monitor.c:508:9: warning: implicit declaration of function
'rb_thread_blocking_region' [-Wimplicit-function-declaration]
compiling utils.c
In file included from utils.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from utils.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from utils.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from utils.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
compiling wdm.c
In file included from wdm.c:1:0:
wdm.h:3:0: warning: "WINVER" redefined [enabled by default]
In file included from
4-mingw32/include/crtdefs.h:10:0,
from
4-mingw32/include/stdio.h:9,
                 from wdm.h:1,
                 from wdm.c:1:
4-mingw32/include/_mingw.h:248:0:
note: this is the location of the previous definition
In file included from wdm.c:1:0:
wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
&lt;command-line&gt;:0:0: note: this is the location of the previous definition
In file included from c:/Ruby23-x64/include/ruby-2.3.0/ruby/win32.h:41:0,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/defines.h:168,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby/ruby.h:36,
                 from c:/Ruby23-x64/include/ruby-2.3.0/ruby.h:33,
                 from wdm.h:12,
                 from wdm.c:1:
4-mingw32/include/winsock2.h:15:2:
warning: #warning Please include winsock2.h before windows.h [-Wcpp]
linking shared-object wdm_ext.so
rb_monitor.o: In function `rb_monitor_run_bang':
C:\Ruby23-x64\lib\ruby\gems\2.3.0\gems\wdm-0.1.0\ext\wdm/rb_monitor.c:508:
undefined reference to `rb_thread_blocking_region'
collect2.exe: error: ld returned 1 exit status
make: *** [wdm_ext.so] Error 1

make failed, exit code 2

Gem files will remain installed in
C:/Ruby23-x64/lib/ruby/gems/2.3.0/gems/wdm-0.1.0 for inspection.
Results logged to
.out

An error occurred while installing wdm (0.1.0), and Bundler cannot continue.
Make sure that `gem install wdm -v '0.1.0'` succeeds before bundling.
</code></pre></div>

<p>From the line</p>

<pre class="cli"><code>wdm.h:4:0: warning: "_WIN32_WINNT" redefined [enabled by default]
</code></pre>

<p>I found <a href="https://github.com/Maher4Ever/wdm/issues/18">wdm issue #18</a>, but I <em>failed</em> to notice that the
problem had been resolved.  I later knew that from
<a href="https://github.com/jekyll/jekyll/issues/3721">Jekyll issue #3721</a>.</p>

<p>After changing the version number of <a href="https://rubygems.org/gems/wdm">wdm</a> to 0.1.1, I could proceed
further.  <a href="#wdmfixed" class="cliwide">The system output</a> was fine.</p>

<div id="wdmfixed" class="noscr">
<pre class="cli"><code>Owner@Owner-PC MINGW64 /c/github/vincenttam.github.io (source)
$ gem install wdm -v '0.1.1'
Building native extensions.  This could take a while...
Successfully installed wdm-0.1.1
Parsing documentation for wdm-0.1.1
Installing ri documentation for wdm-0.1.1
Done installing documentation for wdm after 0 seconds
1 gem installed
Owner@Owner-PC MINGW64 /c/github/vincenttam.github.io (source)
$ bundle install
Fetching gem metadata from https://rubygems.org/..........
Fetching version metadata from https://rubygems.org/..
Fetching dependency metadata from https://rubygems.org/.
Resolving dependencies...
Using rake 10.4.2
Using RedCloth 4.2.9
Using blankslate 2.1.2.4
Using hitimes 1.2.2
Using chunky_png 1.3.4
Using fast-stemmer 1.0.2
Using coffee-script-source 1.9.1
Using execjs 2.4.0
Using colorator 0.1
Using multi_json 1.11.0
Using sass 3.4.13
Using rb-fsevent 0.9.4
Using ffi 1.9.6
Using tilt 1.4.1
Using jekyll-gist 1.1.0
Using jekyll-paginate 1.1.0
Using kramdown 1.6.0
Using liquid 2.6.2
Using mercenary 0.3.5
Using posix-spawn 0.3.10
Using yajl-ruby 1.2.1
Using redcarpet 3.2.2
Using safe_yaml 1.0.4
Using jekyll-sitemap 0.8.0
Using rack 1.6.0
Using stringex 1.4.0
Using wdm 0.1.1 (was 0.1.0)
Using bundler 1.13.7
Using parslet 1.5.0
Using timers 4.0.1
Using classifier-reborn 2.0.3
Using coffee-script 2.3.0
Using compass-core 1.0.3
Using compass-import-once 1.0.5
Using jekyll-sass-converter 1.3.0
Using sass-globbing 1.0.0
Using rb-inotify 0.9.5
Using haml 4.0.6
Using pygments.rb 0.6.2
Using rack-protection 1.5.3
Installing toml 0.1.2
Installing celluloid 0.16.0
Installing jekyll-coffeescript 1.0.1
Installing compass 1.0.3
Installing sinatra 1.4.5
Installing listen 2.8.5
Installing jekyll-watch 1.2.1
Installing jekyll 2.5.3
Installing octopress-hooks 2.6.0
Installing octopress-date-format 2.0.2
Bundle complete! 14 Gemfile dependencies, 50 gems now installed.
Use `bundle show [gemname]` to see where a bundled gem is installed.
Post-install message from compass:
    Compass is charityware. If you love it, please donate on our behalf at http:
//umdf.org/compass Thanks!
</code></pre></div>

<h2 id="problem-3-i-have-a-row-with-justin">Problem 3: I have a row with Justin.</h2>

<p>When I ran <code>rake preview</code>, the follow line appeared.</p>

<pre class="cli"><code>bash: /c/Ruby23-x64/bin/rake: C:/Users/Justin/Projects/rubyinstaller/sandbox/rub
y23_mingw/bin/ruby.exe: bad interpreter: No such file or directory
</code></pre>

<p>I searched “rake install justin projects” on <a href="google.com">Google</a>.
You may follow <a href="http://stackoverflow.com/a/36925869/280189">griest’s advice</a> to have this problem
fixed.  If this link were unluckily dead in the future, you might
leave a comment below after getting rid of Justin at the first line of
<code>/c/Ruby23-x64/bin/rake</code>.</p>

<h2 id="result">Result</h2>

<p><a href="http://octopress.org">Octopress</a> did work on my machine.  Then I re-ran <code>bundle install</code>
under the local repository for <a href="/blog2">my another blog</a>, but the
<a href="/blog/2016/08/20/jekyll-serve-error/"><em>same</em> Celluloid error</a> <em>re-appeared</em>.  I <em>don’t</em> know how to
perform a <a href="https://talk.jekyllrb.com/t/error-while-trying-to-run-jekyll-serve/933/10">celluloid downgrade</a> to version 16.0 under that
repository.  The version number for <a href="https://rubygems.org/gems/celluloid/versions/0.17.3">Celluloid</a> was <em>generated</em> by the
system—I <em>didn’t</em> type it in <code>Gemfile.lock</code>.  As a result, I
switched to <a href="https://msdn.microsoft.com/en-us/commandline/wsl/about">Ubuntu on Windows 10</a>.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Upgraded to Git for Windows 2.11]]></title>
      <link href="https://vincenttam.github.io/blog/2017/01/10/upgraded-to-git-for-windows-2-dot-11/"/>
    
    <updated>2017-01-10T13:09:42+00:00</updated>
    <id>https://vincenttam.github.io/blog/2017/01/10/upgraded-to-git-for-windows-2-dot-11</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>This <a href="https://git-for-windows.github.io/">Git for Windows</a> upgrade from v2.8 to v2.11 is an
<em>unsuccessful</em> attempt to fix a <a href="/blog/2016/08/28/jekyll-serve-error-2/">Jekyll preview error</a> on
<a href="/blog2/">my another blog</a> triggered by the command <code>jekyll serve</code> for
local preview.</p>

<h2 id="problem">Problem</h2>

<p>After the update, I can no longer input letters with accents.  Since
the name of some mathematical theorems have accents, like l’Hôpital’s
Rule.  It would be very inconvenient if the internation keyboard
<em>can’t</em> be used in Git Bash.</p>

<!-- more -->

<h2 id="solution">Solution</h2>

<p>In Git Bash, <code>locale</code> returns several lines.  The first one says
<code>LANG=C</code>.  After viewing the list with <code>locale -a</code>, I’ve finally
chosen the most common option with the character encoding UTF-8.  To
make this change permanent for one user, add the last line into
<code>~/.bashrc</code>.</p>

<p><figure class='code'><figcaption><span>Locale change</span><a href='http://bit.ly/2iAnlq9'>Reference </a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c"># Change Locale Permanently</span>
</span><span class='line'><span class="nb">export </span><span class="nv">LANG</span><span class="o">=</span>en_US.utf8
</span></code></pre></td></tr></table></div></figure></p>

<h2 id="lessons-learnt">Lessons learnt</h2>

<p>Many popular <abbr title="Universal Resource Locator">URL</abbr> shorteners like <a href="bit.ly">Bitly</a> and
<a href="goo.gl">Google <abbr title="Universal Resource Locator">URL</abbr> Shortener</a> <em>won’t</em> afftect my SEO, so I can use
shortened URLs in the <a href="https://daringfireball.net/projects/markdown/">markdown</a> syntax for
<a href="http://octopress.org/docs/plugins/codeblock/">Octopress codeblocks</a> to save disk space.<sup id="fnref:seo"><a href="#fn:seo" class="footnote">1</a></sup></p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:seo">
      <p><a href="http://davidamerland.com/seo-tips/371-do-url-shorteners-impact-your-seo.html"><em>Do URL Shorteners Impact your SEO?</em></a> by David Amerland. <a href="#fnref:seo" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Windows Security Popup During Public Wi-Fi Connection]]></title>
      <link href="https://vincenttam.github.io/blog/2017/01/06/windows-security-popup-during-public-wi-fi-connection/"/>
    
    <updated>2017-01-06T10:34:30+00:00</updated>
    <id>https://vincenttam.github.io/blog/2017/01/06/windows-security-popup-during-public-wi-fi-connection</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>After an upgrade to M$ Win* 10, I connected to my campus’ public
Wi-Fi.<sup id="fnref:pp"><a href="#fn:pp" class="footnote">1</a></sup></p>

<h2 id="problem">Problem</h2>

<p>I mistakenly thought that it’s the <em>same</em> as the one described in
<em>Windows Security popup window pops up each time any connection is
made</em> on <a href="http://superuser.com/q/479113">Super User</a>.</p>

<!-- more -->

<h2 id="failed-attempt-to-solve-this-problem">Failed attempt to solve this problem</h2>

<h3 id="with-m-ie">With M$ IE</h3>

<p>Googling “windows security login popup”, one will find the question
<em>“Windows Security” popup asking me to enter my login information when
visiting campus website</em> on <a href="https://answers.microsoft.com/en-us/ie/forum/ie9-windows_7/windows-security-popup-asking-me-to-enter-my-login/530deb46-0962-e011-8dfc-68b599b31bf5">M$ Community site</a>.  Follow the
steps described in the first answer from Azam, a support engineer.</p>

<h3 id="without-m-ie"><em>Without</em> M$ IE</h3>

<p>To save disk space, I <em>don’t</em> keep M$ IE due to M$ Edge, which was
shipped with the M$ Win* 10 upgrade, and in which the security tab
is <em>absent</em>.</p>

<p>To set a custom security level for Internet options <em>without M$ IE</em>,
open the same window by clicking Control Panel → Network and Internet
→ Internet Options.  The button “Custom level” will then appear.
However, under “User authentication”, there’s <em>no</em> checkboxes.  I only
saw a group of four radio buttons.</p>

<p>In order to find out the right choice, I appended “custom security
level” in the previous Google query.  According to
<a href="https://www.sysaid.com/Sysforums/posts/list/2159.page">a similar page on SysAid</a>, I’ve chosen “Automatic log-on with
current user name and password”.</p>

<h2 id="true-cause-of-the-problem">True cause of the problem</h2>

<p>Actually, the popup window prompts for the user name and password for
<em>another</em> Wi-Fi network with a similar name to which I’m going to
connect.  After typing the right user name and password, I can connect
to the Internet.</p>

<h2 id="lessons-learnt">Lessons learnt</h2>

<p>Although Windows Security popup window is the main focus of this blog,
I’ve learnt something quite different from it because of the article
<em>Windows 10 Settings You Should Change Right Away</em> available on
<a href="http://www.laptopmag.com/articles/windows-10-settings-to-change">Laptop Mag</a> found during this process.  The <abbr title="User account control">UAC</abbr> is really
important: by prompting for user’s confirmation during the
installation of a new software, one will be aware of the apps
installed on the machine.  Though many users claim that those who
oppose the disablement of <abbr title="User account control">UAC</abbr> are “misinformed”, I take the words of a
preferred user who says that M$ Win* 10 would become unstable if
it’s been turned off.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:pp">
      <p>c.f. <a href="/blog/2016/08/28/jekyll-serve-error-2/"><em>Jekyll Serve Error (2)</em></a> <a href="#fnref:pp" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
</feed>
