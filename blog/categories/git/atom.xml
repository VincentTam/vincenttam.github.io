<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Git | Blog 1]]></title>
  <link href="http://vincenttam.github.io/blog/categories/git/atom.xml" rel="self"/>
  <link href="http://vincenttam.github.io/"/>
  <updated>2015-02-15T01:46:28+08:00</updated>
  <id>http://vincenttam.github.io/</id>
  <author>
    <name><![CDATA[Vincent Tam]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    
      <title type="html"><![CDATA[An Up-to-date Git on Ubuntu]]></title>
      <link href="http://vincenttam.github.io/blog/2014/12/21/an-up-to-date-git-on-ubuntu/"/>
    
    <updated>2014-12-21T01:03:49+08:00</updated>
    <id>http://vincenttam.github.io/blog/2014/12/21/an-up-to-date-git-on-ubuntu</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>Tonight, I read the most recent blog article on
<a href="https://github.com/blog">GitHub’s blog</a>.<sup id="fnref:post"><a href="#fn:post" class="footnote">1</a></sup>  It says that the version of Git Bash
on my M$ Win* 7 is <em>unsafe</em>.  Moreover, it is claimed that
<a href="https://www.gnu.org/gnu/linux-and-gnu.en.html">GNU/Linux</a> computers <em>aren’t</em> affected since they’re case
sensitive.  At first, I believed that I <em>didn’t</em> need to upgrade my
<a href="http://git-scm.com/">Git</a>.  However, after I clicked the link for the announcement of Git
v2.2.1, I checked the version of the <a href="http://git-scm.com/">Git</a> on <a href="http://www.ubuntu.com">Ubuntu</a>, and found out
that it <em>wasn’t</em> the newest one.  The following paragraph convinced me
to get this update on my Ubuntu desktop.</p>

<p><blockquote><p>Even though the issue may not affect Linux users, if you are a hosting service whose users may fetch from your service to Windows or Mac OS X machines, you are strongly encouraged to update to protect such users who use existing versions of Git.</p><footer><strong>Junio C Hamano</strong> <cite><a href='http://article.gmane.org/gmane.linux.kernel/1853266'>[ANNOUNCE] Git v2.2.1 (and Updates to Older Maintenance Tracks)</a></cite></footer></blockquote></p>

<!-- more -->

<h2 id="solution">Solution</h2>

<p>Add the <abbr title="Personal Package Archive">PPA</abbr> for <a href="http://git-scm.com/">Git</a>.</p>

<pre class="cliUB"><code>$ sudo add-apt-repository ppa:git-core/ppa
[sudo] password for owner:
 The most current stable version of Git for Ubuntu.

For release candidates, go to https://launchpad.net/~git-core/+archive/candidate .
  More info: https://launchpad.net/~git-core/+archive/ubuntu/ppa
Press [ENTER] to continue or Ctrl-C to cancel adding it

gpg: keyring `/tmp/tmplo3t2ozz/secring.gpg' created
gpg: keyring `/tmp/tmplo3t2ozz/pubring.gpg' created
gpg: requesting key E1DF1F24 from hkp server keyserver.ubuntu.com
gpg: /tmp/tmplo3t2ozz/trustdb.gpg: trustdb created
gpg: key E1DF1F24: public key "Launchpad PPA for Ubuntu Git Maintainers" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)
OK
</code></pre>

<p>Update the package information and upgrade the file.</p>

<pre class="cliUB"><code>$ sudo apt-get upgrade
Reading package lists... Done
Building dependency tree
Reading state information... Done
Calculating upgrade... Done
The following packages will be upgraded:
  git git-core git-man gitk
4 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Need to get 5,604 kB of archives.
After this operation, 1,528 kB of additional disk space will be used.
Do you want to continue? [Y/n] Y
Get:1 http://ppa.launchpad.net/git-core/ppa/ubuntu/ trusty/main gitk all 1:2.2.1-0ppa2~ubuntu14.04.1 [704 kB]
Get:2 http://ppa.launchpad.net/git-core/ppa/ubuntu/ trusty/main git i386 1:2.2.1-0ppa2~ubuntu14.04.1 [3,601 kB]
Get:3 http://ppa.launchpad.net/git-core/ppa/ubuntu/ trusty/main git-man all 1:2.2.1-0ppa2~ubuntu14.04.1 [1,298 kB]
Get:4 http://ppa.launchpad.net/git-core/ppa/ubuntu/ trusty/main git-core all 1:2.2.1-0ppa2~ubuntu14.04.1 [1,412 B]
Fetched 5,604 kB in 23s (240 kB/s)
(Reading database ... 380182 files and directories currently installed.)
Preparing to unpack .../gitk_1%3a2.2.1-0ppa2~ubuntu14.04.1_all.deb ...
Unpacking gitk (1:2.2.1-0ppa2~ubuntu14.04.1) over (1:2.0.4-0ppa1~ubuntu12.04.1) ...
Preparing to unpack .../git_1%3a2.2.1-0ppa2~ubuntu14.04.1_i386.deb ...
Unpacking git (1:2.2.1-0ppa2~ubuntu14.04.1) over (1:2.0.4-0ppa1~ubuntu12.04.1) ...
Preparing to unpack .../git-man_1%3a2.2.1-0ppa2~ubuntu14.04.1_all.deb ...
Unpacking git-man (1:2.2.1-0ppa2~ubuntu14.04.1) over (1:2.0.4-0ppa1~ubuntu12.04.1) ...
Preparing to unpack .../git-core_1%3a2.2.1-0ppa2~ubuntu14.04.1_all.deb ...
Unpacking git-core (1:2.2.1-0ppa2~ubuntu14.04.1) over (1:2.0.4-0ppa1~ubuntu12.04.1) ...
Processing triggers for man-db (2.6.7.1-1ubuntu1) ...
Setting up git-man (1:2.2.1-0ppa2~ubuntu14.04.1) ...
Setting up git (1:2.2.1-0ppa2~ubuntu14.04.1) ...
Setting up gitk (1:2.2.1-0ppa2~ubuntu14.04.1) ...
Setting up git-core (1:2.2.1-0ppa2~ubuntu14.04.1) ...
</code></pre>

<p>Now, I’ve the newest stable release of <a href="http://git-scm.com/">Git</a>.</p>

<pre class="cliUB"><code>$ git --version
git version 2.2.1
</code></pre>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:post">

      <p><a href="http://article.gmane.org/gmane.linux.kernel/1853266"><em>Vulnerability announced: update your Git clients</em></a> by
Vicent Marti. <a href="#fnref:post" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Compressed Git Repository for This Site]]></title>
      <link href="http://vincenttam.github.io/blog/2014/12/13/compressed-git-repository-for-this-site/"/>
    
    <updated>2014-12-13T16:39:09+08:00</updated>
    <id>http://vincenttam.github.io/blog/2014/12/13/compressed-git-repository-for-this-site</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>I’ve uploaded nearly 200 blog posts to this blog.</p>

<h2 id="problem">Problem</h2>

<p>As there’re more and more pages here, the execution speed of the
command <code>git status</code> gradually <em>decreased</em>.</p>

<picture class="fancybox" title="Git GUI">
  <source srcset="/images/posts/GitGc/gui.png" media="(min-width: 800px)" /> 
  <img alt="git gui prompt" src="http://vincenttam.github.io/images/posts/GitGc/gui_s.png" />
</picture>

<!-- more -->

<h2 id="solution">Solution</h2>

<p>I ran the command <code>git gc</code> in <a href="http://msysgit.github.io/#bash">Git Bash</a> on M$ Win* 7.</p>

<pre class="cli"><code>Welcome to Git (version 1.9.4-preview20140929)


Run 'git help git' to display the help index.
Run 'git help <command />' to display help for specific commands.

<span class="GitHostName">Owner@OWNER-PC</span> <span class="GitPathName">~</span>
$ cd /c/github/vincenttam.github.io/

<span class="GitHostName">Owner@OWNER-PC</span> <span class="GitPathName">/c/github/vincenttam.github.io (source)</span>
$ git gc
Counting objects: 8116, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3621/3621), done.
Writing objects: 100% (8116/8116), done.
Total 8116 (delta 4603), reused 7360 (delta 4064)
Removing duplicate objects: 100% (256/256), done.

<span class="GitHostName">Owner@OWNER-PC</span> <span class="GitPathName">/c/github/vincenttam.github.io (source)</span>
$
</code></pre>

<hr />
<p>(Added on Dec 21, 2014)</p>

<p>I also compressed the local repositories on <a href="http://www.ubuntu.com">Ubuntu</a>.</p>

<pre class="cliUB"><code>[owner@localhost ~/octopress]$ git gc
Counting objects: 14057, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (7403/7403), done.
Writing objects: 100% (14057/14057), done.
Total 14057 (delta 7553), reused 11466 (delta 5741)
Checking connectivity: 49889, done.
[owner@localhost ~/octopress]$ cd _deploy/
[owner@localhost ~/octopress/_deploy]$ git gc
Counting objects: 48241, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (16913/16913), done.
Writing objects: 100% (48241/48241), done.
Total 48241 (delta 23195), reused 38708 (delta 18503)
Removing duplicate objects: 100% (256/256), done.
</code></pre>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Git Repositories in USB Drives on Windows]]></title>
      <link href="http://vincenttam.github.io/blog/2014/10/09/git-repositories-in-usb-drives-on-windows/"/>
    
    <updated>2014-10-09T22:59:24+08:00</updated>
    <id>http://vincenttam.github.io/blog/2014/10/09/git-repositories-in-usb-drives-on-windows</id>
    
      <content type="html"><![CDATA[<h2 id="problem">Problem</h2>

<p><img src="/images/posts/MSysGitUSB/problem.jpg" alt="git bash" /></p>

<p><strong>How to access my USB drive (F:/) in Git Bash?</strong></p>

<p>I had tried closing all instances of Git Bash and re-opening them
again.<sup id="fnref:reopen"><a href="#fn:reopen" class="footnote">1</a></sup>  However, it <em>didn’t</em> worked.</p>

<h2 id="raison-dtre">Raison d’être</h2>

<p>If users can use Git command line utilities in <code>cmd.exe</code>, then what’s
the point of asking the above question?</p>

<p><em>Without</em> stopping <code>ssh-agent.exe</code>, one <em>can’t</em> pull Git repositories
from the hard disk to the USB drive.</p>

<!-- more -->

<h2 id="solution">Solution</h2>

<p><img src="/images/posts/MSysGitUSB/taskmgr.jpg" alt="taskmgr" /></p>

<p>The culprit is <code>ssh-agent.exe</code>.  Killing it will do.<sup id="fnref:sol"><a href="#fn:sol" class="footnote">2</a></sup></p>

<h2 id="result">Result</h2>

<p><img src="/images/posts/MSysGitUSB/result.jpg" alt="result" /></p>

<p>The USB drive (F:/) can now be <em>detected</em> in Git Bash.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:reopen">

      <p><a href="http://superuser.com/a/442297"><em>mount external drive on windows7 for git</em></a> in Super
User <a href="#fnref:reopen" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:sol">

      <p><a href="http://stackoverflow.com/a/21375551"><em>Git “unable to determine absolute path of git directory”</em></a>
in Stack Overflow</p>

      <p><blockquote><p>Killing the ssh-agent.exe process works for me.</p><footer><strong>Nikolaos Georgiou</strong></footer></blockquote> <a href="#fnref:sol" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Fixing This Repo's Network Graph]]></title>
      <link href="http://vincenttam.github.io/blog/2014/09/05/fixing-this-repos-network-graph/"/>
    
    <updated>2014-09-05T23:33:17+08:00</updated>
    <id>http://vincenttam.github.io/blog/2014/09/05/fixing-this-repos-network-graph</id>
    
      <content type="html"><![CDATA[<p>Tonight, I worked on my blog.  Here’re something done.</p>

<ol>
  <li>Fixed a dead link in <a href="/blog/2014/05/26/using-octopress-on-another-device/">Using Octopress on Another Device</a> in
<em>Blog 1</em>.</li>
  <li>Fixed <code>url</code> in <code>_config.yml</code>: it should be in lower case.<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup></li>
  <li>Understand item 5 of Scott Cheng’s post on setting up
<a href="http://www.octopress.org">Octopress</a>.<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup>  In May, I <em>didn’t</em> understand it.<sup id="fnref:3"><a href="#fn:3" class="footnote">3</a></sup>  I’ve tested
it in order to understand what it really means.  After running <code>rake
setup_github_pages</code>, <code>_deploy</code> folder has <em>only</em> local <code>master</code>
branch, and <em>no</em> remote branch.  Therefore, it’s <em>impossible</em> to
remote the <em>only</em> branch there.  To avoid conflicts when I push my
commits on <code>master</code> branch to my remote repository in GitHub, I ran
some commands as shown below.</li>
  <li>Fixed the network graph of the GitHub repository for <em>Blog 1</em>.
    <ul>
      <li>Original graph: Due to my poor knowledge on <a href="http://git-scm.com/">Git</a>, <code>master</code>
 branch shares, as shown in the graph, a common node with
 <code>source</code> branch.  This is <em>wrong</em>!</li>
      <li>Deleted locally <code>origin/master</code> branch and <code>master</code> branch in
 the remote repository to clear the mess.</li>
      <li>In the new graph, those two branches <em>don’t</em> share a common node
 anymore.</li>
    </ul>
  </li>
</ol>

<pre class="cli"><code class="UBMono">[owner@localhost ~/octopress/_deploy]$ git branch -rd origin/master
Deleted remote branch origin/master (was e745caf).
owner@owner-Inspiron-560s:~/octopress/_deploy$ git branch -a
* <span class="GitBrName">master</span>
[owner@localhost ~/octopress/_deploy]$ git push origin --delete master
To git@github.com:vincenttam/vincenttam.github.io.git
 - [deleted]         master
</code></pre>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>See commit <a href="https://github.com/VincentTam/vincenttam.github.io/commit/49f9d1b" title="Corrected the config file">49f9d1b</a> for details. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p>This Markdown source code of the <a href="https://github.com/scottcheng/scottcheng.com-v1/blob/3bb8142/source/_posts/2012-11-07-setting-up-existing-octopress-blog-on-a-new-computer.markdown">post</a> can be found in GitHub. <a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:3">
      <p>See the <a href="https://github.com/scottcheng/scottcheng.com-v1/blob/3bb8142/source/_posts/2012-11-07-setting-up-existing-octopress-blog-on-a-new-computer.markdown">post</a> in item 1 for details. <a href="#fnref:3" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Double Hyphens in Git Checkout]]></title>
      <link href="http://vincenttam.github.io/blog/2014/08/07/double-hyphens-in-git-checkout/"/>
    
    <updated>2014-08-07T18:08:56+08:00</updated>
    <id>http://vincenttam.github.io/blog/2014/08/07/double-hyphens-in-git-checkout</id>
    
      <content type="html"><![CDATA[<p>While I was writing my <a href="/blog/2014/08/07/double-hyphens-in-git-diff/" title="Double Hyphens in Git Diff">previous post</a>, I made a link to
<a href="http://supercollider.sourceforge.net/wiki/index.php/Developer_cheatsheet_for_git#Common_git_commands" title="Developer Cheatsheet for Git">a Git cheatsheet</a>.  In the list, I saw a <em>wrong</em> command.</p>

<pre><code>git checkout – &lt;file&gt;
</code></pre>

<p>It is <em>incorrect</em> to use an en-dash <code>–</code> in the above command, instead
of a double hyphen <code>--</code>.  I’ll illustrate this with an example below.
Assume that the current file is <code>~/octopress</code>.</p>

<pre class="cli"><code class="UBMono">$ cat &gt;&gt; Gemfile
bullshxt
$ git diff
<span class="UBHLCode">diff --git a/Gemfile b/Gemfile
index 4d028d3..a1718ff 100644
    --- a/Gemfile
    +++ b/Gemfile</span>
<span class="gitA">@@ -20,3 +20,4 @@</span> group :development do
 end
 
 gem 'sinatra', '~&gt; 1.4.2'
<span class="gitP">+bullshxt</span>

...

$ git checkout <span class="err">—</span> Gemfile
<span class="err">error: pathspec '—' did not match any file(s) known to git.</span>

$ git checkout <span class="UBHLCode">--</span> Gemfile  # correct command
</code></pre>

]]></content>
    
  </entry>
  
</feed>
