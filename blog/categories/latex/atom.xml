<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Latex | Blog 1]]></title>
  <link href="https://vincenttam.github.io/blog/categories/latex/atom.xml" rel="self"/>
  <link href="https://vincenttam.github.io/"/>
  <updated>2016-11-01T01:48:42+01:00</updated>
  <id>https://vincenttam.github.io/</id>
  <author>
    <name><![CDATA[Vincent Tam]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    
      <title type="html"><![CDATA[$\rm \LaTeX$ French Letter With Signature]]></title>
      <link href="https://vincenttam.github.io/blog/2016/04/17/latex-french-letter-with-signature/"/>
    
    <updated>2016-04-17T11:15:38+02:00</updated>
    <id>https://vincenttam.github.io/blog/2016/04/17/latex-french-letter-with-signature</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>Same as my recent post <a href="/blog/2016/04/16/writting-letter-with-bibliography/"><em>Writting Letter With Bibliography</em></a>.</p>

<h2 id="problem">Problem</h2>

<p>How to add a scanned signature to a $\rm \LaTeX$ document for the
<code>lettre</code> class?</p>

<p><img src="/downloads/code/MaLettre/sample-sign.jpg" alt="scanned signature to be added" /></p>

<!-- more -->

<h2 id="my-attempt">My attempt</h2>

<p>Searching “latex letter signature”, I quickly find an article on
<a href="http://texblog.org/2010/05/04/latex-letter-signature-as-image/">texblog</a>.  If the <code>\name{}</code> has been defined at the beginning of
the letter, then adding <code>\forname</code> below the line</p>

<pre><code>\fromsig{\includegraphics[scale=1]{signature.jpg}} \\
</code></pre>

<p>will give you <em>another</em> name, and <code>{Your name}</code> will give you the
third one.  Moreover, the alignment of the sender’s name <em>isn’t</em>
right.</p>

<p>According to the documentation of <code>lettre</code>, the <code>\signature{}</code> command
accepts <em>only text</em> as its arguments.  I try redefining it, but the
alignment is still <em>wrong</em>.  As a result, I decided to do it the
<em>dirty</em> way:  I recalled the method of adding the sender’s name at the
closing part in <a href="http://bio-teckna.fr/?p=1019">Bio Teckna’s model letter</a>.  The
<code>\begin{center}</code> environment is used.  However, to make it look like a
French letter, I used <code>\hspace{8cm}</code> to adjust the horizontal spacing.</p>

<p><figure class='code'><figcaption><span>Sample $\rm \LaTeX$ French letter with signature (ltrsign.tex)</span> <a href='/downloads/code/MaLettre/ltrsign.tex'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
</pre></td><td class='code'><pre><code class='tex'><span class='line'><span class="k">\documentclass</span><span class="na">[a4paper,12pt]</span><span class="nb">{</span>lettre<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="nb">{</span>fontspec<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="na">[frenchb]</span><span class="nb">{</span>babel<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>letter<span class="nb">}{</span>
</span><span class='line'>    Nom de destinataire <span class="k">\\</span>
</span><span class='line'>    4, boulevard de la Paix, <span class="k">\\</span>
</span><span class='line'>    12345 Nom de ville
</span><span class='line'><span class="nb">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\name</span><span class="nb">{</span><span class="k">\null</span><span class="nb">}</span>
</span><span class='line'>  <span class="k">\address</span><span class="nb">{</span>
</span><span class='line'>    Votre NOM<span class="k">\\</span>
</span><span class='line'>    23, rue à votre ville <span class="k">\\</span>
</span><span class='line'>    23456 Nom de votre ville
</span><span class='line'>  <span class="nb">}</span>
</span><span class='line'>  <span class="k">\def\sigspace</span><span class="nb">{</span>-10mm<span class="nb">}</span>
</span><span class='line'>  <span class="k">\lieu</span><span class="nb">{</span>Votre ville<span class="nb">}</span>
</span><span class='line'>  <span class="k">\telephone</span><span class="nb">{</span>01 02 03 04 05<span class="nb">}</span>
</span><span class='line'>  <span class="k">\nofax</span>
</span><span class='line'>  <span class="k">\email</span><span class="nb">{</span>fake@live.hk<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\def\concname</span><span class="nb">{</span>Objet :~<span class="nb">}</span>
</span><span class='line'>  <span class="k">\conc</span><span class="nb">{</span>Saisir votre objet<span class="nb">}</span>
</span><span class='line'>  <span class="k">\opening</span><span class="nb">{</span>Madame, Monsieur,<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'>  Un exemple d&#39;une lettre <span class="s">$</span><span class="nv">\rm</span><span class="nb"> </span><span class="nv">\LaTeX</span><span class="s">$</span> faite par <span class="k">\LaTeX</span>.  Le faux
</span><span class='line'>  texte ci-dessous est généré par le plugin Lorem Ipsum pour Vim.
</span><span class='line'>
</span><span class='line'><span class="c">% lorem{{{</span>
</span><span class='line'>  Curabitur eget nisi at lectus placerat gravida. Vivamus nulla. Donec
</span><span class='line'>  luctus. Sed quis tellus. Quisque lobortis faucibus mi. Aenean vitae
</span><span class='line'>  risus ut arcu malesuada ornare. Maecenas.
</span><span class='line'>
</span><span class='line'>  Amet, rhoncus in, ipsum. Mauris rhoncus, lacus eu convallis sagittis,
</span><span class='line'>  quam magna placerat est, vitae imperdiet mauris arcu ac dui. In ac
</span><span class='line'>  urna non justo posuere mattis. Suspendisse egestas bibendum nulla. In
</span><span class='line'>  erat nunc, posuere sed, auctor quis, pulvinar quis, mi. Mauris at est.
</span><span class='line'>  Phasellus lacinia eros in arcu. Maecenas lobortis, tellus vel gravida
</span><span class='line'>  tincidunt, elit erat suscipit arcu, in varius erat risus vel magna.
</span><span class='line'>  Fusce nec ante quis dolor vestibulum bibendum. Pellentesque sit amet
</span><span class='line'>  urna.
</span><span class='line'><span class="c">% lorem}}}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\closing</span><span class="nb">{</span>Veuillez d&#39;agréer, Madame, Monsieur, mes salutations les
</span><span class='line'>  meilleures.<span class="nb">}</span>
</span><span class='line'>  <span class="k">\begin</span><span class="nb">{</span>center<span class="nb">}</span>
</span><span class='line'>    <span class="k">\hspace</span><span class="nb">{</span>8cm<span class="nb">}</span><span class="k">\fromsig</span><span class="nb">{</span><span class="k">\includegraphics</span><span class="na">[scale=1]</span><span class="nb">{</span>sample-sign.jpg<span class="nb">}}</span><span class="k">\\</span>
</span><span class='line'>    <span class="k">\hspace</span><span class="nb">{</span>8cm<span class="nb">}</span><span class="k">\fromname</span><span class="nb">{</span>Votre NOM<span class="nb">}</span>
</span><span class='line'>  <span class="k">\end</span><span class="nb">{</span>center<span class="nb">}</span>
</span><span class='line'>  <span class="k">\encl</span><span class="nb">{</span>pièces jointes<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>letter<span class="nb">}</span>
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>The final product can be viewed by clicking the link for the
<a href="/downloads/ltrsign.pdf">sample PDF with signature</a>.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[$\rm \LaTeX$ French Letter Template]]></title>
      <link href="https://vincenttam.github.io/blog/2016/04/16/latex-french-letter-template/"/>
    
    <updated>2016-04-16T17:32:14+02:00</updated>
    <id>https://vincenttam.github.io/blog/2016/04/16/latex-french-letter-template</id>
    
      <content type="html"><![CDATA[<p>I just include the files here for future references.  Since the code
are universal, I assume that the source file and the linked PDF file
below are in public domain, despite the CC-BY-SA licence at the bottom
of this page.</p>

<p><figure class='code'><figcaption><span>Sample French $\rm \LaTeX$ letter (ltr.tex)</span> <a href='/downloads/code/MaLettre/ltr.tex'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
</pre></td><td class='code'><pre><code class='tex'><span class='line'><span class="k">\documentclass</span><span class="na">[12pt]</span><span class="nb">{</span>lettre<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="nb">{</span>fontspec<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="na">[frenchb]</span><span class="nb">{</span>babel<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>letter<span class="nb">}{</span>
</span><span class='line'>    Nom de destinataire <span class="k">\\</span>
</span><span class='line'>    4, boulevard de la Paix, <span class="k">\\</span>
</span><span class='line'>    12345 Nom de ville
</span><span class='line'><span class="nb">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\name</span><span class="nb">{</span>Votre NOM<span class="nb">}</span>
</span><span class='line'>  <span class="k">\address</span><span class="nb">{</span>
</span><span class='line'>    Votre NOM<span class="k">\\</span>
</span><span class='line'>    23, rue à votre ville <span class="k">\\</span>
</span><span class='line'>    23456 Nom de votre ville
</span><span class='line'>  <span class="nb">}</span>
</span><span class='line'>  <span class="k">\lieu</span><span class="nb">{</span>Votre ville<span class="nb">}</span>
</span><span class='line'>  <span class="k">\telephone</span><span class="nb">{</span>01 02 03 04 05<span class="nb">}</span>
</span><span class='line'>  <span class="k">\nofax</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\def\concname</span><span class="nb">{</span>Objet :~<span class="nb">}</span>
</span><span class='line'>  <span class="k">\conc</span><span class="nb">{</span>Saisir votre objet<span class="nb">}</span>
</span><span class='line'>  <span class="k">\opening</span><span class="nb">{</span>Madame, Monsieur,<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'>  Un exemple d&#39;une lettre <span class="s">$</span><span class="nv">\rm</span><span class="nb"> </span><span class="nv">\LaTeX</span><span class="s">$</span> faite par <span class="k">\LaTeX</span>.  Le faux
</span><span class='line'>  texte ci-dessous est généré par le plugin Lorem Ipsum pour Vim.
</span><span class='line'>
</span><span class='line'><span class="c">% lorem{{{</span>
</span><span class='line'>  Curabitur eget nisi at lectus placerat gravida. Vivamus nulla. Donec
</span><span class='line'>  luctus. Sed quis tellus. Quisque lobortis faucibus mi. Aenean vitae
</span><span class='line'>  risus ut arcu malesuada ornare. Maecenas.
</span><span class='line'>
</span><span class='line'>  Amet, rhoncus in, ipsum. Mauris rhoncus, lacus eu convallis sagittis,
</span><span class='line'>  quam magna placerat est, vitae imperdiet mauris arcu ac dui. In ac
</span><span class='line'>  urna non justo posuere mattis. Suspendisse egestas bibendum nulla. In
</span><span class='line'>  erat nunc, posuere sed, auctor quis, pulvinar quis, mi. Mauris at est.
</span><span class='line'>  Phasellus lacinia eros in arcu. Maecenas lobortis, tellus vel gravida
</span><span class='line'>  tincidunt, elit erat suscipit arcu, in varius erat risus vel magna.
</span><span class='line'>  Fusce nec ante quis dolor vestibulum bibendum. Pellentesque sit amet
</span><span class='line'>  urna.
</span><span class='line'><span class="c">% lorem}}}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\closing</span><span class="nb">{</span>Veuillez d&#39;agréer, Madame, Monsieur, mes salutations les
</span><span class='line'>  meilleures.<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>letter<span class="nb">}</span>
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>You may view <a href="/downloads/ltr.pdf">the output PDF</a> before downloading the above
sample.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Writting Letter With Bibliography]]></title>
      <link href="https://vincenttam.github.io/blog/2016/04/16/writting-letter-with-bibliography/"/>
    
    <updated>2016-04-16T15:39:52+02:00</updated>
    <id>https://vincenttam.github.io/blog/2016/04/16/writting-letter-with-bibliography</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>Recently, I need to write letters.  Get the formatting for addressee
and sender automatically done, I choose $\rm \LaTeX$.  I cite a book
in my letter, and try to add a bibliography at the end of the letter.</p>

<h2 id="problem">Problem</h2>

<p>During the compilation for the following letter, an error was thrown.</p>

<p><figure class='code'><figcaption><span>A failed $\rm \LaTeX$ letter (noltrbib.tex)</span> <a href='/downloads/code/MaLettre/noltrbib.tex'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
</pre></td><td class='code'><pre><code class='tex'><span class='line'><span class="k">\documentclass</span><span class="na">[12pt]</span><span class="nb">{</span>lettre<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="nb">{</span>fontspec<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="na">[frenchb]</span><span class="nb">{</span>babel<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="na">[backend=biber]</span><span class="nb">{</span>biblatex<span class="nb">}</span>
</span><span class='line'><span class="k">\addbibresource</span><span class="nb">{</span>ltrbib.bib<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="nb">{</span>csquotes<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>letter<span class="nb">}{</span>
</span><span class='line'>    Nom de destinataire <span class="k">\\</span>
</span><span class='line'>    4, boulevard de la Paix, <span class="k">\\</span>
</span><span class='line'>    12345 Nom de ville
</span><span class='line'><span class="nb">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\name</span><span class="nb">{</span>Votre NOM<span class="nb">}</span>
</span><span class='line'>  <span class="k">\address</span><span class="nb">{</span>
</span><span class='line'>    Votre NOM<span class="k">\\</span>
</span><span class='line'>    23, rue à votre ville <span class="k">\\</span>
</span><span class='line'>    23456 Nom de votre ville
</span><span class='line'>  <span class="nb">}</span>
</span><span class='line'>  <span class="k">\lieu</span><span class="nb">{</span>Votre ville<span class="nb">}</span>
</span><span class='line'>  <span class="k">\telephone</span><span class="nb">{</span>01 02 03 04 05<span class="nb">}</span>
</span><span class='line'>  <span class="k">\nofax</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\def\concname</span><span class="nb">{</span>Objet :~<span class="nb">}</span>
</span><span class='line'>  <span class="k">\conc</span><span class="nb">{</span>Saisir votre objet<span class="nb">}</span>
</span><span class='line'>  <span class="k">\opening</span><span class="nb">{</span>Madame, Monsieur,<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'>  Un exemple de citation dans un document <span class="s">$</span><span class="nv">\rm</span><span class="nb"> </span><span class="nv">\LaTeX</span><span class="s">$</span>.  <span class="k">\cite</span><span class="nb">{</span>serre<span class="nb">}</span>
</span><span class='line'>  Le faux texte ci-dessous est généré par le plugin Lorem Ipsum pour
</span><span class='line'>  Vim.
</span><span class='line'>
</span><span class='line'><span class="c">% lorem{{{</span>
</span><span class='line'>  Curabitur eget nisi at lectus placerat gravida. Vivamus nulla. Donec
</span><span class='line'>  luctus. Sed quis tellus. Quisque lobortis faucibus mi. Aenean vitae
</span><span class='line'>  risus ut arcu malesuada ornare. Maecenas.
</span><span class='line'>
</span><span class='line'>  Amet, rhoncus in, ipsum. Mauris rhoncus, lacus eu convallis sagittis,
</span><span class='line'>  quam magna placerat est, vitae imperdiet mauris arcu ac dui. In ac
</span><span class='line'>  urna non justo posuere mattis. Suspendisse egestas bibendum nulla. In
</span><span class='line'>  erat nunc, posuere sed, auctor quis, pulvinar quis, mi. Mauris at est.
</span><span class='line'>  Phasellus lacinia eros in arcu. Maecenas lobortis, tellus vel gravida
</span><span class='line'>  tincidunt, elit erat suscipit arcu, in varius erat risus vel magna.
</span><span class='line'>  Fusce nec ante quis dolor vestibulum bibendum. Pellentesque sit amet
</span><span class='line'>  urna.
</span><span class='line'><span class="c">% lorem}}}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\closing</span><span class="nb">{</span>Veuillez d&#39;agréer, Madame, Monsieur, mes salutations les
</span><span class='line'>  meilleures.<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\printbibliography</span>
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>letter<span class="nb">}</span>
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><figure class='code'><figcaption><span>A sample Bib$\rm \LaTeX$ file  (ltrbib.bib)</span> <a href='/downloads/code/MaLettre/ltrbib.bib'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='tex'><span class='line'>@BOOK<span class="nb">{</span>serre,
</span><span class='line'>    author = <span class="nb">{</span>Serre, J. P.<span class="nb">}</span>,
</span><span class='line'>    title = <span class="nb">{</span>Cours d&#39;arithmétique<span class="nb">}</span>,
</span><span class='line'>    publisher = <span class="nb">{</span>Presse Universitaire de France<span class="nb">}</span>,
</span><span class='line'>    year = <span class="nb">{</span>1970<span class="nb">}</span>,
</span><span class='line'>    edition = <span class="nb">{</span>1ère ed.<span class="nb">}</span>,
</span><span class='line'>    address = <span class="nb">{</span>Paris, France<span class="nb">}</span>,
</span><span class='line'>    pages = <span class="nb">{</span>103--106<span class="nb">}</span>,
</span><span class='line'><span class="nb">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>Here’s my compilation procedure.</p>

<pre class="cliUB"><code>$ xelatex noltrbib.tex
$ biber noltrbib
$ xelatex noltrbib.tex
This is XeTeX, Version 3.1415926-2.5-0.9999.3 (TeX Live 2013/Debian)
 restricted \write18 enabled.
...
! Undefined control sequence.
\\blx@head@bibliography [#1]-&gt;\section 
                                       *{#1}\markboth {\MakeUppercase {#1}}{...
l.52 \end
         {letter}
?
...
</code></pre>

<p>I type <code>&lt;Enter&gt;</code> at <code>?</code>, and get <a href="/downloads/noltrbib.pdf">a PDF that seems OK</a>.  You may
read the <a href="/downloads/code/MaLettre/noltrbib.log">log file for this file</a> to know more about this error.
However, each time I use $\rm \LaTeX$-Suite to compile the document
inside Vim, a quickfix window pops up.  This is quite inconvenient: I
need to use <code>&lt;C-w&gt;k</code> to switch to the original buffer or <code>ZQ</code> to close
the quickfix window.  Therefore, I am motivated to find out a solution
for this error.</p>

<!-- more -->

<h2 id="solution">Solution</h2>

<p>Luckily, I find the thread
<a href="http://www.latex-community.org/forum/viewtopic.php?f=4&amp;t=3359"><em>Environment thebibliography undefined when using letter</em></a> in
$\rm \LaTeX$ Forum extremely useful.  In my opinion, if one can
include inline code in a post in this forum, the file name
<code>letterbib.sty</code> and the command in the preamble can be shown in
monospaced font for readability.</p>

<p><figure class='code'><figcaption><span>A minimal working $\rm \LaTeX$ letter (ltrbib.tex)</span> <a href='/downloads/code/MaLettre/ltrbib.tex'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
</pre></td><td class='code'><pre><code class='tex'><span class='line'><span class="k">\documentclass</span><span class="na">[12pt]</span><span class="nb">{</span>lettre<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="nb">{</span>fontspec<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="na">[frenchb]</span><span class="nb">{</span>babel<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="na">[backend=biber]</span><span class="nb">{</span>biblatex<span class="nb">}</span>
</span><span class='line'><span class="k">\addbibresource</span><span class="nb">{</span>ltrbib.bib<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="nb">{</span>csquotes<span class="nb">}</span>
</span><span class='line'><span class="k">\usepackage</span><span class="nb">{</span>letterbib<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>
</span><span class='line'><span class="k">\begin</span><span class="nb">{</span>letter<span class="nb">}{</span>
</span><span class='line'>    Nom de destinataire <span class="k">\\</span>
</span><span class='line'>    4, boulevard de la Paix, <span class="k">\\</span>
</span><span class='line'>    12345 Nom de ville
</span><span class='line'><span class="nb">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\name</span><span class="nb">{</span>Votre NOM<span class="nb">}</span>
</span><span class='line'>  <span class="k">\address</span><span class="nb">{</span>
</span><span class='line'>    Votre NOM<span class="k">\\</span>
</span><span class='line'>    23, rue à votre ville <span class="k">\\</span>
</span><span class='line'>    23456 Nom de votre ville
</span><span class='line'>  <span class="nb">}</span>
</span><span class='line'>  <span class="k">\lieu</span><span class="nb">{</span>Votre ville<span class="nb">}</span>
</span><span class='line'>  <span class="k">\telephone</span><span class="nb">{</span>01 02 03 04 05<span class="nb">}</span>
</span><span class='line'>  <span class="k">\nofax</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\def\concname</span><span class="nb">{</span>Objet :~<span class="nb">}</span>
</span><span class='line'>  <span class="k">\conc</span><span class="nb">{</span>Saisir votre objet<span class="nb">}</span>
</span><span class='line'>  <span class="k">\opening</span><span class="nb">{</span>Madame, Monsieur,<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'>  Un exemple de citation dans un document <span class="s">$</span><span class="nv">\rm</span><span class="nb"> </span><span class="nv">\LaTeX</span><span class="s">$</span>.  <span class="k">\cite</span><span class="nb">{</span>serre<span class="nb">}</span>
</span><span class='line'>  Le faux texte ci-dessous est généré par le plugin Lorem Ipsum pour
</span><span class='line'>  Vim.
</span><span class='line'>
</span><span class='line'><span class="c">% lorem{{{</span>
</span><span class='line'>  Curabitur eget nisi at lectus placerat gravida. Vivamus nulla. Donec
</span><span class='line'>  luctus. Sed quis tellus. Quisque lobortis faucibus mi. Aenean vitae
</span><span class='line'>  risus ut arcu malesuada ornare. Maecenas.
</span><span class='line'>
</span><span class='line'>  Amet, rhoncus in, ipsum. Mauris rhoncus, lacus eu convallis sagittis,
</span><span class='line'>  quam magna placerat est, vitae imperdiet mauris arcu ac dui. In ac
</span><span class='line'>  urna non justo posuere mattis. Suspendisse egestas bibendum nulla. In
</span><span class='line'>  erat nunc, posuere sed, auctor quis, pulvinar quis, mi. Mauris at est.
</span><span class='line'>  Phasellus lacinia eros in arcu. Maecenas lobortis, tellus vel gravida
</span><span class='line'>  tincidunt, elit erat suscipit arcu, in varius erat risus vel magna.
</span><span class='line'>  Fusce nec ante quis dolor vestibulum bibendum. Pellentesque sit amet
</span><span class='line'>  urna.
</span><span class='line'><span class="c">% lorem}}}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\closing</span><span class="nb">{</span>Veuillez d&#39;agréer, Madame, Monsieur, mes salutations les
</span><span class='line'>  meilleures.<span class="nb">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">\printbibliography</span>
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>letter<span class="nb">}</span>
</span><span class='line'><span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>Finally, no compilation error is shown in the <a href="/downloads/code/MaLettre/ltrbib.log">generated log</a>.
You may view the <a href="/downloads/ltrbib.pdf">second generated PDF</a>.</p>

<h2 id="lessons-learnt">Lessons learnt</h2>

<p>To install the above STY file, which <em>isn’t</em> found on <abbr title="Comprehensive TeX Archive Network">CTAN</abbr>, one needs
to manually download it to <code>~/texmf</code> on *nix.  (Search “~/texmf” for
the way to find <a href="http://tex.stackexchange.com/a/12702">“temxf” on Win*</a>.)  Searching “texmf
linux refresh”, I find the way for a
<a href="http://www.dickimaw-books.com/latex/novices/html/texhash.html">$\rm \TeX$ database update</a>.  I miss the first argument
in the command <code>texhash ~/texmf</code>, and then the installed STY file
<em>can’t</em> be found in <code>~/texmf/ls-R</code>.</p>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[$\rm \LaTeX$-Suite in Portable Git]]></title>
      <link href="https://vincenttam.github.io/blog/2016/04/09/latex-suite-in-portable-git/"/>
    
    <updated>2016-04-09T08:34:38+02:00</updated>
    <id>https://vincenttam.github.io/blog/2016/04/09/latex-suite-in-portable-git</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>A year ago, I was using msysgit on M$ Win* 7. Its support for
Unicode characters <em>isn’t</em> so good, and I <em>can’t</em> write a text file
with accents like “café” in the Vim editor that shipped with msysgit.
As a result, I needed GVim for editing my $\rm \LaTeX$ documents.</p>

<p>Unluckily, unlike Linux, the GVim can <em>never</em> have forward control.
Therefore, I needed to switch windows between GVim and Git Bash.</p>

<p>More importantly, if I want to apply the Linux skills and the tools on
M$ Win*, I need <em>portable</em> programs excutable on a USB unless I
carry my laptop.</p>

<p>Luckily, the bash shell in Git for Windows has improved a lot.  The
accents are well supported.  Then, I have switched from GVim to the
embedded Vim in Git for Windows.  Luckily, the setup of Vundle was
smooth. Most of the installed plugins work fine in terminal Vim.</p>

<h2 id="problem-1">Problem 1</h2>

<p>In the post <a href="/blog/2016/03/20/git-portable-home-path/"><em>Git Portable Home Path</em></a>, a BAT file is included so
that the home folder and the <code>HOMEDRIVE</code> environment are automatically
set.  Since the <em>same</em> Git repository can be shared among multiple
devices, such as my Linux desktop, my M$ Win* 7 laptop, and my USB
stick, a bare repository is needed for efficient pulling and pushing
of Git commits.  Since I work outside home, I place a bare Git repo in
my USB stick.  However, for each local Git repository stored in the
USB stick (under <code>~/local_repo</code>, a.k.a.
<code>$HOMEDRIVE/PortableGit/home/owner/local_repo</code>), I need to run the
following command for each time I use Git Bash.</p>

<h2 id="problem-2">Problem 2</h2>

<p>After making some changes on a $\rm \TeX$ file, I compiled the file
using Mik$\rm \TeX$ Portable.</p>

<ol>
  <li>Browse the folder <code>$HOMEDRIVE/MikTeXPortable/</code>.</li>
  <li>Double-click on <code>miktex-portable.cmd</code>.</li>
  <li>In the Command Prompt popped up, switch to
<code>$HOMEDRIVE/PortableGit/home/owner/local_repo</code>.</li>
  <li>Type <code>pdflatex file.tex</code>.</li>
</ol>

<p>This sounds really slow.  The goal is to find a more efficient $\rm
\LaTeX$ editing workflow.</p>

<p>That’s <em>not</em> the end.  Another bad news came from <code>eu1lmr.fd</code>.  I’ve
got error similar to <a href="http://bbs.ctex.org/forum.php?mod=viewthread&amp;tid=75679">fengbaobao6’s</a>.  The compilation was
<em>stuck</em> at <code>...\tex\latex\euenc\eu1lmr.fd</code>.  Then an error was shown:
“Fontconfig error: Cannot load config file”.</p>

<!-- more -->

<h2 id="solution-1">Solution 1</h2>

<ol>
  <li>Create a file <code>~/.bashrc</code> if it <em>doesn’t</em> exist.</li>
  <li>Write an array consisting of all local Git repositories saved in
the USB stick in BASHRC.</li>
  <li>Then Write a for loop to reset the remote location.</li>
</ol>

<h2 id="solution-2">Solution 2</h2>

<p>Searching the error text, I found kounoupis’s answer on
<a href="http://askubuntu.com/a/708541">Ask Ubuntu</a>.  Even though the <code>export</code> command <em>didn’t</em>
work for me, I still found his answer informative.</p>

<p>Finally, reading <code>miktex-portable.cmd</code>, I gave up on investigating the
problem, and added the last line of this file into BASHRC since I have
other important things to do.</p>

<p><figure class='code'><figcaption><span>Actual CMD file found in Mik$\rm \TeX$ Portable  (miktex-portable.cmd)</span> <a href='/downloads/code/miktex-portable.cmd'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bat'><span class='line'><span class="p">@</span><span class="k">echo</span> <span class="k">off</span>
</span><span class='line'><span class="k">cd</span> <span class="n">/d</span> <span class="nv">%~dp0</span>
</span><span class='line'>miktex\bin\miktex-taskbar-icon.exe
</span></code></pre></td></tr></table></div></figure></p>

<p>To include Mik$\rm \TeX$ into <code>PATH</code>, I first extracted <code>$HOMEDRIVE</code>
in the form <code>/f</code> instead of <code>F:/</code>.  If not, Mik$\rm \TeX$ <em>won’t</em>
work.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Here’s my BASHRC for Git Bash.</p>

<p><figure class='code'><figcaption><span>My BASHRC (bashrc)</span> <a href='/downloads/code/bashrc'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'><span class="vg">stty</span><span class="w"> </span><span class="o">-</span><span class="vg">ixon</span>
</span><span class='line'><span class="vg">cd</span><span class="w"> </span><span class="o">~</span>
</span><span class='line'>
</span><span class='line'><span class="vg">HOMEDRIVE</span><span class="o">=</span><span class="err">$</span><span class="p">(</span><span class="vg">perl</span><span class="w"> </span><span class="o">-</span><span class="vg">e</span><span class="w"> </span><span class="c1">&#39;($var) = $ENV{HOMEDRIVE} =~ /([A-Z]):/; print &quot;/&quot;.lc($1)&#39;)</span>
</span><span class='line'><span class="vg">if</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">$</span><span class="p">(</span><span class="vg">perl</span><span class="w"> </span><span class="o">-</span><span class="vg">e</span><span class="w"> </span><span class="c1">&#39;($var) = $ENV{PATH} !~ /tex/i; print STDOUT $var&#39;) ]</span>
</span><span class='line'><span class="vg">then</span>
</span><span class='line'><span class="w">    </span><span class="vg">echo</span><span class="w"> </span><span class="err">&quot;</span><span class="vg">No</span><span class="w"> </span><span class="vg">LaTeX</span><span class="w"> </span><span class="vg">found!</span><span class="w">  </span><span class="vg">Added</span><span class="w"> </span><span class="err">$</span><span class="vg">HOMEDRIVE</span><span class="o">/</span><span class="vg">MikTeXPortable</span><span class="o">/</span><span class="vg">miktex</span><span class="o">/</span><span class="vg">bin</span>
</span><span class='line'><span class="w">    </span><span class="vg">to</span><span class="w"> </span><span class="vg">path</span><span class="o">.</span><span class="err">&quot;</span>
</span><span class='line'><span class="w">    </span><span class="vg">PATH</span><span class="o">=</span><span class="err">$</span><span class="nl">PATH:</span><span class="err">$</span><span class="vg">HOMEDRIVE</span><span class="o">/</span><span class="vg">MikTeXPortable</span><span class="o">/</span><span class="vg">miktex</span><span class="o">/</span><span class="vg">bin</span>
</span><span class='line'><span class="w">    </span><span class="vg">echo</span><span class="w"> </span><span class="s2">&quot;IMPORTANT: Close MikTeX Taskbar icon before exit.&quot;</span>
</span><span class='line'><span class="w">    </span><span class="vg">echo</span><span class="w"> </span><span class="s2">&quot;Otherwise this shell WON&#39;T close.&quot;</span>
</span><span class='line'><span class="w">    </span><span class="vg">miktex</span><span class="o">-</span><span class="vg">taskbar</span><span class="o">-</span><span class="vg">icon</span>
</span><span class='line'><span class="vg">fi</span>
</span><span class='line'>
</span><span class='line'><span class="vg">loc_repo</span><span class="o">=</span><span class="p">(</span>
</span><span class='line'><span class="c1">&#39;resume2015&#39;</span>
</span><span class='line'><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="vg">for</span><span class="w"> </span><span class="vg">f</span><span class="w"> </span><span class="vg">in</span><span class="w"> </span><span class="err">$</span><span class="p">{</span><span class="vg">loc_repo</span><span class="p">[</span><span class="err">@</span><span class="p">]};</span><span class="w"> </span><span class="vg">do</span>
</span><span class='line'><span class="w">    </span><span class="vg">cd</span><span class="w"> </span><span class="err">$</span><span class="vg">f</span>
</span><span class='line'><span class="w">    </span><span class="vg">git</span><span class="w"> </span><span class="vg">remote</span><span class="w"> </span><span class="vg">set</span><span class="o">-</span><span class="vg">url</span><span class="w"> </span><span class="vg">origin</span><span class="w"> </span><span class="err">$</span><span class="vg">HOMEDRIVE</span><span class="o">/</span><span class="err">$</span><span class="vg">f</span><span class="o">.</span><span class="vg">git</span>
</span><span class='line'><span class="w">    </span><span class="vg">cd</span><span class="w"> </span><span class="o">-</span>
</span><span class='line'><span class="vg">done</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>If the setup is correct, then <code>\ll</code> in $\rm \LaTeX$-Suite should
automatically trigger the $\rm \LaTeX$ compilation.  I give up on
finding ways to open a viewer with <code>\lv</code> since I can use the keyboard
to switch to a web browser to see the compiled PDF file <em>without</em>
installing another PDF viewer in my USB stick.</p>

<h2 id="lessons-learnt">Lessons learnt</h2>

<p>I’ve learnt some Perl and bash after writing this BASHRC.</p>

<ol>
  <li>A little bit of Perl
    <ul>
      <li><code>$ENV{HOMEDRIVE}</code> for extracting the environment variable
  <code>HOMEDRIVE</code>.</li>
      <li><code>/(regex_pat)/;</code> for extracting matching string to capture
  groups <code>$1</code>, <code>$2</code>…  (The <code>()</code> around <code>regex_pat</code> is
  <em>crucial</em>.)</li>
      <li><code>.</code> for string concatenation.</li>
      <li><code>lc()</code> for converting a string to lowercase.</li>
    </ul>
  </li>
  <li>Bash for loop writing: described in <a href="/blog/2016/04/08/loop-through-an-array-having-only-one-element-in-bash/">one of my recent posts</a>.</li>
</ol>

]]></content>
    
  </entry>
  
  <entry>
    
      <title type="html"><![CDATA[Mik$\rm \TeX$ Update (2)]]></title>
      <link href="https://vincenttam.github.io/blog/2016/02/21/miktex-update-2/"/>
    
    <updated>2016-02-21T15:37:20+01:00</updated>
    <id>https://vincenttam.github.io/blog/2016/02/21/miktex-update-2</id>
    
      <content type="html"><![CDATA[<h2 id="background">Background</h2>

<p>I need to write something in $\rm \LaTeX$.</p>

<h2 id="problem">Problem</h2>

<p>I <em>can’t</em> get any update by clicking “Update Mik$\rm \TeX$” in the
icon triggered by <code>miktex-portable.cmd</code>.  I faced the same problem as
<a href="http://tex.stackexchange.com/q/251242">rantrave’s</a>.</p>

<!-- more -->

<h2 id="discussion">Discussion</h2>

<p>If one urgently needs to get the updated version of a particular
package, one may directly download the LZMA file.<sup id="fnref:pp1"><a href="#fn:pp1" class="footnote">1</a></sup>  Actually, the
remote package repositories are still <em>online</em>.  I guess the problem
is in Mik$\rm \TeX$ update tool.  Anyways, I am still grateful for the
effort of its developers.</p>

<h2 id="resolution">Resolution</h2>

<p>The easiest way is to sit there and <em>wait for a day</em>.  Then the
problem will be <em>gone</em>.  It is possible that some difficulties occur,
but they can be overcome.</p>

<picture class="fancybox" title="Windows API error 145">
  <source srcset="/images/posts/MikTeXUpdate2/api-err.png" media="(min-width: 460px)" />
  <img alt="Windows API error 145" width="300" src="https://vincenttam.github.io/images/posts/MikTeXUpdate2/api-err.png" />
</picture>

<p><figure class='code'><figcaption><span>I clicked “Copy Info” and got this.  (err-2016-02-22-22-00.txt)</span> <a href='/downloads/code/miktex-update2/err-2016-02-22-22-00.txt'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>MiKTeX Problem Report
</span><span class='line'>Message: Windows API error 145: The directory is not empty.
</span><span class='line'>
</span><span class='line'>Data: C:\Temp\MikTeXPortable\miktex\temp\mik8012
</span><span class='line'>Source: Libraries\MiKTeX\Core\win\winFile.cpp
</span><span class='line'>Line: 115
</span><span class='line'>MiKTeX: 2.9
</span><span class='line'>OS: Microsoft Windows 7 Home Premium Edition, 64-bit Service Pack 1 (build 7601)
</span><span class='line'>Invokers: non-existing/miktex-taskbar-icon
</span><span class='line'>SystemAdmin: no
</span><span class='line'>PowerUser: no
</span><span class='line'>Root0: C:\Temp\MikTeXPortable
</span><span class='line'>Root1: C:\localtexmf
</span><span class='line'>UserInstall: C:\Temp\MikTeXPortable
</span><span class='line'>UserConfig: C:\Temp\MikTeXPortable
</span><span class='line'>UserData: C:\Temp\MikTeXPortable
</span><span class='line'>CommonInstall: C:\Temp\MikTeXPortable
</span><span class='line'>CommonConfig: C:\Temp\MikTeXPortable
</span><span class='line'>CommonData: C:\Temp\MikTeXPortable
</span></code></pre></td></tr></table></div></figure></p>

<p>From <a href="/blog/2015/06/09/miktex-update/"><em>Mik$\rm \LaTeX$ Update</em></a>, I know that only the “Update
Mik$\rm \TeX$” in the menu triggered by clicking the small icon will
work.  The update wizard inside the big window for the package manager
<em>won’t</em>.</p>

<p>Sometimes, the chosen remote package repository can fail.  In this
case, just click the button and search for another one.</p>

<p><figure class='code'><figcaption><span>An example of failed update.  (update-2016-02-21-20-19.txt)</span> <a href='/downloads/code/miktex-update2/update-2016-02-21-20-19.txt'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>MiKTeX Update Wizard Report
</span><span class='line'>
</span><span class='line'>Version: 2.9.4913
</span><span class='line'>Date: Sunday, February 21, 2016
</span><span class='line'>Time: 20:19:02
</span><span class='line'>starting package maintenance...
</span><span class='line'>installation directory: C:\Temp\MikTeXPortable
</span><span class='line'>package repository: http://ftp.yzu.edu.tw/CTAN/systems/win32/miktex/tm/packages/
</span><span class='line'>lightweight database digest: d913ba0ad3c9c47c3e7a3e6e11863874
</span><span class='line'>going to download 6130048 bytes
</span><span class='line'>going to install 10 file(s) (1 package(s))
</span><span class='line'>going to remove 35 file(s) (4 package(s))
</span><span class='line'>downloading http://ftp.yzu.edu.tw/CTAN/systems/win32/miktex/tm/packages/miktex-bin-2.9.tar.lzma...
</span><span class='line'>6130048 bytes, 1452.65 KB/Sec
</span><span class='line'>extracting files from miktex-bin-2.9.tar.lzma...
</span><span class='line'>removing package miktex-freetype-bin-2.9...
</span><span class='line'>removing package miktex-qt4-bin-2.9...
</span><span class='line'>removing package miktex-texinfo-bin-2.9...
</span><span class='line'>removing package miktex-vc100-bin...
</span><span class='line'>
</span><span class='line'>Error: The MiKTeX package management utility could not be found.
</span></code></pre></td></tr></table></div></figure></p>

<h2 id="lessons-learnt">Lessons learnt</h2>

<p>When there’s nothing can be done, then one needs the mind of
non-action or non-being.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:pp1">

      <p>For example, the situation described in
<a href="/blog/2015/06/09/miktex-update/"><em>Mik$\rm \LaTeX$ Update</em></a>. <a href="#fnref:pp1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
    
  </entry>
  
</feed>
