---
layout: post
title: "W3C Validator and SVGPan"
date: 2015-06-01 18:08:54 +0800
comments: true
categories: [SVG, web technologies]
---

Background
---

Similar to that of my recent post
[*Added W3C Validated Logos to Some Pages*][pp]—to get my SVG code
validated by W3C.

I'm now using [SVGPan] for the zoom and drag functionality in SVG
images generated from PDF files which are generated by `xelatex` from
$\rm \LaTeX$ source code for [TikZ] pictures.[^pp_svgpan]

Problem
---

I submited my SVG file to the W3C's validator, which showed me one
error.  To illustrate this, I used an sample SVG in the official web
site of SVGPan as an example.

<picture class="fancybox" title="SVGPan's SVG validation test result">
<source srcset="/images/posts/W3CSVG/err1292.png"
media="(min-width: 1292px)"></source>
<source srcset="/images/posts/W3CSVG/err471.png"
media="(min-width: 471px)"></source>
<img alt="SVGPan's SVG validation fails"
src="/images/posts/W3CSVG/err300.png" />
</picture>

<!-- more -->

Solution
---

Googling for something likes "svg script type" helps.  As can be seen,
the last `>` is underlined, so I guessed that this kind of
self-closing tags *wouldn't* the test.  Just like HTML, change this to
`<script ...></script>`.  From what I'd seen online, I set the `type`
attribute to `text/ecmascript`, and luckily this *works*.

Lessons learnt
---

For valid SVG files which embed SVGPan, the following items are
necessary:

1. A type declaration at the very beginning
2. A `<script>` tag with appropriate `xlink:href` and `type`
attributes.

---
[^pp_svgpan]:
    Refer to [*Zooming SVG in Web Browsers*][pp2] in *Blog 1* for
    details.

[pp]: /blog/2015/05/23/added-w3c-validated-logos-to-some-pages/
[SVGPan]: https://www.cyberz.org/blog/2009/12/08/svgpan-a-javascript-svg-panzoomdrag-library/
[TikZ]: http://www.texample.net/tikz/
[pp2]: /blog/2014/08/02/zooming-svg-in-web-browsers/

*[W3C]: World Wide Web Consortium
