{% comment %}
  Add content to be output at the bottom of each page. (You might use this for analytics scripts, for example)
{% endcomment %}

<!-- Defer loading of JavaScripts -->
<script type="text/javascript" charset="utf-8">
function downloadJSAtOnload() {
  // MathJax
  var mjscript = document.createElement("script");
  mjscript.src = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML,https://vincenttam.github.io/javascripts/MathJaxLocal.js";
  mjscript.type = "text/javascript";
  document.body.appendChild(mjscript);

  // Default JavaScripts
  var modernizr = document.createElement("script");
  modernizr.src = "{{ root_url }}/javascripts/modernizr-2.0.js";
  document.body.appendChild(modernizr);
  var jqri = document.createElement("script");
  jqri.src = "//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js";
  document.body.appendChild(jqri);
  var octjs = document.createElement("script");
  octjs.src = "{{ root_url }}/javascripts/octopress.js";
  octjs.type = "text/javascript";
  document.body.appendChild(octjs);

  // FancyBox
  jqri.onload = function () {
    var fbjs = document.createElement("script");
    fbjs.src = "/fancybox/source/jquery.fancybox.pack.js?v=2.1.5";
    fbjs.type = "text/javascript";
    document.body.appendChild(fbjs);
    var fbbtnjs = document.createElement("script");
    fbbtnjs.src = "/fancybox/source/helpers/jquery.fancybox-buttons.js?v=1.0.5";
    fbbtnjs.type = "text/javascript";
    document.body.appendChild(fbbtnjs);
    var fbmedjs = document.createElement("script");
    fbmedjs.src = "/fancybox/source/helpers/jquery.fancybox-media.js?v=1.0.6";
    fbmedjs.type = "text/javascript";
    document.body.appendChild(fbmedjs);
    var fbthmjs = document.createElement("script");
    fbthmjs.src = "/fancybox/source/helpers/jquery.fancybox-thumbs.js?v=1.0.7";
    fbthmjs.type = "text/javascript";
    document.body.appendChild(fbthmjs);

    // FancyBox local config
    var fblocjs = document.createElement("script");
    fblocjs.src = "/javascripts/FancyBoxLocal.js";
    fblocjs.type = "text/javascript";
    document.body.appendChild(fblocjs);
  }
}

if (window.addEventListener) {
  window.addEventListener("load", downloadJSAtOnload, false);
} else if (window.attachEvent) {
  window.attachEvent("onload", downloadJSAtOnload);
} else {
  window.onload = downloadJSAtOnload;
}

var cb = function() {
  var h = document.getElementsByTagName('head')[0];

  // Fonts from Google's Web font directory at http://google.com/webfonts
  var font1 = document.createElement("link");
  font1.href = "//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic";
  font1.rel = "stylesheet";
  font1.type = "text/css";
  h.parentNode.insertBefore(font1, h);

  var font2 = document.createElement("link");
  font2.href = "//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic";
  font2.rel = "stylesheet";
  font2.type = "text/css";
  h.parentNode.insertBefore(font2, h);

  var fontub = document.createElement("link");
  fontub.href = "//fonts.googleapis.com/css?family=Ubuntu+Mono:400,700";
  fontub.rel = "stylesheet";
  fontub.type = "text/css";
  h.parentNode.insertBefore(fontub, h);

  // screen.css
  var l = document.createElement("link");
  l.href = "{{ root_url }}/stylesheets/screen.css";
  l.media = "screen, projection";
  l.rel = "stylesheet";
  l.type = "text/css";
  h.parentNode.insertBefore(l, h);

  // table css
  var tcss = document.createElement("link");
  tcss.href = "/stylesheets/data-table.css";
  tcss.media = "screen, projection";
  tcss.rel = "stylesheet";
  tcss.type = "text/css";
  h.parentNode.insertBefore(tcss, h);

  var fbcss = document.createElement("link");
  fbcss.href = "/fancybox/source/jquery.fancybox.css?v=2.1.5";
  fbcss.rel = "stylesheet";
  fbcss.type = "text/css";
  fbcss.media = "screen";
  document.body.appendChild(fbcss);
  var fbbtncss = document.createElement("link");
  fbbtncss.href = "/fancybox/source/helpers/jquery.fancybox-buttons.css?v=1.0.5";
  fbbtncss.rel = "stylesheet";
  fbbtncss.type = "text/css";
  fbbtncss.media = "screen";
  document.body.appendChild(fbbtncss);
  var fbthmcss = document.createElement("link");
  fbthmcss.href = "/fancybox/source/helpers/jquery.fancybox-thumbs.css?v=1.0.7";
  fbthmcss.rel = "stylesheet";
  fbthmcss.type = "text/css";
  fbthmcss.media = "screen";
  document.body.appendChild(fbthmcss);

};

var raf = requestAnimationFrame || mozRequestAnimationFrame ||
    webkitRequestAnimationFrame || msRequestAnimationFrame;
if (raf) raf(cb);
else window.addEventListener('load', cb);
</script>
